(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function Cp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var mu={exports:{}},lr={};var tg;function kp(){if(tg)return lr;tg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:l,type:s,key:h,ref:c!==void 0?c:null,props:d}}return lr.Fragment=a,lr.jsx=r,lr.jsxs=r,lr}var ng;function zp(){return ng||(ng=1,mu.exports=kp()),mu.exports}var v=zp(),vu={exports:{}},he={};var ag;function Up(){if(ag)return he;ag=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,K={};function C(S,q,I){this.props=S,this.context=q,this.refs=K,this.updater=I||U}C.prototype.isReactComponent={},C.prototype.setState=function(S,q){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,q,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function D(){}D.prototype=C.prototype;function Y(S,q,I){this.props=S,this.context=q,this.refs=K,this.updater=I||U}var Z=Y.prototype=new D;Z.constructor=Y,N(Z,C.prototype),Z.isPureReactComponent=!0;var ue=Array.isArray;function F(){}var J={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function H(S,q,I){var X=I.ref;return{$$typeof:l,type:S,key:q,ref:X!==void 0?X:null,props:I}}function re(S,q){return H(S.type,q,S.props)}function me(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function ne(S){var q={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(I){return q[I]})}var ce=/\/+/g;function Se(S,q){return typeof S=="object"&&S!==null&&S.key!=null?ne(""+S.key):q.toString(36)}function de(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(F,F):(S.status="pending",S.then(function(q){S.status==="pending"&&(S.status="fulfilled",S.value=q)},function(q){S.status==="pending"&&(S.status="rejected",S.reason=q)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,q,I,X,oe){var pe=typeof S;(pe==="undefined"||pe==="boolean")&&(S=null);var Ae=!1;if(S===null)Ae=!0;else switch(pe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(S.$$typeof){case l:case a:Ae=!0;break;case x:return Ae=S._init,A(Ae(S._payload),q,I,X,oe)}}if(Ae)return oe=oe(S),Ae=X===""?"."+Se(S,0):X,ue(oe)?(I="",Ae!=null&&(I=Ae.replace(ce,"$&/")+"/"),A(oe,q,I,"",function(fi){return fi})):oe!=null&&(me(oe)&&(oe=re(oe,I+(oe.key==null||S&&S.key===oe.key?"":(""+oe.key).replace(ce,"$&/")+"/")+Ae)),q.push(oe)),1;Ae=0;var ut=X===""?".":X+":";if(ue(S))for(var Ye=0;Ye<S.length;Ye++)X=S[Ye],pe=ut+Se(X,Ye),Ae+=A(X,q,I,pe,oe);else if(Ye=O(S),typeof Ye=="function")for(S=Ye.call(S),Ye=0;!(X=S.next()).done;)X=X.value,pe=ut+Se(X,Ye++),Ae+=A(X,q,I,pe,oe);else if(pe==="object"){if(typeof S.then=="function")return A(de(S),q,I,X,oe);throw q=String(S),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function V(S,q,I){if(S==null)return S;var X=[],oe=0;return A(S,X,"","",function(pe){return q.call(I,pe,oe++)}),X}function M(S){if(S._status===-1){var q=S._result;q=q(),q.then(function(I){(S._status===0||S._status===-1)&&(S._status=1,S._result=I)},function(I){(S._status===0||S._status===-1)&&(S._status=2,S._result=I)}),S._status===-1&&(S._status=0,S._result=q)}if(S._status===1)return S._result.default;throw S._result}var ae=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},fe={map:V,forEach:function(S,q,I){V(S,function(){q.apply(this,arguments)},I)},count:function(S){var q=0;return V(S,function(){q++}),q},toArray:function(S){return V(S,function(q){return q})||[]},only:function(S){if(!me(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return he.Activity=w,he.Children=fe,he.Component=C,he.Fragment=r,he.Profiler=c,he.PureComponent=Y,he.StrictMode=s,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,he.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},he.cache=function(S){return function(){return S.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(S,q,I){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var X=N({},S.props),oe=S.key;if(q!=null)for(pe in q.key!==void 0&&(oe=""+q.key),q)!G.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(X[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)X.children=I;else if(1<pe){for(var Ae=Array(pe),ut=0;ut<pe;ut++)Ae[ut]=arguments[ut+2];X.children=Ae}return H(S.type,oe,X)},he.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},he.createElement=function(S,q,I){var X,oe={},pe=null;if(q!=null)for(X in q.key!==void 0&&(pe=""+q.key),q)G.call(q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=q[X]);var Ae=arguments.length-2;if(Ae===1)oe.children=I;else if(1<Ae){for(var ut=Array(Ae),Ye=0;Ye<Ae;Ye++)ut[Ye]=arguments[Ye+2];oe.children=ut}if(S&&S.defaultProps)for(X in Ae=S.defaultProps,Ae)oe[X]===void 0&&(oe[X]=Ae[X]);return H(S,pe,oe)},he.createRef=function(){return{current:null}},he.forwardRef=function(S){return{$$typeof:g,render:S}},he.isValidElement=me,he.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:M}},he.memo=function(S,q){return{$$typeof:p,type:S,compare:q===void 0?null:q}},he.startTransition=function(S){var q=J.T,I={};J.T=I;try{var X=S(),oe=J.S;oe!==null&&oe(I,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(F,ae)}catch(pe){ae(pe)}finally{q!==null&&I.types!==null&&(q.types=I.types),J.T=q}},he.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},he.use=function(S){return J.H.use(S)},he.useActionState=function(S,q,I){return J.H.useActionState(S,q,I)},he.useCallback=function(S,q){return J.H.useCallback(S,q)},he.useContext=function(S){return J.H.useContext(S)},he.useDebugValue=function(){},he.useDeferredValue=function(S,q){return J.H.useDeferredValue(S,q)},he.useEffect=function(S,q){return J.H.useEffect(S,q)},he.useEffectEvent=function(S){return J.H.useEffectEvent(S)},he.useId=function(){return J.H.useId()},he.useImperativeHandle=function(S,q,I){return J.H.useImperativeHandle(S,q,I)},he.useInsertionEffect=function(S,q){return J.H.useInsertionEffect(S,q)},he.useLayoutEffect=function(S,q){return J.H.useLayoutEffect(S,q)},he.useMemo=function(S,q){return J.H.useMemo(S,q)},he.useOptimistic=function(S,q){return J.H.useOptimistic(S,q)},he.useReducer=function(S,q,I){return J.H.useReducer(S,q,I)},he.useRef=function(S){return J.H.useRef(S)},he.useState=function(S){return J.H.useState(S)},he.useSyncExternalStore=function(S,q,I){return J.H.useSyncExternalStore(S,q,I)},he.useTransition=function(){return J.H.useTransition()},he.version="19.2.3",he}var ig;function Iu(){return ig||(ig=1,vu.exports=Up()),vu.exports}var W=Iu();const Dp=Cp(W);var bu={exports:{}},sr={},_u={exports:{}},wu={};var rg;function Mp(){return rg||(rg=1,(function(l){function a(A,V){var M=A.length;A.push(V);e:for(;0<M;){var ae=M-1>>>1,fe=A[ae];if(0<c(fe,V))A[ae]=V,A[M]=fe,M=ae;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var V=A[0],M=A.pop();if(M!==V){A[0]=M;e:for(var ae=0,fe=A.length,S=fe>>>1;ae<S;){var q=2*(ae+1)-1,I=A[q],X=q+1,oe=A[X];if(0>c(I,M))X<fe&&0>c(oe,I)?(A[ae]=oe,A[X]=M,ae=X):(A[ae]=I,A[q]=M,ae=q);else if(X<fe&&0>c(oe,M))A[ae]=oe,A[X]=M,ae=X;else break e}}return V}function c(A,V){var M=A.sortIndex-V.sortIndex;return M!==0?M:A.id-V.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();l.unstable_now=function(){return h.now()-g}}var y=[],p=[],x=1,w=null,T=3,O=!1,U=!1,N=!1,K=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Z(A){for(var V=r(p);V!==null;){if(V.callback===null)s(p);else if(V.startTime<=A)s(p),V.sortIndex=V.expirationTime,a(y,V);else break;V=r(p)}}function ue(A){if(N=!1,Z(A),!U)if(r(y)!==null)U=!0,F||(F=!0,ne());else{var V=r(p);V!==null&&de(ue,V.startTime-A)}}var F=!1,J=-1,G=5,H=-1;function re(){return K?!0:!(l.unstable_now()-H<G)}function me(){if(K=!1,F){var A=l.unstable_now();H=A;var V=!0;try{e:{U=!1,N&&(N=!1,D(J),J=-1),O=!0;var M=T;try{t:{for(Z(A),w=r(y);w!==null&&!(w.expirationTime>A&&re());){var ae=w.callback;if(typeof ae=="function"){w.callback=null,T=w.priorityLevel;var fe=ae(w.expirationTime<=A);if(A=l.unstable_now(),typeof fe=="function"){w.callback=fe,Z(A),V=!0;break t}w===r(y)&&s(y),Z(A)}else s(y);w=r(y)}if(w!==null)V=!0;else{var S=r(p);S!==null&&de(ue,S.startTime-A),V=!1}}break e}finally{w=null,T=M,O=!1}V=void 0}}finally{V?ne():F=!1}}}var ne;if(typeof Y=="function")ne=function(){Y(me)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Se=ce.port2;ce.port1.onmessage=me,ne=function(){Se.postMessage(null)}}else ne=function(){C(me,0)};function de(A,V){J=C(function(){A(l.unstable_now())},V)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(A){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var M=T;T=V;try{return A()}finally{T=M}},l.unstable_requestPaint=function(){K=!0},l.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=T;T=A;try{return V()}finally{T=M}},l.unstable_scheduleCallback=function(A,V,M){var ae=l.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ae+M:ae):M=ae,A){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=M+fe,A={id:x++,callback:V,priorityLevel:A,startTime:M,expirationTime:fe,sortIndex:-1},M>ae?(A.sortIndex=M,a(p,A),r(y)===null&&A===r(p)&&(N?(D(J),J=-1):N=!0,de(ue,M-ae))):(A.sortIndex=fe,a(y,A),U||O||(U=!0,F||(F=!0,ne()))),A},l.unstable_shouldYield=re,l.unstable_wrapCallback=function(A){var V=T;return function(){var M=T;T=V;try{return A.apply(this,arguments)}finally{T=M}}}})(wu)),wu}var lg;function Np(){return lg||(lg=1,_u.exports=Mp()),_u.exports}var Su={exports:{}},ot={};var sg;function Bp(){if(sg)return ot;sg=1;var l=Iu();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:y,containerInfo:p,implementation:x}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ot.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,x)},ot.flushSync=function(y){var p=h.T,x=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=p,s.p=x,s.d.f()}},ot.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},ot.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ot.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,w=g(x,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:O}):x==="script"&&s.d.X(y,{crossOrigin:w,integrity:T,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},ot.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,w=g(x,p.crossOrigin);s.d.L(y,x,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},ot.requestFormReset=function(y){s.d.r(y)},ot.unstable_batchedUpdates=function(y,p){return y(p)},ot.useFormState=function(y,p,x){return h.H.useFormState(y,p,x)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var og;function Lg(){if(og)return Su.exports;og=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Su.exports=Bp(),Su.exports}var ug;function Lp(){if(ug)return sr;ug=1;var l=Np(),a=Iu(),r=Lg();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return y(o),e;if(u===i)return y(o),t;u=u.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=u;else{for(var f=!1,m=o.child;m;){if(m===n){f=!0,n=o,i=u;break}if(m===i){f=!0,i=o,n=u;break}m=m.sibling}if(!f){for(m=u.child;m;){if(m===n){f=!0,n=u,i=o;break}if(m===i){f=!0,i=u,n=o;break}m=m.sibling}if(!f)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case C:return"Profiler";case K:return"StrictMode";case ue:return"Suspense";case F:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Y:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}var de=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},ae=[],fe=-1;function S(e){return{current:e}}function q(e){0>fe||(e.current=ae[fe],ae[fe]=null,fe--)}function I(e,t){fe++,ae[fe]=e.current,e.current=t}var X=S(null),oe=S(null),pe=S(null),Ae=S(null);function ut(e,t){switch(I(pe,t),I(oe,e),I(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tf(t),e=Ef(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(X),I(X,e)}function Ye(){q(X),q(oe),q(pe)}function fi(e){e.memoizedState!==null&&I(Ae,e);var t=X.current,n=Ef(t,e.type);t!==n&&(I(oe,e),I(X,n))}function Sr(e){oe.current===e&&(q(X),q(oe)),Ae.current===e&&(q(Ae),nr._currentValue=M)}var Fl,Pu;function Kn(e){if(Fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||"",Pu=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fl+e+Pu}var Pl=!1;function es(e,t){if(!e||Pl)return"";Pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(z){var k=z}Reflect.construct(e,[],$)}else{try{$.call()}catch(z){k=z}e.call($.prototype)}}else{try{throw Error()}catch(z){k=z}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(z){if(z&&k&&typeof z.stack=="string")return[z.stack,k.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),f=u[0],m=u[1];if(f&&m){var b=f.split(`
`),R=m.split(`
`);for(o=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(i===b.length||o===R.length)for(i=b.length-1,o=R.length-1;1<=i&&0<=o&&b[i]!==R[o];)o--;for(;1<=i&&0<=o;i--,o--)if(b[i]!==R[o]){if(i!==1||o!==1)do if(i--,o--,0>o||b[i]!==R[o]){var B=`
`+b[i].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=i&&0<=o);break}}}finally{Pl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Kn(n):""}function s0(e,t){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return e.child!==t&&t!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return Kn("Activity");default:return""}}function ec(e){try{var t="",n=null;do t+=s0(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ts=Object.prototype.hasOwnProperty,ns=l.unstable_scheduleCallback,as=l.unstable_cancelCallback,o0=l.unstable_shouldYield,u0=l.unstable_requestPaint,vt=l.unstable_now,c0=l.unstable_getCurrentPriorityLevel,tc=l.unstable_ImmediatePriority,nc=l.unstable_UserBlockingPriority,xr=l.unstable_NormalPriority,d0=l.unstable_LowPriority,ac=l.unstable_IdlePriority,h0=l.log,f0=l.unstable_setDisableYieldValue,gi=null,bt=null;function vn(e){if(typeof h0=="function"&&f0(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(gi,e)}catch{}}var _t=Math.clz32?Math.clz32:p0,g0=Math.log,y0=Math.LN2;function p0(e){return e>>>=0,e===0?32:31-(g0(e)/y0|0)|0}var Tr=256,Er=262144,Ar=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Or(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var m=i&134217727;return m!==0?(i=m&~u,i!==0?o=In(i):(f&=m,f!==0?o=In(f):n||(n=m&~e,n!==0&&(o=In(n))))):(m=i&~u,m!==0?o=In(m):f!==0?o=In(f):n||(n=i&~e,n!==0&&(o=In(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function yi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function m0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var e=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),e}function is(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function v0(e,t,n,i,o,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,b=e.expirationTimes,R=e.hiddenUpdates;for(n=f&~n;0<n;){var B=31-_t(n),$=1<<B;m[B]=0,b[B]=-1;var k=R[B];if(k!==null)for(R[B]=null,B=0;B<k.length;B++){var z=k[B];z!==null&&(z.lane&=-536870913)}n&=~$}i!==0&&rc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function rc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-_t(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function lc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-_t(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function sc(e,t){var n=t&-t;return n=(n&42)!==0?1:rs(n),(n&(e.suspendedLanes|t))!==0?0:n}function rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ls(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oc(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Xf(e.type))}function uc(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var bn=Math.random().toString(36).slice(2),tt="__reactFiber$"+bn,dt="__reactProps$"+bn,ma="__reactContainer$"+bn,ss="__reactEvents$"+bn,b0="__reactListeners$"+bn,_0="__reactHandles$"+bn,cc="__reactResources$"+bn,mi="__reactMarker$"+bn;function os(e){delete e[tt],delete e[dt],delete e[ss],delete e[b0],delete e[_0]}function va(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zf(e);e!==null;){if(n=e[tt])return n;e=zf(e)}return t}e=n,n=e.parentNode}return null}function ba(e){if(e=e[tt]||e[ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function _a(e){var t=e[cc];return t||(t=e[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[mi]=!0}var dc=new Set,hc={};function Jn(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(hc[e]=t,e=0;e<t.length;e++)dc.add(t[e])}var w0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},gc={};function S0(e){return ts.call(gc,e)?!0:ts.call(fc,e)?!1:w0.test(e)?gc[e]=!0:(fc[e]=!0,!1)}function jr(e,t,n){if(S0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x0(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){if(!e._valueTracker){var t=yc(e)?"checked":"value";e._valueTracker=x0(e,t,""+e[t])}}function pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=yc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var T0=/[\n"\\]/g;function zt(e){return e.replace(T0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cs(e,t,n,i,o,u,f,m){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?ds(e,f,kt(t)):n!=null?ds(e,f,kt(n)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+kt(m):e.removeAttribute("name")}function mc(e,t,n,i,o,u,f,m){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){us(e);return}n=n!=null?""+kt(n):"",t=t!=null?""+kt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=m?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),us(e)}function ds(e,t,n){t==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Sa(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+kt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function vc(e,t,n){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+kt(n):""}function bc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(de(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=kt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),us(e)}function xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var E0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||E0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&_c(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&_c(e,u,t[u])}function hs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(e){return O0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ft(){}var fs=null;function gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,Ea=null;function Sc(e){var t=ba(e);if(t&&(e=t.stateNode)){var n=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(cs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[dt]||null;if(!o)throw Error(s(90));cs(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&pc(i)}break e;case"textarea":vc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Sa(e,!!n.multiple,t,!1)}}}var ys=!1;function xc(e,t,n){if(ys)return e(t,n);ys=!0;try{var i=e(t);return i}finally{if(ys=!1,(Ta!==null||Ea!==null)&&(vl(),Ta&&(t=Ta,e=Ea,Ea=Ta=null,Sc(t),e)))for(t=0;t<e.length;t++)Sc(e[t])}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[dt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Pt)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){ps=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{ps=!1}var _n=null,ms=null,zr=null;function Tc(){if(zr)return zr;var e,t=ms,n=t.length,i,o="value"in _n?_n.value:_n.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===o[u-i];i++);return zr=o.slice(e,1<i?1-i:void 0)}function Ur(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dr(){return!0}function Ec(){return!1}function ht(e){function t(n,i,o,u,f){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(u):u[m]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Dr:Ec,this.isPropagationStopped=Ec,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=ht(Xn),wi=w({},Xn,{view:0,detail:0}),j0=ht(wi),vs,bs,Si,Nr=w({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(vs=e.screenX-Si.screenX,bs=e.screenY-Si.screenY):bs=vs=0,Si=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),Ac=ht(Nr),R0=w({},Nr,{dataTransfer:0}),C0=ht(R0),k0=w({},wi,{relatedTarget:0}),_s=ht(k0),z0=w({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=ht(z0),D0=w({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M0=ht(D0),N0=w({},Xn,{data:0}),Oc=ht(N0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q0[e])?!!t[e]:!1}function ws(){return H0}var $0=w({},wi,{key:function(e){if(e.key){var t=B0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?Ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G0=ht($0),Y0=w({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=ht(Y0),V0=w({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),K0=ht(V0),I0=w({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=ht(I0),X0=w({},Nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=ht(X0),Z0=w({},Xn,{newState:0,oldState:0}),W0=ht(Z0),F0=[9,13,27,32],Ss=Pt&&"CompositionEvent"in window,xi=null;Pt&&"documentMode"in document&&(xi=document.documentMode);var P0=Pt&&"TextEvent"in window&&!xi,Rc=Pt&&(!Ss||xi&&8<xi&&11>=xi),Cc=" ",kc=!1;function zc(e,t){switch(e){case"keyup":return F0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function ey(e,t){switch(e){case"compositionend":return Uc(t);case"keypress":return t.which!==32?null:(kc=!0,Cc);case"textInput":return e=t.data,e===Cc&&kc?null:e;default:return null}}function ty(e,t){if(Aa)return e==="compositionend"||!Ss&&zc(e,t)?(e=Tc(),zr=ms=_n=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rc&&t.locale!=="ko"?null:t.data;default:return null}}var ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ny[e.type]:t==="textarea"}function Mc(e,t,n,i){Ta?Ea?Ea.push(i):Ea=[i]:Ta=i,t=El(t,"onChange"),0<t.length&&(n=new Mr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ti=null,Ei=null;function ay(e){vf(e,0)}function Br(e){var t=vi(e);if(pc(t))return e}function Nc(e,t){if(e==="change")return t}var Bc=!1;if(Pt){var xs;if(Pt){var Ts="oninput"in document;if(!Ts){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Ts=typeof Lc.oninput=="function"}xs=Ts}else xs=!1;Bc=xs&&(!document.documentMode||9<document.documentMode)}function qc(){Ti&&(Ti.detachEvent("onpropertychange",Hc),Ei=Ti=null)}function Hc(e){if(e.propertyName==="value"&&Br(Ei)){var t=[];Mc(t,Ei,e,gs(e)),xc(ay,t)}}function iy(e,t,n){e==="focusin"?(qc(),Ti=t,Ei=n,Ti.attachEvent("onpropertychange",Hc)):e==="focusout"&&qc()}function ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Br(Ei)}function ly(e,t){if(e==="click")return Br(t)}function sy(e,t){if(e==="input"||e==="change")return Br(t)}function oy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:oy;function Ai(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ts.call(t,o)||!wt(e[o],t[o]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,t){var n=$c(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$c(n)}}function Yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cr(e.document)}return t}function Es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uy=Pt&&"documentMode"in document&&11>=document.documentMode,Oa=null,As=null,Oi=null,Os=!1;function Kc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Os||Oa==null||Oa!==Cr(i)||(i=Oa,"selectionStart"in i&&Es(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oi&&Ai(Oi,i)||(Oi=i,i=El(As,"onSelect"),0<i.length&&(t=new Mr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Oa)))}function Qn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},js={},Ic={};Pt&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Zn(e){if(js[e])return js[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ic)return js[e]=t[n];return e}var Jc=Zn("animationend"),Xc=Zn("animationiteration"),Qc=Zn("animationstart"),cy=Zn("transitionrun"),dy=Zn("transitionstart"),hy=Zn("transitioncancel"),Zc=Zn("transitionend"),Wc=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function $t(e,t){Wc.set(e,t),Jn(t,[e])}var Lr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Ra=0,Cs=0;function qr(){for(var e=Ra,t=Cs=Ra=0;t<e;){var n=Ut[t];Ut[t++]=null;var i=Ut[t];Ut[t++]=null;var o=Ut[t];Ut[t++]=null;var u=Ut[t];if(Ut[t++]=null,i!==null&&o!==null){var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}u!==0&&Fc(n,o,u)}}function Hr(e,t,n,i){Ut[Ra++]=e,Ut[Ra++]=t,Ut[Ra++]=n,Ut[Ra++]=i,Cs|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function ks(e,t,n,i){return Hr(e,t,n,i),$r(e)}function Wn(e,t){return Hr(e,null,null,t),$r(e)}function Fc(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-_t(n),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),u):null}function $r(e){if(50<Qi)throw Qi=0,$o=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ca={};function fy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,i){return new fy(e,t,n,i)}function zs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Pc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gr(e,t,n,i,o,u){var f=0;if(i=e,typeof e=="function")zs(e)&&(f=1);else if(typeof e=="string")f=vp(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=St(31,n,t,o),e.elementType=H,e.lanes=u,e;case N:return Fn(n.children,o,u,t);case K:f=8,o|=24;break;case C:return e=St(12,n,t,o|2),e.elementType=C,e.lanes=u,e;case ue:return e=St(13,n,t,o),e.elementType=ue,e.lanes=u,e;case F:return e=St(19,n,t,o),e.elementType=F,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:f=10;break e;case D:f=9;break e;case Z:f=11;break e;case J:f=14;break e;case G:f=16,i=null;break e}f=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=St(f,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function Fn(e,t,n,i){return e=St(7,e,i,t),e.lanes=n,e}function Us(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function ed(e){var t=St(18,null,null,0);return t.stateNode=e,t}function Ds(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var td=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var n=td.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ec(t)},td.set(e,t),t)}return{value:e,source:t,stack:ec(t)}}var ka=[],za=0,Yr=null,ji=0,Mt=[],Nt=0,wn=null,Jt=1,Xt="";function tn(e,t){ka[za++]=ji,ka[za++]=Yr,Yr=e,ji=t}function nd(e,t,n){Mt[Nt++]=Jt,Mt[Nt++]=Xt,Mt[Nt++]=wn,wn=e;var i=Jt;e=Xt;var o=32-_t(i)-1;i&=~(1<<o),n+=1;var u=32-_t(t)+o;if(30<u){var f=o-o%5;u=(i&(1<<f)-1).toString(32),i>>=f,o-=f,Jt=1<<32-_t(t)+o|n<<o|i,Xt=u+e}else Jt=1<<u|n<<o|i,Xt=e}function Ms(e){e.return!==null&&(tn(e,1),nd(e,1,0))}function Ns(e){for(;e===Yr;)Yr=ka[--za],ka[za]=null,ji=ka[--za],ka[za]=null;for(;e===wn;)wn=Mt[--Nt],Mt[Nt]=null,Xt=Mt[--Nt],Mt[Nt]=null,Jt=Mt[--Nt],Mt[Nt]=null}function ad(e,t){Mt[Nt++]=Jt,Mt[Nt++]=Xt,Mt[Nt++]=wn,Jt=t.id,Xt=t.overflow,wn=e}var nt=null,Me=null,xe=!1,Sn=null,Bt=!1,Bs=Error(s(519));function xn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Dt(t,e)),Bs}function id(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[tt]=e,t[dt]=i,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<Wi.length;n++)be(Wi[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),mc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),bc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Sf(t.textContent,n)?(i.popover!=null&&(be("beforetoggle",t),be("toggle",t)),i.onScroll!=null&&be("scroll",t),i.onScrollEnd!=null&&be("scrollend",t),i.onClick!=null&&(t.onclick=Ft),t=!0):t=!1,t||xn(e,!0)}function rd(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:nt=nt.return}}function Ua(e){if(e!==nt)return!1;if(!xe)return rd(e),xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nu(e.type,e.memoizedProps)),n=!n),n&&Me&&xn(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=kf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=kf(e)}else t===27?(t=Me,Bn(e.type)?(e=su,su=null,Me=e):Me=t):Me=nt?qt(e.stateNode.nextSibling):null;return!0}function Pn(){Me=nt=null,xe=!1}function Ls(){var e=Sn;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),Sn=null),e}function Ri(e){Sn===null?Sn=[e]:Sn.push(e)}var qs=S(null),ea=null,nn=null;function Tn(e,t,n){I(qs,t._currentValue),t._currentValue=n}function an(e){e._currentValue=qs.current,q(qs)}function Hs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function $s(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var m=u;u=o;for(var b=0;b<t.length;b++)if(m.context===t[b]){u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),Hs(u.return,n,e),i||(f=null);break e}u=m.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(s(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),Hs(f,n,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function Da(e,t,n,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(s(387));if(f=f.memoizedProps,f!==null){var m=o.type;wt(o.pendingProps.value,f.value)||(e!==null?e.push(m):e=[m])}}else if(o===Ae.current){if(f=o.alternate,f===null)throw Error(s(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(nr):e=[nr])}o=o.return}e!==null&&$s(t,e,n,i),t.flags|=262144}function Vr(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){ea=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return ld(ea,e)}function Kr(e,t){return ea===null&&ta(e),ld(e,t)}function ld(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},nn===null){if(e===null)throw Error(s(308));nn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else nn=nn.next=t;return n}var gy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},yy=l.unstable_scheduleCallback,py=l.unstable_NormalPriority,Ie={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gs(){return{controller:new gy,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&yy(py,function(){e.controller.abort()})}var ki=null,Ys=0,Ma=0,Na=null;function my(e,t){if(ki===null){var n=ki=[];Ys=0,Ma=Jo(),Na={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ys++,t.then(sd,sd),t}function sd(){if(--Ys===0&&ki!==null){Na!==null&&(Na.status="fulfilled");var e=ki;ki=null,Ma=0,Na=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vy(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var od=A.S;A.S=function(e,t){Kh=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&my(e,t),od!==null&&od(e,t)};var na=S(null);function Vs(){var e=na.current;return e!==null?e:Ue.pooledCache}function Ir(e,t){t===null?I(na,na.current):I(na,t.pool)}function ud(){var e=Vs();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ba=Error(s(460)),Ks=Error(s(474)),Jr=Error(s(542)),Xr={then:function(){}};function cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ft,Ft),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fd(e),e;default:if(typeof t.status=="string")t.then(Ft,Ft);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fd(e),e}throw ia=t,Ba}}function aa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ia=n,Ba):n}}var ia=null;function hd(){if(ia===null)throw Error(s(459));var e=ia;return ia=null,e}function fd(e){if(e===Ba||e===Jr)throw Error(s(483))}var La=null,zi=0;function Qr(e){var t=zi;return zi+=1,La===null&&(La=[]),dd(La,e,t)}function Ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zr(e,t){throw t.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gd(e){function t(E,_){if(e){var j=E.deletions;j===null?(E.deletions=[_],E.flags|=16):j.push(_)}}function n(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function i(E){for(var _=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function o(E,_){return E=en(E,_),E.index=0,E.sibling=null,E}function u(E,_,j){return E.index=j,e?(j=E.alternate,j!==null?(j=j.index,j<_?(E.flags|=67108866,_):j):(E.flags|=67108866,_)):(E.flags|=1048576,_)}function f(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function m(E,_,j,L){return _===null||_.tag!==6?(_=Us(j,E.mode,L),_.return=E,_):(_=o(_,j),_.return=E,_)}function b(E,_,j,L){var te=j.type;return te===N?B(E,_,j.props.children,L,j.key):_!==null&&(_.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===G&&aa(te)===_.type)?(_=o(_,j.props),Ui(_,j),_.return=E,_):(_=Gr(j.type,j.key,j.props,null,E.mode,L),Ui(_,j),_.return=E,_)}function R(E,_,j,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==j.containerInfo||_.stateNode.implementation!==j.implementation?(_=Ds(j,E.mode,L),_.return=E,_):(_=o(_,j.children||[]),_.return=E,_)}function B(E,_,j,L,te){return _===null||_.tag!==7?(_=Fn(j,E.mode,L,te),_.return=E,_):(_=o(_,j),_.return=E,_)}function $(E,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Us(""+_,E.mode,j),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O:return j=Gr(_.type,_.key,_.props,null,E.mode,j),Ui(j,_),j.return=E,j;case U:return _=Ds(_,E.mode,j),_.return=E,_;case G:return _=aa(_),$(E,_,j)}if(de(_)||ne(_))return _=Fn(_,E.mode,j,null),_.return=E,_;if(typeof _.then=="function")return $(E,Qr(_),j);if(_.$$typeof===Y)return $(E,Kr(E,_),j);Zr(E,_)}return null}function k(E,_,j,L){var te=_!==null?_.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return te!==null?null:m(E,_,""+j,L);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return j.key===te?b(E,_,j,L):null;case U:return j.key===te?R(E,_,j,L):null;case G:return j=aa(j),k(E,_,j,L)}if(de(j)||ne(j))return te!==null?null:B(E,_,j,L,null);if(typeof j.then=="function")return k(E,_,Qr(j),L);if(j.$$typeof===Y)return k(E,_,Kr(E,j),L);Zr(E,j)}return null}function z(E,_,j,L,te){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return E=E.get(j)||null,m(_,E,""+L,te);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return E=E.get(L.key===null?j:L.key)||null,b(_,E,L,te);case U:return E=E.get(L.key===null?j:L.key)||null,R(_,E,L,te);case G:return L=aa(L),z(E,_,j,L,te)}if(de(L)||ne(L))return E=E.get(j)||null,B(_,E,L,te,null);if(typeof L.then=="function")return z(E,_,j,Qr(L),te);if(L.$$typeof===Y)return z(E,_,j,Kr(_,L),te);Zr(_,L)}return null}function Q(E,_,j,L){for(var te=null,Te=null,P=_,ye=_=0,we=null;P!==null&&ye<j.length;ye++){P.index>ye?(we=P,P=null):we=P.sibling;var Ee=k(E,P,j[ye],L);if(Ee===null){P===null&&(P=we);break}e&&P&&Ee.alternate===null&&t(E,P),_=u(Ee,_,ye),Te===null?te=Ee:Te.sibling=Ee,Te=Ee,P=we}if(ye===j.length)return n(E,P),xe&&tn(E,ye),te;if(P===null){for(;ye<j.length;ye++)P=$(E,j[ye],L),P!==null&&(_=u(P,_,ye),Te===null?te=P:Te.sibling=P,Te=P);return xe&&tn(E,ye),te}for(P=i(P);ye<j.length;ye++)we=z(P,E,ye,j[ye],L),we!==null&&(e&&we.alternate!==null&&P.delete(we.key===null?ye:we.key),_=u(we,_,ye),Te===null?te=we:Te.sibling=we,Te=we);return e&&P.forEach(function(Gn){return t(E,Gn)}),xe&&tn(E,ye),te}function ie(E,_,j,L){if(j==null)throw Error(s(151));for(var te=null,Te=null,P=_,ye=_=0,we=null,Ee=j.next();P!==null&&!Ee.done;ye++,Ee=j.next()){P.index>ye?(we=P,P=null):we=P.sibling;var Gn=k(E,P,Ee.value,L);if(Gn===null){P===null&&(P=we);break}e&&P&&Gn.alternate===null&&t(E,P),_=u(Gn,_,ye),Te===null?te=Gn:Te.sibling=Gn,Te=Gn,P=we}if(Ee.done)return n(E,P),xe&&tn(E,ye),te;if(P===null){for(;!Ee.done;ye++,Ee=j.next())Ee=$(E,Ee.value,L),Ee!==null&&(_=u(Ee,_,ye),Te===null?te=Ee:Te.sibling=Ee,Te=Ee);return xe&&tn(E,ye),te}for(P=i(P);!Ee.done;ye++,Ee=j.next())Ee=z(P,E,ye,Ee.value,L),Ee!==null&&(e&&Ee.alternate!==null&&P.delete(Ee.key===null?ye:Ee.key),_=u(Ee,_,ye),Te===null?te=Ee:Te.sibling=Ee,Te=Ee);return e&&P.forEach(function(Rp){return t(E,Rp)}),xe&&tn(E,ye),te}function ze(E,_,j,L){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case O:e:{for(var te=j.key;_!==null;){if(_.key===te){if(te=j.type,te===N){if(_.tag===7){n(E,_.sibling),L=o(_,j.props.children),L.return=E,E=L;break e}}else if(_.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===G&&aa(te)===_.type){n(E,_.sibling),L=o(_,j.props),Ui(L,j),L.return=E,E=L;break e}n(E,_);break}else t(E,_);_=_.sibling}j.type===N?(L=Fn(j.props.children,E.mode,L,j.key),L.return=E,E=L):(L=Gr(j.type,j.key,j.props,null,E.mode,L),Ui(L,j),L.return=E,E=L)}return f(E);case U:e:{for(te=j.key;_!==null;){if(_.key===te)if(_.tag===4&&_.stateNode.containerInfo===j.containerInfo&&_.stateNode.implementation===j.implementation){n(E,_.sibling),L=o(_,j.children||[]),L.return=E,E=L;break e}else{n(E,_);break}else t(E,_);_=_.sibling}L=Ds(j,E.mode,L),L.return=E,E=L}return f(E);case G:return j=aa(j),ze(E,_,j,L)}if(de(j))return Q(E,_,j,L);if(ne(j)){if(te=ne(j),typeof te!="function")throw Error(s(150));return j=te.call(j),ie(E,_,j,L)}if(typeof j.then=="function")return ze(E,_,Qr(j),L);if(j.$$typeof===Y)return ze(E,_,Kr(E,j),L);Zr(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,_!==null&&_.tag===6?(n(E,_.sibling),L=o(_,j),L.return=E,E=L):(n(E,_),L=Us(j,E.mode,L),L.return=E,E=L),f(E)):n(E,_)}return function(E,_,j,L){try{zi=0;var te=ze(E,_,j,L);return La=null,te}catch(P){if(P===Ba||P===Jr)throw P;var Te=St(29,P,null,E.mode);return Te.lanes=L,Te.return=E,Te}}}var ra=gd(!0),yd=gd(!1),En=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Oe&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=$r(e),Fc(e,null,n),t}return Hr(e,i,t,n),$r(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lc(e,n)}}function Xs(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Qs=!1;function Mi(){if(Qs){var e=Na;if(e!==null)throw e}}function Ni(e,t,n,i){Qs=!1;var o=e.updateQueue;En=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var b=m,R=b.next;b.next=null,f===null?u=R:f.next=R,f=b;var B=e.alternate;B!==null&&(B=B.updateQueue,m=B.lastBaseUpdate,m!==f&&(m===null?B.firstBaseUpdate=R:m.next=R,B.lastBaseUpdate=b))}if(u!==null){var $=o.baseState;f=0,B=R=b=null,m=u;do{var k=m.lane&-536870913,z=k!==m.lane;if(z?(_e&k)===k:(i&k)===k){k!==0&&k===Ma&&(Qs=!0),B!==null&&(B=B.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var Q=e,ie=m;k=t;var ze=n;switch(ie.tag){case 1:if(Q=ie.payload,typeof Q=="function"){$=Q.call(ze,$,k);break e}$=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ie.payload,k=typeof Q=="function"?Q.call(ze,$,k):Q,k==null)break e;$=w({},$,k);break e;case 2:En=!0}}k=m.callback,k!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[k]:z.push(k))}else z={lane:k,tag:m.tag,payload:m.payload,callback:m.callback,next:null},B===null?(R=B=z,b=$):B=B.next=z,f|=k;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;z=m,m=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);B===null&&(b=$),o.baseState=b,o.firstBaseUpdate=R,o.lastBaseUpdate=B,u===null&&(o.shared.lanes=0),zn|=f,e.lanes=f,e.memoizedState=$}}function pd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function md(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)pd(n[e],t)}var qa=S(null),Wr=S(0);function vd(e,t){e=fn,I(Wr,e),I(qa,t),fn=e|t.baseLanes}function Zs(){I(Wr,fn),I(qa,qa.current)}function Ws(){fn=Wr.current,q(qa),q(Wr)}var xt=S(null),Lt=null;function jn(e){var t=e.alternate;I(Ve,Ve.current&1),I(xt,e),Lt===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(Lt=e)}function Fs(e){I(Ve,Ve.current),I(xt,e),Lt===null&&(Lt=e)}function bd(e){e.tag===22?(I(Ve,Ve.current),I(xt,e),Lt===null&&(Lt=e)):Rn()}function Rn(){I(Ve,Ve.current),I(xt,xt.current)}function Tt(e){q(xt),Lt===e&&(Lt=null),q(Ve)}var Ve=S(0);function Fr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ru(n)||lu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rn=0,ge=null,Ce=null,Je=null,Pr=!1,Ha=!1,la=!1,el=0,Bi=0,$a=null,by=0;function He(){throw Error(s(321))}function Ps(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function eo(e,t,n,i,o,u){return rn=u,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?nh:po,la=!1,u=n(i,o),la=!1,Ha&&(u=wd(t,n,i,o)),_d(e),u}function _d(e){A.H=Hi;var t=Ce!==null&&Ce.next!==null;if(rn=0,Je=Ce=ge=null,Pr=!1,Bi=0,$a=null,t)throw Error(s(300));e===null||Xe||(e=e.dependencies,e!==null&&Vr(e)&&(Xe=!0))}function wd(e,t,n,i){ge=e;var o=0;do{if(Ha&&($a=null),Bi=0,Ha=!1,25<=o)throw Error(s(301));if(o+=1,Je=Ce=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}A.H=ah,u=t(n,i)}while(Ha);return u}function _y(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ge.flags|=1024),t}function to(){var e=el!==0;return el=0,e}function no(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(Pr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pr=!1}rn=0,Je=Ce=ge=null,Ha=!1,Bi=el=0,$a=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ge.memoizedState=Je=e:Je=Je.next=e,Je}function Ke(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Je===null?ge.memoizedState:Je.next;if(t!==null)Je=t,Ce=e;else{if(e===null)throw ge.alternate===null?Error(s(467)):Error(s(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Je===null?ge.memoizedState=Je=e:Je=Je.next=e}return Je}function tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=Bi;return Bi+=1,$a===null&&($a=[]),e=dd($a,e,t),t=ge,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?nh:po),e}function nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===Y)return at(e)}throw Error(s(438,String(e)))}function io(e){var t=null,n=ge.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ge.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=tl(),ge.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=re;return t.index++,n}function ln(e,t){return typeof t=="function"?t(e):t}function al(e){var t=Ke();return ro(t,Ce,e)}function ro(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var m=f=null,b=null,R=t,B=!1;do{var $=R.lane&-536870913;if($!==R.lane?(_e&$)===$:(rn&$)===$){var k=R.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),$===Ma&&(B=!0);else if((rn&k)===k){R=R.next,k===Ma&&(B=!0);continue}else $={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(m=b=$,f=u):b=b.next=$,ge.lanes|=k,zn|=k;$=R.action,la&&n(u,$),u=R.hasEagerState?R.eagerState:n(u,$)}else k={lane:$,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(m=b=k,f=u):b=b.next=k,ge.lanes|=$,zn|=$;R=R.next}while(R!==null&&R!==t);if(b===null?f=u:b.next=m,!wt(u,e.memoizedState)&&(Xe=!0,B&&(n=Na,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=b,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function lo(e){var t=Ke(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);wt(u,t.memoizedState)||(Xe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function Sd(e,t,n){var i=ge,o=Ke(),u=xe;if(u){if(n===void 0)throw Error(s(407));n=n()}else n=t();var f=!wt((Ce||o).memoizedState,n);if(f&&(o.memoizedState=n,Xe=!0),o=o.queue,uo(Ed.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,Ga(9,{destroy:void 0},Td.bind(null,i,o,n,t),null),Ue===null)throw Error(s(349));u||(rn&127)!==0||xd(i,t,n)}return n}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t=tl(),ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Td(e,t,n,i){t.value=n,t.getSnapshot=i,Ad(t)&&Od(e)}function Ed(e,t,n){return n(function(){Ad(t)&&Od(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function Od(e){var t=Wn(e,2);t!==null&&mt(t,e,2)}function so(e){var t=ct();if(typeof e=="function"){var n=e;if(e=n(),la){vn(!0);try{n()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},t}function jd(e,t,n,i){return e.baseState=n,ro(e,Ce,typeof i=="function"?i:ln)}function wy(e,t,n,i,o){if(ll(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};A.T!==null?n(!0):u.isTransition=!1,i(u),n=t.pending,n===null?(u.next=t.pending=u,Rd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Rd(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=A.T,f={};A.T=f;try{var m=n(o,i),b=A.S;b!==null&&b(f,m),Cd(e,t,m)}catch(R){oo(e,t,R)}finally{u!==null&&f.types!==null&&(u.types=f.types),A.T=u}}else try{u=n(o,i),Cd(e,t,u)}catch(R){oo(e,t,R)}}function Cd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){kd(e,t,i)},function(i){return oo(e,t,i)}):kd(e,t,n)}function kd(e,t,n){t.status="fulfilled",t.value=n,zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Rd(e,n)))}function oo(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,zd(t),t=t.next;while(t!==i)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ud(e,t){return t}function Dd(e,t){if(xe){var n=Ue.formState;if(n!==null){e:{var i=ge;if(xe){if(Me){t:{for(var o=Me,u=Bt;o.nodeType!==8;){if(!u){o=null;break t}if(o=qt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Me=qt(o.nextSibling),i=o.data==="F!";break e}}xn(i)}i=!1}i&&(t=n[0])}}return n=ct(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:t},n.queue=i,n=Pd.bind(null,ge,i),i.dispatch=n,i=so(!1),u=yo.bind(null,ge,!1,i.queue),i=ct(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=wy.bind(null,ge,o,u,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Md(e){var t=Ke();return Nd(t,Ce,e)}function Nd(e,t,n){if(t=ro(e,t,Ud)[0],e=al(ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Li(t)}catch(f){throw f===Ba?Jr:f}else i=t;t=Ke();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ge.flags|=2048,Ga(9,{destroy:void 0},Sy.bind(null,o,n),null)),[i,u,e]}function Sy(e,t){e.action=t}function Bd(e){var t=Ke(),n=Ce;if(n!==null)return Nd(t,n,e);Ke(),t=t.memoizedState,n=Ke();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ga(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ge.updateQueue,t===null&&(t=tl(),ge.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ld(){return Ke().memoizedState}function il(e,t,n,i){var o=ct();ge.flags|=e,o.memoizedState=Ga(1|t,{destroy:void 0},n,i===void 0?null:i)}function rl(e,t,n,i){var o=Ke();i=i===void 0?null:i;var u=o.memoizedState.inst;Ce!==null&&i!==null&&Ps(i,Ce.memoizedState.deps)?o.memoizedState=Ga(t,u,n,i):(ge.flags|=e,o.memoizedState=Ga(1|t,u,n,i))}function qd(e,t){il(8390656,8,e,t)}function uo(e,t){rl(2048,8,e,t)}function xy(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=tl(),ge.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Hd(e){var t=Ke().memoizedState;return xy({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function $d(e,t){return rl(4,2,e,t)}function Gd(e,t){return rl(4,4,e,t)}function Yd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){n=n!=null?n.concat([e]):null,rl(4,4,Yd.bind(null,t,e),n)}function co(){}function Kd(e,t){var n=Ke();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ps(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Id(e,t){var n=Ke();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ps(t,i[1]))return i[0];if(i=e(),la){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[i,t],i}function ho(e,t,n){return n===void 0||(rn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Jh(),ge.lanes|=e,zn|=e,n)}function Jd(e,t,n,i){return wt(n,t)?n:qa.current!==null?(e=ho(e,n,i),wt(e,t)||(Xe=!0),e):(rn&42)===0||(rn&1073741824)!==0&&(_e&261930)===0?(Xe=!0,e.memoizedState=n):(e=Jh(),ge.lanes|=e,zn|=e,t)}function Xd(e,t,n,i,o){var u=V.p;V.p=u!==0&&8>u?u:8;var f=A.T,m={};A.T=m,yo(e,!1,t,n);try{var b=o(),R=A.S;if(R!==null&&R(m,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var B=vy(b,i);qi(e,t,B,Ot(e))}else qi(e,t,i,Ot(e))}catch($){qi(e,t,{then:function(){},status:"rejected",reason:$},Ot())}finally{V.p=u,f!==null&&m.types!==null&&(f.types=m.types),A.T=f}}function Ty(){}function fo(e,t,n,i){if(e.tag!==5)throw Error(s(476));var o=Qd(e).queue;Xd(e,o,t,M,n===null?Ty:function(){return Zd(e),n(i)})}function Qd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:M},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Qd(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},Ot())}function go(){return at(nr)}function Wd(){return Ke().memoizedState}function Fd(){return Ke().memoizedState}function Ey(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=An(n);var i=On(t,e,n);i!==null&&(mt(i,t,n),Di(i,t,n)),t={cache:Gs()},e.payload=t;return}t=t.return}}function Ay(e,t,n){var i=Ot();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ll(e)?eh(t,n):(n=ks(e,t,n,i),n!==null&&(mt(n,e,i),th(n,t,i)))}function Pd(e,t,n){var i=Ot();qi(e,t,n,i)}function qi(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ll(e))eh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,m=u(f,n);if(o.hasEagerState=!0,o.eagerState=m,wt(m,f))return Hr(e,t,o,0),Ue===null&&qr(),!1}catch{}if(n=ks(e,t,o,i),n!==null)return mt(n,e,i),th(n,t,i),!0}return!1}function yo(e,t,n,i){if(i={lane:2,revertLane:Jo(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(t)throw Error(s(479))}else t=ks(e,n,i,2),t!==null&&mt(t,e,2)}function ll(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function eh(e,t){Ha=Pr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function th(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lc(e,n)}}var Hi={readContext:at,use:nl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Hi.useEffectEvent=He;var nh={readContext:at,use:nl,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:qd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,il(4194308,4,Yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){il(4,2,e,t)},useMemo:function(e,t){var n=ct();t=t===void 0?null:t;var i=e();if(la){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ct();if(n!==void 0){var o=n(t);if(la){vn(!0);try{n(t)}finally{vn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Ay.bind(null,ge,e),[i.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=so(e);var t=e.queue,n=Pd.bind(null,ge,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:co,useDeferredValue:function(e,t){var n=ct();return ho(n,e,t)},useTransition:function(){var e=so(!1);return e=Xd.bind(null,ge,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ge,o=ct();if(xe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ue===null)throw Error(s(349));(_e&127)!==0||xd(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,qd(Ed.bind(null,i,u,e),[e]),i.flags|=2048,Ga(9,{destroy:void 0},Td.bind(null,i,u,n,t),null),n},useId:function(){var e=ct(),t=Ue.identifierPrefix;if(xe){var n=Xt,i=Jt;n=(i&~(1<<32-_t(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=by++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:go,useFormState:Dd,useActionState:Dd,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=yo.bind(null,ge,!0,n),n.dispatch=t,[e,t]},useMemoCache:io,useCacheRefresh:function(){return ct().memoizedState=Ey.bind(null,ge)},useEffectEvent:function(e){var t=ct(),n={impl:e};return t.memoizedState=n,function(){if((Oe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},po={readContext:at,use:nl,useCallback:Kd,useContext:at,useEffect:uo,useImperativeHandle:Vd,useInsertionEffect:$d,useLayoutEffect:Gd,useMemo:Id,useReducer:al,useRef:Ld,useState:function(){return al(ln)},useDebugValue:co,useDeferredValue:function(e,t){var n=Ke();return Jd(n,Ce.memoizedState,e,t)},useTransition:function(){var e=al(ln)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Sd,useId:Wd,useHostTransitionStatus:go,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=Ke();return jd(n,Ce,e,t)},useMemoCache:io,useCacheRefresh:Fd};po.useEffectEvent=Hd;var ah={readContext:at,use:nl,useCallback:Kd,useContext:at,useEffect:uo,useImperativeHandle:Vd,useInsertionEffect:$d,useLayoutEffect:Gd,useMemo:Id,useReducer:lo,useRef:Ld,useState:function(){return lo(ln)},useDebugValue:co,useDeferredValue:function(e,t){var n=Ke();return Ce===null?ho(n,e,t):Jd(n,Ce.memoizedState,e,t)},useTransition:function(){var e=lo(ln)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Sd,useId:Wd,useHostTransitionStatus:go,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var n=Ke();return Ce!==null?jd(n,Ce,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:io,useCacheRefresh:Fd};ah.useEffectEvent=Hd;function mo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ot(),o=An(i);o.payload=t,n!=null&&(o.callback=n),t=On(e,o,i),t!==null&&(mt(t,e,i),Di(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ot(),o=An(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=On(e,o,i),t!==null&&(mt(t,e,i),Di(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),i=An(n);i.tag=2,t!=null&&(i.callback=t),t=On(e,i,n),t!==null&&(mt(t,e,n),Di(t,e,n))}};function ih(e,t,n,i,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,i)||!Ai(o,u):!0}function rh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function lh(e){Lr(e)}function sh(e){console.error(e)}function oh(e){Lr(e)}function sl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function uh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function bo(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){sl(e,t)},n}function ch(e){return e=An(e),e.tag=3,e}function dh(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){uh(t,n,i)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){uh(t,n,i),typeof o!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})})}function Oy(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Da(t,n,o,!0),n=xt.current,n!==null){switch(n.tag){case 31:case 13:return Lt===null?bl():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Xr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Vo(e,i,o)),!1;case 22:return n.flags|=65536,i===Xr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Vo(e,i,o)),!1}throw Error(s(435,n.tag))}return Vo(e,i,o),bl(),!1}if(xe)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Bs&&(e=Error(s(422),{cause:i}),Ri(Dt(e,n)))):(i!==Bs&&(t=Error(s(423),{cause:i}),Ri(Dt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Dt(i,n),o=bo(e.stateNode,i,o),Xs(e,o),$e!==4&&($e=2)),!1;var u=Error(s(520),{cause:i});if(u=Dt(u,n),Xi===null?Xi=[u]:Xi.push(u),$e!==4&&($e=2),t===null)return!0;i=Dt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=bo(n.stateNode,i,e),Xs(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Un===null||!Un.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=ch(o),dh(o,e,n,i),Xs(n,o),!1}n=n.return}while(n!==null);return!1}var _o=Error(s(461)),Xe=!1;function it(e,t,n,i){t.child=e===null?yd(t,null,n,i):ra(t,e.child,n,i)}function hh(e,t,n,i,o){n=n.render;var u=t.ref;if("ref"in i){var f={};for(var m in i)m!=="ref"&&(f[m]=i[m])}else f=i;return ta(t),i=eo(e,t,n,f,u,o),m=to(),e!==null&&!Xe?(no(e,t,o),sn(e,t,o)):(xe&&m&&Ms(t),t.flags|=1,it(e,t,i,o),t.child)}function fh(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!zs(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,gh(e,t,u,i,o)):(e=Gr(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!jo(e,o)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(f,i)&&e.ref===t.ref)return sn(e,t,o)}return t.flags|=1,e=en(u,i),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(Ai(u,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=u,jo(e,o))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,sn(e,t,o)}return wo(e,t,n,i,o)}function yh(e,t,n,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return ph(e,t,u,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ir(t,u!==null?u.cachePool:null),u!==null?vd(t,u):Zs(),bd(t);else return i=t.lanes=536870912,ph(e,t,u!==null?u.baseLanes|n:n,n,i)}else u!==null?(Ir(t,u.cachePool),vd(t,u),Rn(),t.memoizedState=null):(e!==null&&Ir(t,null),Zs(),Rn());return it(e,t,o,n),t.child}function $i(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ph(e,t,n,i,o){var u=Vs();return u=u===null?null:{parent:Ie._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Ir(t,null),Zs(),bd(t),e!==null&&Da(e,t,i,!0),t.childLanes=o,null}function ol(e,t){return t=cl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mh(e,t,n){return ra(t,e.child,null,n),e=ol(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function jy(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(i.mode==="hidden")return e=ol(t,i),t.lanes=536870912,$i(null,e);if(Fs(t),(e=Me)?(e=Cf(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Jt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},n=ed(e),n.return=t,t.child=n,nt=t,Me=null)):e=null,e===null)throw xn(t);return t.lanes=536870912,null}return ol(t,i)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(Fs(t),o)if(t.flags&256)t.flags&=-257,t=mh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Xe||Da(e,t,n,!1),o=(n&e.childLanes)!==0,Xe||o){if(i=Ue,i!==null&&(f=sc(i,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,Wn(e,f),mt(i,e,f),_o;bl(),t=mh(e,t,n)}else e=u.treeContext,Me=qt(f.nextSibling),nt=t,xe=!0,Sn=null,Bt=!1,e!==null&&ad(t,e),t=ol(t,i),t.flags|=4096;return t}return e=en(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ul(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wo(e,t,n,i,o){return ta(t),n=eo(e,t,n,i,void 0,o),i=to(),e!==null&&!Xe?(no(e,t,o),sn(e,t,o)):(xe&&i&&Ms(t),t.flags|=1,it(e,t,n,o),t.child)}function vh(e,t,n,i,o,u){return ta(t),t.updateQueue=null,n=wd(t,i,n,o),_d(e),i=to(),e!==null&&!Xe?(no(e,t,u),sn(e,t,u)):(xe&&i&&Ms(t),t.flags|=1,it(e,t,n,u),t.child)}function bh(e,t,n,i,o){if(ta(t),t.stateNode===null){var u=Ca,f=n.contextType;typeof f=="object"&&f!==null&&(u=at(f)),u=new n(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=vo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},Is(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?at(f):Ca,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(mo(t,n,f,i),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&vo.enqueueReplaceState(u,u.state,null),Ni(t,i,u,o),Mi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var m=t.memoizedProps,b=sa(n,m);u.props=b;var R=u.context,B=n.contextType;f=Ca,typeof B=="object"&&B!==null&&(f=at(B));var $=n.getDerivedStateFromProps;B=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,B||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m||R!==f)&&rh(t,u,i,f),En=!1;var k=t.memoizedState;u.state=k,Ni(t,i,u,o),Mi(),R=t.memoizedState,m||k!==R||En?(typeof $=="function"&&(mo(t,n,$,i),R=t.memoizedState),(b=En||ih(t,n,b,i,k,R,f))?(B||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),u.props=i,u.state=R,u.context=f,i=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,Js(e,t),f=t.memoizedProps,B=sa(n,f),u.props=B,$=t.pendingProps,k=u.context,R=n.contextType,b=Ca,typeof R=="object"&&R!==null&&(b=at(R)),m=n.getDerivedStateFromProps,(R=typeof m=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==$||k!==b)&&rh(t,u,i,b),En=!1,k=t.memoizedState,u.state=k,Ni(t,i,u,o),Mi();var z=t.memoizedState;f!==$||k!==z||En||e!==null&&e.dependencies!==null&&Vr(e.dependencies)?(typeof m=="function"&&(mo(t,n,m,i),z=t.memoizedState),(B=En||ih(t,n,B,i,k,z,b)||e!==null&&e.dependencies!==null&&Vr(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,z,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,z,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=z),u.props=i,u.state=z,u.context=b,i=B):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,ul(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=ra(t,e.child,null,o),t.child=ra(t,null,n,o)):it(e,t,n,o),t.memoizedState=u.state,e=t.child):e=sn(e,t,o),e}function _h(e,t,n,i){return Pn(),t.flags|=256,it(e,t,n,i),t.child}var So={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xo(e){return{baseLanes:e,cachePool:ud()}}function To(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function wh(e,t,n){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(o?jn(t):Rn(),(e=Me)?(e=Cf(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Jt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},n=ed(e),n.return=t,t.child=n,nt=t,Me=null)):e=null,e===null)throw xn(t);return lu(e)?t.lanes=32:t.lanes=536870912,null}var m=i.children;return i=i.fallback,o?(Rn(),o=t.mode,m=cl({mode:"hidden",children:m},o),i=Fn(i,o,n,null),m.return=t,i.return=t,m.sibling=i,t.child=m,i=t.child,i.memoizedState=xo(n),i.childLanes=To(e,f,n),t.memoizedState=So,$i(null,i)):(jn(t),Eo(t,m))}var b=e.memoizedState;if(b!==null&&(m=b.dehydrated,m!==null)){if(u)t.flags&256?(jn(t),t.flags&=-257,t=Ao(e,t,n)):t.memoizedState!==null?(Rn(),t.child=e.child,t.flags|=128,t=null):(Rn(),m=i.fallback,o=t.mode,i=cl({mode:"visible",children:i.children},o),m=Fn(m,o,n,null),m.flags|=2,i.return=t,m.return=t,i.sibling=m,t.child=i,ra(t,e.child,null,n),i=t.child,i.memoizedState=xo(n),i.childLanes=To(e,f,n),t.memoizedState=So,t=$i(null,i));else if(jn(t),lu(m)){if(f=m.nextSibling&&m.nextSibling.dataset,f)var R=f.dgst;f=R,i=Error(s(419)),i.stack="",i.digest=f,Ri({value:i,source:null,stack:null}),t=Ao(e,t,n)}else if(Xe||Da(e,t,n,!1),f=(n&e.childLanes)!==0,Xe||f){if(f=Ue,f!==null&&(i=sc(f,n),i!==0&&i!==b.retryLane))throw b.retryLane=i,Wn(e,i),mt(f,e,i),_o;ru(m)||bl(),t=Ao(e,t,n)}else ru(m)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Me=qt(m.nextSibling),nt=t,xe=!0,Sn=null,Bt=!1,e!==null&&ad(t,e),t=Eo(t,i.children),t.flags|=4096);return t}return o?(Rn(),m=i.fallback,o=t.mode,b=e.child,R=b.sibling,i=en(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,R!==null?m=en(R,m):(m=Fn(m,o,n,null),m.flags|=2),m.return=t,i.return=t,i.sibling=m,t.child=i,$i(null,i),i=t.child,m=e.child.memoizedState,m===null?m=xo(n):(o=m.cachePool,o!==null?(b=Ie._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=ud(),m={baseLanes:m.baseLanes|n,cachePool:o}),i.memoizedState=m,i.childLanes=To(e,f,n),t.memoizedState=So,$i(e.child,i)):(jn(t),n=e.child,e=n.sibling,n=en(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Eo(e,t){return t=cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cl(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Ao(e,t,n){return ra(t,e.child,null,n),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Hs(e.return,t,n)}function Oo(e,t,n,i,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=o,f.treeForkCount=u)}function xh(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var f=Ve.current,m=(f&2)!==0;if(m?(f=f&1|2,t.flags|=128):f&=1,I(Ve,f),it(e,t,i,n),i=xe?ji:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sh(e,n,t);else if(e.tag===19)Sh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Fr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Oo(t,!1,o,n,u,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Fr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Oo(t,!0,n,null,u,i);break;case"together":Oo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Da(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vr(e)))}function Ry(e,t,n){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),Tn(t,Ie,e.memoizedState.cache),Pn();break;case 27:case 5:fi(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:Tn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Fs(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(jn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?wh(e,t,n):(jn(t),e=sn(e,t,n),e!==null?e.sibling:null);jn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Da(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return xh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Ve,Ve.current),i)break;return null;case 22:return t.lanes=0,yh(e,t,n,t.pendingProps);case 24:Tn(t,Ie,e.memoizedState.cache)}return sn(e,t,n)}function Th(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!jo(e,n)&&(t.flags&128)===0)return Xe=!1,Ry(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,xe&&(t.flags&1048576)!==0&&nd(t,ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=aa(t.elementType),t.type=e,typeof e=="function")zs(e)?(i=sa(e,i),t.tag=1,t=bh(null,t,e,i,n)):(t.tag=0,t=wo(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=hh(null,t,e,i,n);break e}else if(o===J){t.tag=14,t=fh(null,t,e,i,n);break e}}throw t=Se(e)||e,Error(s(306,t,""))}}return t;case 0:return wo(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=sa(i,t.pendingProps),bh(e,t,i,o,n);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,Js(e,t),Ni(t,i,null,n);var f=t.memoizedState;if(i=f.cache,Tn(t,Ie,i),i!==u.cache&&$s(t,[Ie],n,!0),Mi(),i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=_h(e,t,i,n);break e}else if(i!==o){o=Dt(Error(s(424)),t),Ri(o),t=_h(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=qt(e.firstChild),nt=t,xe=!0,Sn=null,Bt=!0,n=yd(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pn(),i===o){t=sn(e,t,n);break e}it(e,t,i,n)}t=t.child}return t;case 26:return ul(e,t),e===null?(n=Nf(t.type,null,t.pendingProps,null))?t.memoizedState=n:xe||(n=t.type,e=t.pendingProps,i=Al(pe.current).createElement(n),i[tt]=t,i[dt]=e,rt(i,n,e),Pe(i),t.stateNode=i):t.memoizedState=Nf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fi(t),e===null&&xe&&(i=t.stateNode=Uf(t.type,t.pendingProps,pe.current),nt=t,Bt=!0,o=Me,Bn(t.type)?(su=o,Me=qt(i.firstChild)):Me=o),it(e,t,t.pendingProps.children,n),ul(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((o=i=Me)&&(i=rp(i,t.type,t.pendingProps,Bt),i!==null?(t.stateNode=i,nt=t,Me=qt(i.firstChild),Bt=!1,o=!0):o=!1),o||xn(t)),fi(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,i=u.children,nu(o,u)?i=null:f!==null&&nu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=eo(e,t,_y,null,null,n),nr._currentValue=o),ul(e,t),it(e,t,i,n),t.child;case 6:return e===null&&xe&&((e=n=Me)&&(n=lp(n,t.pendingProps,Bt),n!==null?(t.stateNode=n,nt=t,Me=null,e=!0):e=!1),e||xn(t)),null;case 13:return wh(e,t,n);case 4:return ut(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ra(t,null,i,n):it(e,t,i,n),t.child;case 11:return hh(e,t,t.type,t.pendingProps,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Tn(t,t.type,i.value),it(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ta(t),o=at(o),i=i(o),t.flags|=1,it(e,t,i,n),t.child;case 14:return fh(e,t,t.type,t.pendingProps,n);case 15:return gh(e,t,t.type,t.pendingProps,n);case 19:return xh(e,t,n);case 31:return jy(e,t,n);case 22:return yh(e,t,n,t.pendingProps);case 24:return ta(t),i=at(Ie),e===null?(o=Vs(),o===null&&(o=Ue,u=Gs(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:i,cache:o},Is(t),Tn(t,Ie,o)):((e.lanes&n)!==0&&(Js(e,t),Ni(t,null,null,n),Mi()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Tn(t,Ie,i)):(i=u.cache,Tn(t,Ie,i),i!==o.cache&&$s(t,[Ie],n,!0))),it(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function on(e){e.flags|=4}function Ro(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Wh())e.flags|=8192;else throw ia=Xr,Ks}else e.flags&=-16777217}function Eh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$f(t))if(Wh())e.flags|=8192;else throw ia=Xr,Ks}function dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ic():536870912,e.lanes|=t,Ia|=t)}function Gi(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Cy(e,t,n){var i=t.pendingProps;switch(Ns(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),an(Ie),Ye(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ua(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ls())),Ne(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(on(t),u!==null?(Ne(t),Eh(t,u)):(Ne(t),Ro(t,o,null,i,n))):u?u!==e.memoizedState?(on(t),Ne(t),Eh(t,u)):(Ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&on(t),Ne(t),Ro(t,o,e,i,n)),null;case 27:if(Sr(t),n=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&on(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ne(t),null}e=X.current,Ua(t)?id(t):(e=Uf(o,i,n),t.stateNode=e,on(t))}return Ne(t),null;case 5:if(Sr(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&on(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ne(t),null}if(u=X.current,Ua(t))id(t);else{var f=Al(pe.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?f.createElement(o,{is:i.is}):f.createElement(o)}}u[tt]=t,u[dt]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(rt(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&on(t)}}return Ne(t),Ro(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&on(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=pe.current,Ua(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=nt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[tt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Sf(e.nodeValue,n)),e||xn(t,!0)}else e=Al(e).createTextNode(i),e[tt]=t,t.stateNode=e}return Ne(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ua(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[tt]=t}else Pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),e=!1}else n=Ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ne(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ua(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[tt]=t}else Pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),o=!1}else o=Ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),Ne(t),null);case 4:return Ye(),e===null&&Wo(t.stateNode.containerInfo),Ne(t),null;case 10:return an(t.type),Ne(t),null;case 19:if(q(Ve),i=t.memoizedState,i===null)return Ne(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)Gi(i,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Fr(e),u!==null){for(t.flags|=128,Gi(i,!1),e=u.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Pc(n,e),n=n.sibling;return I(Ve,Ve.current&1|2),xe&&tn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&vt()>pl&&(t.flags|=128,o=!0,Gi(i,!1),t.lanes=4194304)}else{if(!o)if(e=Fr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!xe)return Ne(t),null}else 2*vt()-i.renderingStartTime>pl&&n!==536870912&&(t.flags|=128,o=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vt(),e.sibling=null,n=Ve.current,I(Ve,o?n&1|2:n&1),xe&&tn(t,i.treeForkCount),e):(Ne(t),null);case 22:case 23:return Tt(t),Ws(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),n=t.updateQueue,n!==null&&dl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&q(na),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),an(Ie),Ne(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function ky(e,t){switch(Ns(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(Ie),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Sr(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(s(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ve),null;case 4:return Ye(),null;case 10:return an(t.type),null;case 22:case 23:return Tt(t),Ws(),e!==null&&q(na),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return an(Ie),null;case 25:return null;default:return null}}function Ah(e,t){switch(Ns(t),t.tag){case 3:an(Ie),Ye();break;case 26:case 27:case 5:Sr(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:q(Ve);break;case 10:an(t.type);break;case 22:case 23:Tt(t),Ws(),e!==null&&q(na);break;case 24:an(Ie)}}function Yi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var u=n.create,f=n.inst;i=u(),f.destroy=i}n=n.next}while(n!==o)}}catch(m){Re(t,t.return,m)}}function Cn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var f=i.inst,m=f.destroy;if(m!==void 0){f.destroy=void 0,o=t;var b=n,R=m;try{R()}catch(B){Re(o,b,B)}}}i=i.next}while(i!==u)}}catch(B){Re(t,t.return,B)}}function Oh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{md(t,n)}catch(i){Re(e,e.return,i)}}}function jh(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Re(e,t,i)}}function Vi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){Re(e,t,o)}}function Qt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Re(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Re(e,t,o)}else n.current=null}function Rh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Re(e,e.return,o)}}function Co(e,t,n){try{var i=e.stateNode;Py(i,e.type,n,t),i[dt]=t}catch(o){Re(e,e.return,o)}}function Ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bn(e.type)||e.tag===4}function ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ft));else if(i!==4&&(i===27&&Bn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zo(e,t,n),e=e.sibling;e!==null;)zo(e,t,n),e=e.sibling}function hl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Bn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hl(e,t,n),e=e.sibling;e!==null;)hl(e,t,n),e=e.sibling}function kh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);rt(t,i,n),t[tt]=e,t[dt]=n}catch(u){Re(e,e.return,u)}}var un=!1,Qe=!1,Uo=!1,zh=typeof WeakSet=="function"?WeakSet:Set,et=null;function zy(e,t){if(e=e.containerInfo,eu=Ul,e=Vc(e),Es(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,m=-1,b=-1,R=0,B=0,$=e,k=null;t:for(;;){for(var z;$!==n||o!==0&&$.nodeType!==3||(m=f+o),$!==u||i!==0&&$.nodeType!==3||(b=f+i),$.nodeType===3&&(f+=$.nodeValue.length),(z=$.firstChild)!==null;)k=$,$=z;for(;;){if($===e)break t;if(k===n&&++R===o&&(m=f),k===u&&++B===i&&(b=f),(z=$.nextSibling)!==null)break;$=k,k=$.parentNode}$=z}n=m===-1||b===-1?null:{start:m,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(tu={focusedElem:e,selectionRange:n},Ul=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var Q=sa(n.type,o);e=i.getSnapshotBeforeUpdate(Q,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Re(n,n.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)iu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Uh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:dn(e,n),i&4&&Yi(5,n);break;case 1:if(dn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Re(n,n.return,f)}else{var o=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Re(n,n.return,f)}}i&64&&Oh(n),i&512&&Vi(n,n.return);break;case 3:if(dn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{md(e,t)}catch(f){Re(n,n.return,f)}}break;case 27:t===null&&i&4&&kh(n);case 26:case 5:dn(e,n),t===null&&i&4&&Rh(n),i&512&&Vi(n,n.return);break;case 12:dn(e,n);break;case 31:dn(e,n),i&4&&Nh(e,n);break;case 13:dn(e,n),i&4&&Bh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$y.bind(null,n),sp(e,n))));break;case 22:if(i=n.memoizedState!==null||un,!i){t=t!==null&&t.memoizedState!==null||Qe,o=un;var u=Qe;un=i,(Qe=t)&&!u?hn(e,n,(n.subtreeFlags&8772)!==0):dn(e,n),un=o,Qe=u}break;case 30:break;default:dn(e,n)}}function Dh(e){var t=e.alternate;t!==null&&(e.alternate=null,Dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&os(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,ft=!1;function cn(e,t,n){for(n=n.child;n!==null;)Mh(e,t,n),n=n.sibling}function Mh(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(gi,n)}catch{}switch(n.tag){case 26:Qe||Qt(n,t),cn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qe||Qt(n,t);var i=Be,o=ft;Bn(n.type)&&(Be=n.stateNode,ft=!1),cn(e,t,n),Pi(n.stateNode),Be=i,ft=o;break;case 5:Qe||Qt(n,t);case 6:if(i=Be,o=ft,Be=null,cn(e,t,n),Be=i,ft=o,Be!==null)if(ft)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(u){Re(n,t,u)}else try{Be.removeChild(n.stateNode)}catch(u){Re(n,t,u)}break;case 18:Be!==null&&(ft?(e=Be,jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ei(e)):jf(Be,n.stateNode));break;case 4:i=Be,o=ft,Be=n.stateNode.containerInfo,ft=!0,cn(e,t,n),Be=i,ft=o;break;case 0:case 11:case 14:case 15:Cn(2,n,t),Qe||Cn(4,n,t),cn(e,t,n);break;case 1:Qe||(Qt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&jh(n,t,i)),cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:Qe=(i=Qe)||n.memoizedState!==null,cn(e,t,n),Qe=i;break;default:cn(e,t,n)}}function Nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ei(e)}catch(n){Re(t,t.return,n)}}}function Bh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(n){Re(t,t.return,n)}}function Uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zh),t;default:throw Error(s(435,e.tag))}}function fl(e,t){var n=Uy(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=Gy.bind(null,e,i);i.then(o,o)}})}function gt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],u=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 27:if(Bn(m.type)){Be=m.stateNode,ft=!1;break e}break;case 5:Be=m.stateNode,ft=!1;break e;case 3:case 4:Be=m.stateNode.containerInfo,ft=!0;break e}m=m.return}if(Be===null)throw Error(s(160));Mh(u,f,o),Be=null,ft=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}var Gt=null;function Lh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),i&4&&(Cn(3,e,e.return),Yi(3,e),Cn(5,e,e.return));break;case 1:gt(t,e),yt(e),i&512&&(Qe||n===null||Qt(n,n.return)),i&64&&un&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Gt;if(gt(t,e),yt(e),i&512&&(Qe||n===null||Qt(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[mi]||u[tt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),rt(u,i,n),u[tt]=e,Pe(u),i=u;break e;case"link":var f=qf("link","href",o).get(i+(n.href||""));if(f){for(var m=0;m<f.length;m++)if(u=f[m],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(m,1);break t}}u=o.createElement(i),rt(u,i,n),o.head.appendChild(u);break;case"meta":if(f=qf("meta","content",o).get(i+(n.content||""))){for(m=0;m<f.length;m++)if(u=f[m],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(m,1);break t}}u=o.createElement(i),rt(u,i,n),o.head.appendChild(u);break;default:throw Error(s(468,i))}u[tt]=e,Pe(u),i=u}e.stateNode=i}else Hf(o,e.type,e.stateNode);else e.stateNode=Lf(o,i,e.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?Hf(o,e.type,e.stateNode):Lf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Co(e,e.memoizedProps,n.memoizedProps)}break;case 27:gt(t,e),yt(e),i&512&&(Qe||n===null||Qt(n,n.return)),n!==null&&i&4&&Co(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gt(t,e),yt(e),i&512&&(Qe||n===null||Qt(n,n.return)),e.flags&32){o=e.stateNode;try{xa(o,"")}catch(Q){Re(e,e.return,Q)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Co(e,o,n!==null?n.memoizedProps:o)),i&1024&&(Uo=!0);break;case 6:if(gt(t,e),yt(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(Q){Re(e,e.return,Q)}}break;case 3:if(Rl=null,o=Gt,Gt=Ol(t.containerInfo),gt(t,e),Gt=o,yt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(Q){Re(e,e.return,Q)}Uo&&(Uo=!1,qh(e));break;case 4:i=Gt,Gt=Ol(e.stateNode.containerInfo),gt(t,e),yt(e),Gt=i;break;case 12:gt(t,e),yt(e);break;case 31:gt(t,e),yt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fl(e,i)));break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yl=vt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fl(e,i)));break;case 22:o=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,R=un,B=Qe;if(un=R||o,Qe=B||b,gt(t,e),Qe=B,un=R,yt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||b||un||Qe||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(u=b.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{m=b.stateNode;var $=b.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null;m.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(Q){Re(b,b.return,Q)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(Q){Re(b,b.return,Q)}}}else if(t.tag===18){if(n===null){b=t;try{var z=b.stateNode;o?Rf(z,!0):Rf(b.stateNode,!1)}catch(Q){Re(b,b.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,fl(e,n))));break;case 19:gt(t,e),yt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fl(e,i)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ch(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,u=ko(e);hl(e,u,o);break;case 5:var f=n.stateNode;n.flags&32&&(xa(f,""),n.flags&=-33);var m=ko(e);hl(e,m,f);break;case 3:case 4:var b=n.stateNode.containerInfo,R=ko(e);zo(e,R,b);break;default:throw Error(s(161))}}catch(B){Re(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uh(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Cn(4,t,t.return),oa(t);break;case 1:Qt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&jh(t,t.return,n),oa(t);break;case 27:Pi(t.stateNode);case 26:case 5:Qt(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function hn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:hn(o,u,n),Yi(4,u);break;case 1:if(hn(o,u,n),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Re(i,i.return,R)}if(i=u,o=i.updateQueue,o!==null){var m=i.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)pd(b[o],m)}catch(R){Re(i,i.return,R)}}n&&f&64&&Oh(u),Vi(u,u.return);break;case 27:kh(u);case 26:case 5:hn(o,u,n),n&&i===null&&f&4&&Rh(u),Vi(u,u.return);break;case 12:hn(o,u,n);break;case 31:hn(o,u,n),n&&f&4&&Nh(o,u);break;case 13:hn(o,u,n),n&&f&4&&Bh(o,u);break;case 22:u.memoizedState===null&&hn(o,u,n),Vi(u,u.return);break;case 30:break;default:hn(o,u,n)}t=t.sibling}}function Do(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function Mo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Yt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hh(e,t,n,i),t=t.sibling}function Hh(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Yt(e,t,n,i),o&2048&&Yi(9,t);break;case 1:Yt(e,t,n,i);break;case 3:Yt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(o&2048){Yt(e,t,n,i),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,m=u.onPostCommit;typeof m=="function"&&m(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Re(t,t.return,b)}}else Yt(e,t,n,i);break;case 31:Yt(e,t,n,i);break;case 13:Yt(e,t,n,i);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Yt(e,t,n,i):Ki(e,t):u._visibility&2?Yt(e,t,n,i):(u._visibility|=2,Ya(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Do(f,t);break;case 24:Yt(e,t,n,i),o&2048&&Mo(t.alternate,t);break;default:Yt(e,t,n,i)}}function Ya(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,m=n,b=i,R=f.flags;switch(f.tag){case 0:case 11:case 15:Ya(u,f,m,b,o),Yi(8,f);break;case 23:break;case 22:var B=f.stateNode;f.memoizedState!==null?B._visibility&2?Ya(u,f,m,b,o):Ki(u,f):(B._visibility|=2,Ya(u,f,m,b,o)),o&&R&2048&&Do(f.alternate,f);break;case 24:Ya(u,f,m,b,o),o&&R&2048&&Mo(f.alternate,f);break;default:Ya(u,f,m,b,o)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Ki(n,i),o&2048&&Do(i.alternate,i);break;case 24:Ki(n,i),o&2048&&Mo(i.alternate,i);break;default:Ki(n,i)}t=t.sibling}}var Ii=8192;function Va(e,t,n){if(e.subtreeFlags&Ii)for(e=e.child;e!==null;)$h(e,t,n),e=e.sibling}function $h(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Ii&&e.memoizedState!==null&&bp(n,Gt,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var i=Gt;Gt=Ol(e.stateNode.containerInfo),Va(e,t,n),Gt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ii,Ii=16777216,Va(e,t,n),Ii=i):Va(e,t,n));break;default:Va(e,t,n)}}function Gh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ji(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];et=i,Vh(i,e)}Gh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yh(e),e=e.sibling}function Yh(e){switch(e.tag){case 0:case 11:case 15:Ji(e),e.flags&2048&&Cn(9,e,e.return);break;case 3:Ji(e);break;case 12:Ji(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gl(e)):Ji(e);break;default:Ji(e)}}function gl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];et=i,Vh(i,e)}Gh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Cn(8,t,t.return),gl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,gl(t));break;default:gl(t)}e=e.sibling}}function Vh(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:Cn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,et=i;else e:for(n=e;et!==null;){i=et;var o=i.sibling,u=i.return;if(Dh(i),i===n){et=null;break e}if(o!==null){o.return=u,et=o;break e}et=u}}}var Dy={getCacheForType:function(e){var t=at(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return at(Ie).controller.signal}},My=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ue=null,ve=null,_e=0,je=0,Et=null,kn=!1,Ka=!1,No=!1,fn=0,$e=0,zn=0,ua=0,Bo=0,At=0,Ia=0,Xi=null,pt=null,Lo=!1,yl=0,Kh=0,pl=1/0,ml=null,Un=null,We=0,Dn=null,Ja=null,gn=0,qo=0,Ho=null,Ih=null,Qi=0,$o=null;function Ot(){return(Oe&2)!==0&&_e!==0?_e&-_e:A.T!==null?Jo():oc()}function Jh(){if(At===0)if((_e&536870912)===0||xe){var e=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),At=e}else At=536870912;return e=xt.current,e!==null&&(e.flags|=32),At}function mt(e,t,n){(e===Ue&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Mn(e,_e,At,!1)),pi(e,n),((Oe&2)===0||e!==Ue)&&(e===Ue&&((Oe&2)===0&&(ua|=n),$e===4&&Mn(e,_e,At,!1)),Zt(e))}function Xh(e,t,n){if((Oe&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||yi(e,t),o=i?Ly(e,t):Yo(e,t,!0),u=i;do{if(o===0){Ka&&!i&&Mn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Ny(n)){o=Yo(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var m=e;o=Xi;var b=m.current.memoizedState.isDehydrated;if(b&&(Xa(m,f).flags|=256),f=Yo(m,f,!1),f!==2){if(No&&!b){m.errorRecoveryDisabledLanes|=u,ua|=u,o=4;break e}u=pt,pt=o,u!==null&&(pt===null?pt=u:pt.push.apply(pt,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){Xa(e,0),Mn(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Mn(i,t,At,!kn);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=yl+300-vt(),10<o)){if(Mn(i,t,At,!kn),Or(i,0,!0)!==0)break e;gn=t,i.timeoutHandle=Af(Qh.bind(null,i,n,pt,ml,Lo,t,At,ua,Ia,kn,u,"Throttled",-0,0),o);break e}Qh(i,n,pt,ml,Lo,t,At,ua,Ia,kn,u,null,-0,0)}}break}while(!0);Zt(e)}function Qh(e,t,n,i,o,u,f,m,b,R,B,$,k,z){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},$h(t,u,$);var Q=(u&62914560)===u?yl-vt():(u&4194048)===u?Kh-vt():0;if(Q=_p($,Q),Q!==null){gn=u,e.cancelPendingCommit=Q(af.bind(null,e,t,u,n,i,o,f,m,b,B,$,null,k,z)),Mn(e,u,f,!R);return}}af(e,t,u,n,i,o,f,m,b)}function Ny(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!wt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t,n,i){t&=~Bo,t&=~ua,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-_t(o),f=1<<u;i[u]=-1,o&=~f}n!==0&&rc(e,n,t)}function vl(){return(Oe&6)===0?(Zi(0),!1):!0}function Go(){if(ve!==null){if(je===0)var e=ve.return;else e=ve,nn=ea=null,ao(e),La=null,zi=0,e=ve;for(;e!==null;)Ah(e.alternate,e),e=e.return;ve=null}}function Xa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,np(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),gn=0,Go(),Ue=e,ve=n=en(e.current,null),_e=t,je=0,Et=null,kn=!1,Ka=yi(e,t),No=!1,Ia=At=Bo=ua=zn=$e=0,pt=Xi=null,Lo=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-_t(i),u=1<<o;t|=e[o],i&=~u}return fn=t,qr(),n}function Zh(e,t){ge=null,A.H=Hi,t===Ba||t===Jr?(t=hd(),je=3):t===Ks?(t=hd(),je=4):je=t===_o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,ve===null&&($e=1,sl(e,Dt(t,e.current)))}function Wh(){var e=xt.current;return e===null?!0:(_e&4194048)===_e?Lt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Lt:!1}function Fh(){var e=A.H;return A.H=Hi,e===null?Hi:e}function Ph(){var e=A.A;return A.A=Dy,e}function bl(){$e=4,kn||(_e&4194048)!==_e&&xt.current!==null||(Ka=!0),(zn&134217727)===0&&(ua&134217727)===0||Ue===null||Mn(Ue,_e,At,!1)}function Yo(e,t,n){var i=Oe;Oe|=2;var o=Fh(),u=Ph();(Ue!==e||_e!==t)&&(ml=null,Xa(e,t)),t=!1;var f=$e;e:do try{if(je!==0&&ve!==null){var m=ve,b=Et;switch(je){case 8:Go(),f=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var R=je;if(je=0,Et=null,Qa(e,m,b,R),n&&Ka){f=0;break e}break;default:R=je,je=0,Et=null,Qa(e,m,b,R)}}By(),f=$e;break}catch(B){Zh(e,B)}while(!0);return t&&e.shellSuspendCounter++,nn=ea=null,Oe=i,A.H=o,A.A=u,ve===null&&(Ue=null,_e=0,qr()),f}function By(){for(;ve!==null;)ef(ve)}function Ly(e,t){var n=Oe;Oe|=2;var i=Fh(),o=Ph();Ue!==e||_e!==t?(ml=null,pl=vt()+500,Xa(e,t)):Ka=yi(e,t);e:do try{if(je!==0&&ve!==null){t=ve;var u=Et;t:switch(je){case 1:je=0,Et=null,Qa(e,t,u,1);break;case 2:case 9:if(cd(u)){je=0,Et=null,tf(t);break}t=function(){je!==2&&je!==9||Ue!==e||(je=7),Zt(e)},u.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:cd(u)?(je=0,Et=null,tf(t)):(je=0,Et=null,Qa(e,t,u,7));break;case 5:var f=null;switch(ve.tag){case 26:f=ve.memoizedState;case 5:case 27:var m=ve;if(f?$f(f):m.stateNode.complete){je=0,Et=null;var b=m.sibling;if(b!==null)ve=b;else{var R=m.return;R!==null?(ve=R,_l(R)):ve=null}break t}}je=0,Et=null,Qa(e,t,u,5);break;case 6:je=0,Et=null,Qa(e,t,u,6);break;case 8:Go(),$e=6;break e;default:throw Error(s(462))}}qy();break}catch(B){Zh(e,B)}while(!0);return nn=ea=null,A.H=i,A.A=o,Oe=n,ve!==null?0:(Ue=null,_e=0,qr(),$e)}function qy(){for(;ve!==null&&!o0();)ef(ve)}function ef(e){var t=Th(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?_l(e):ve=t}function tf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vh(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=vh(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:ao(t);default:Ah(n,t),t=ve=Pc(t,fn),t=Th(n,t,fn)}e.memoizedProps=e.pendingProps,t===null?_l(e):ve=t}function Qa(e,t,n,i){nn=ea=null,ao(t),La=null,zi=0;var o=t.return;try{if(Oy(e,o,t,n,_e)){$e=1,sl(e,Dt(n,e.current)),ve=null;return}}catch(u){if(o!==null)throw ve=o,u;$e=1,sl(e,Dt(n,e.current)),ve=null;return}t.flags&32768?(xe||i===1?e=!0:Ka||(_e&536870912)!==0?e=!1:(kn=e=!0,(i===2||i===9||i===3||i===6)&&(i=xt.current,i!==null&&i.tag===13&&(i.flags|=16384))),nf(t,e)):_l(t)}function _l(e){var t=e;do{if((t.flags&32768)!==0){nf(t,kn);return}e=t.return;var n=Cy(t.alternate,t,fn);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);$e===0&&($e=5)}function nf(e,t){do{var n=ky(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);$e=6,ve=null}function af(e,t,n,i,o,u,f,m,b){e.cancelPendingCommit=null;do wl();while(We!==0);if((Oe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=Cs,v0(e,n,u,f,m,b),e===Ue&&(ve=Ue=null,_e=0),Ja=t,Dn=e,gn=n,qo=u,Ho=o,Ih=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yy(xr,function(){return uf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=A.T,A.T=null,o=V.p,V.p=2,f=Oe,Oe|=4;try{zy(e,t,n)}finally{Oe=f,V.p=o,A.T=i}}We=1,rf(),lf(),sf()}}function rf(){if(We===1){We=0;var e=Dn,t=Ja,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var i=V.p;V.p=2;var o=Oe;Oe|=4;try{Lh(t,e);var u=tu,f=Vc(e.containerInfo),m=u.focusedElem,b=u.selectionRange;if(f!==m&&m&&m.ownerDocument&&Yc(m.ownerDocument.documentElement,m)){if(b!==null&&Es(m)){var R=b.start,B=b.end;if(B===void 0&&(B=R),"selectionStart"in m)m.selectionStart=R,m.selectionEnd=Math.min(B,m.value.length);else{var $=m.ownerDocument||document,k=$&&$.defaultView||window;if(k.getSelection){var z=k.getSelection(),Q=m.textContent.length,ie=Math.min(b.start,Q),ze=b.end===void 0?ie:Math.min(b.end,Q);!z.extend&&ie>ze&&(f=ze,ze=ie,ie=f);var E=Gc(m,ie),_=Gc(m,ze);if(E&&_&&(z.rangeCount!==1||z.anchorNode!==E.node||z.anchorOffset!==E.offset||z.focusNode!==_.node||z.focusOffset!==_.offset)){var j=$.createRange();j.setStart(E.node,E.offset),z.removeAllRanges(),ie>ze?(z.addRange(j),z.extend(_.node,_.offset)):(j.setEnd(_.node,_.offset),z.addRange(j))}}}}for($=[],z=m;z=z.parentNode;)z.nodeType===1&&$.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<$.length;m++){var L=$[m];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Ul=!!eu,tu=eu=null}finally{Oe=o,V.p=i,A.T=n}}e.current=t,We=2}}function lf(){if(We===2){We=0;var e=Dn,t=Ja,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var i=V.p;V.p=2;var o=Oe;Oe|=4;try{Uh(e,t.alternate,t)}finally{Oe=o,V.p=i,A.T=n}}We=3}}function sf(){if(We===4||We===3){We=0,u0();var e=Dn,t=Ja,n=gn,i=Ih;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,Ja=Dn=null,of(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Un=null),ls(n),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(gi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=A.T,o=V.p,V.p=2,A.T=null;try{for(var u=e.onRecoverableError,f=0;f<i.length;f++){var m=i[f];u(m.value,{componentStack:m.stack})}}finally{A.T=t,V.p=o}}(gn&3)!==0&&wl(),Zt(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===$o?Qi++:(Qi=0,$o=e):Qi=0,Zi(0)}}function of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function wl(){return rf(),lf(),sf(),uf()}function uf(){if(We!==5)return!1;var e=Dn,t=qo;qo=0;var n=ls(gn),i=A.T,o=V.p;try{V.p=32>n?32:n,A.T=null,n=Ho,Ho=null;var u=Dn,f=gn;if(We=0,Ja=Dn=null,gn=0,(Oe&6)!==0)throw Error(s(331));var m=Oe;if(Oe|=4,Yh(u.current),Hh(u,u.current,f,n),Oe=m,Zi(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(gi,u)}catch{}return!0}finally{V.p=o,A.T=i,of(e,t)}}function cf(e,t,n){t=Dt(n,t),t=bo(e.stateNode,t,2),e=On(e,t,2),e!==null&&(pi(e,2),Zt(e))}function Re(e,t,n){if(e.tag===3)cf(e,e,n);else for(;t!==null;){if(t.tag===3){cf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Un===null||!Un.has(i))){e=Dt(n,e),n=ch(2),i=On(t,n,2),i!==null&&(dh(n,i,t,e),pi(i,2),Zt(i));break}}t=t.return}}function Vo(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new My;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(No=!0,o.add(n),e=Hy.bind(null,e,t,n),t.then(e,e))}function Hy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(_e&n)===n&&($e===4||$e===3&&(_e&62914560)===_e&&300>vt()-yl?(Oe&2)===0&&Xa(e,0):Bo|=n,Ia===_e&&(Ia=0)),Zt(e)}function df(e,t){t===0&&(t=ic()),e=Wn(e,t),e!==null&&(pi(e,t),Zt(e))}function $y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),df(e,n)}function Gy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),df(e,n)}function Yy(e,t){return ns(e,t)}var Sl=null,Za=null,Ko=!1,xl=!1,Io=!1,Nn=0;function Zt(e){e!==Za&&e.next===null&&(Za===null?Sl=Za=e:Za=Za.next=e),xl=!0,Ko||(Ko=!0,Ky())}function Zi(e,t){if(!Io&&xl){Io=!0;do for(var n=!1,i=Sl;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var f=i.suspendedLanes,m=i.pingedLanes;u=(1<<31-_t(42|e)+1)-1,u&=o&~(f&~m),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,yf(i,u))}else u=_e,u=Or(i,i===Ue?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||yi(i,u)||(n=!0,yf(i,u));i=i.next}while(n);Io=!1}}function Vy(){hf()}function hf(){xl=Ko=!1;var e=0;Nn!==0&&tp()&&(e=Nn);for(var t=vt(),n=null,i=Sl;i!==null;){var o=i.next,u=ff(i,t);u===0?(i.next=null,n===null?Sl=o:n.next=o,o===null&&(Za=n)):(n=i,(e!==0||(u&3)!==0)&&(xl=!0)),i=o}We!==0&&We!==5||Zi(e),Nn!==0&&(Nn=0)}function ff(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-_t(u),m=1<<f,b=o[f];b===-1?((m&n)===0||(m&i)!==0)&&(o[f]=m0(m,t)):b<=t&&(e.expiredLanes|=m),u&=~m}if(t=Ue,n=_e,n=Or(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&as(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||yi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&as(i),ls(n)){case 2:case 8:n=nc;break;case 32:n=xr;break;case 268435456:n=ac;break;default:n=xr}return i=gf.bind(null,e),n=ns(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&as(i),e.callbackPriority=2,e.callbackNode=null,2}function gf(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var i=_e;return i=Or(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Xh(e,i,t),ff(e,vt()),e.callbackNode!=null&&e.callbackNode===n?gf.bind(null,e):null)}function yf(e,t){if(wl())return null;Xh(e,t,!0)}function Ky(){ap(function(){(Oe&6)!==0?ns(tc,Vy):hf()})}function Jo(){if(Nn===0){var e=Ma;e===0&&(e=Tr,Tr<<=1,(Tr&261888)===0&&(Tr=256)),Nn=e}return Nn}function pf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kr(""+e)}function mf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Iy(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var u=pf((o[dt]||null).action),f=i.submitter;f&&(t=(t=f[dt]||null)?pf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var m=new Mr("action","action",null,i,o);e.push({event:m,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Nn!==0){var b=f?mf(o,f):new FormData(o);fo(n,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(m.preventDefault(),b=f?mf(o,f):new FormData(o),fo(n,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var Xo=0;Xo<Rs.length;Xo++){var Qo=Rs[Xo],Jy=Qo.toLowerCase(),Xy=Qo[0].toUpperCase()+Qo.slice(1);$t(Jy,"on"+Xy)}$t(Jc,"onAnimationEnd"),$t(Xc,"onAnimationIteration"),$t(Qc,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(cy,"onTransitionRun"),$t(dy,"onTransitionStart"),$t(hy,"onTransitionCancel"),$t(Zc,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var m=i[f],b=m.instance,R=m.currentTarget;if(m=m.listener,b!==u&&o.isPropagationStopped())break e;u=m,o.currentTarget=R;try{u(o)}catch(B){Lr(B)}o.currentTarget=null,u=b}else for(f=0;f<i.length;f++){if(m=i[f],b=m.instance,R=m.currentTarget,m=m.listener,b!==u&&o.isPropagationStopped())break e;u=m,o.currentTarget=R;try{u(o)}catch(B){Lr(B)}o.currentTarget=null,u=b}}}}function be(e,t){var n=t[ss];n===void 0&&(n=t[ss]=new Set);var i=e+"__bubble";n.has(i)||(bf(t,e,2,!1),n.add(i))}function Zo(e,t,n){var i=0;t&&(i|=4),bf(n,e,i,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Tl]){e[Tl]=!0,dc.forEach(function(n){n!=="selectionchange"&&(Qy.has(n)||Zo(n,!1,e),Zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,Zo("selectionchange",!1,t))}}function bf(e,t,n,i){switch(Xf(t)){case 2:var o=xp;break;case 8:o=Tp;break;default:o=hu}n=o.bind(null,t,n,e),o=void 0,!ps||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Fo(e,t,n,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var m=i.stateNode.containerInfo;if(m===o)break;if(f===4)for(f=i.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;m!==null;){if(f=va(m),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){i=u=f;continue e}m=m.parentNode}}i=i.return}xc(function(){var R=u,B=gs(n),$=[];e:{var k=Wc.get(e);if(k!==void 0){var z=Mr,Q=e;switch(e){case"keypress":if(Ur(n)===0)break e;case"keydown":case"keyup":z=G0;break;case"focusin":Q="focus",z=_s;break;case"focusout":Q="blur",z=_s;break;case"beforeblur":case"afterblur":z=_s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=K0;break;case Jc:case Xc:case Qc:z=U0;break;case Zc:z=J0;break;case"scroll":case"scrollend":z=j0;break;case"wheel":z=Q0;break;case"copy":case"cut":case"paste":z=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=jc;break;case"toggle":case"beforetoggle":z=W0}var ie=(t&4)!==0,ze=!ie&&(e==="scroll"||e==="scrollend"),E=ie?k!==null?k+"Capture":null:k;ie=[];for(var _=R,j;_!==null;){var L=_;if(j=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||j===null||E===null||(L=bi(_,E),L!=null&&ie.push(Fi(_,L,j))),ze)break;_=_.return}0<ie.length&&(k=new z(k,Q,null,n,B),$.push({event:k,listeners:ie}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",k&&n!==fs&&(Q=n.relatedTarget||n.fromElement)&&(va(Q)||Q[ma]))break e;if((z||k)&&(k=B.window===B?B:(k=B.ownerDocument)?k.defaultView||k.parentWindow:window,z?(Q=n.relatedTarget||n.toElement,z=R,Q=Q?va(Q):null,Q!==null&&(ze=d(Q),ie=Q.tag,Q!==ze||ie!==5&&ie!==27&&ie!==6)&&(Q=null)):(z=null,Q=R),z!==Q)){if(ie=Ac,L="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ie=jc,L="onPointerLeave",E="onPointerEnter",_="pointer"),ze=z==null?k:vi(z),j=Q==null?k:vi(Q),k=new ie(L,_+"leave",z,n,B),k.target=ze,k.relatedTarget=j,L=null,va(B)===R&&(ie=new ie(E,_+"enter",Q,n,B),ie.target=j,ie.relatedTarget=ze,L=ie),ze=L,z&&Q)t:{for(ie=Zy,E=z,_=Q,j=0,L=E;L;L=ie(L))j++;L=0;for(var te=_;te;te=ie(te))L++;for(;0<j-L;)E=ie(E),j--;for(;0<L-j;)_=ie(_),L--;for(;j--;){if(E===_||_!==null&&E===_.alternate){ie=E;break t}E=ie(E),_=ie(_)}ie=null}else ie=null;z!==null&&_f($,k,z,ie,!1),Q!==null&&ze!==null&&_f($,ze,Q,ie,!0)}}e:{if(k=R?vi(R):window,z=k.nodeName&&k.nodeName.toLowerCase(),z==="select"||z==="input"&&k.type==="file")var Te=Nc;else if(Dc(k))if(Bc)Te=sy;else{Te=ry;var P=iy}else z=k.nodeName,!z||z.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?R&&hs(R.elementType)&&(Te=Nc):Te=ly;if(Te&&(Te=Te(e,R))){Mc($,Te,n,B);break e}P&&P(e,k,R),e==="focusout"&&R&&k.type==="number"&&R.memoizedProps.value!=null&&ds(k,"number",k.value)}switch(P=R?vi(R):window,e){case"focusin":(Dc(P)||P.contentEditable==="true")&&(Oa=P,As=R,Oi=null);break;case"focusout":Oi=As=Oa=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Kc($,n,B);break;case"selectionchange":if(uy)break;case"keydown":case"keyup":Kc($,n,B)}var ye;if(Ss)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Aa?zc(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Rc&&n.locale!=="ko"&&(Aa||we!=="onCompositionStart"?we==="onCompositionEnd"&&Aa&&(ye=Tc()):(_n=B,ms="value"in _n?_n.value:_n.textContent,Aa=!0)),P=El(R,we),0<P.length&&(we=new Oc(we,e,null,n,B),$.push({event:we,listeners:P}),ye?we.data=ye:(ye=Uc(n),ye!==null&&(we.data=ye)))),(ye=P0?ey(e,n):ty(e,n))&&(we=El(R,"onBeforeInput"),0<we.length&&(P=new Oc("onBeforeInput","beforeinput",null,n,B),$.push({event:P,listeners:we}),P.data=ye)),Iy($,e,R,n,B)}vf($,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function El(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=bi(e,n),o!=null&&i.unshift(Fi(e,o,u)),o=bi(e,t),o!=null&&i.push(Fi(e,o,u))),e.tag===3)return i;e=e.return}return[]}function Zy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _f(e,t,n,i,o){for(var u=t._reactName,f=[];n!==null&&n!==i;){var m=n,b=m.alternate,R=m.stateNode;if(m=m.tag,b!==null&&b===i)break;m!==5&&m!==26&&m!==27||R===null||(b=R,o?(R=bi(n,u),R!=null&&f.unshift(Fi(n,R,b))):o||(R=bi(n,u),R!=null&&f.push(Fi(n,R,b)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Wy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(Fy,"")}function Sf(e,t){return t=wf(t),wf(e)===t}function ke(e,t,n,i,o,u){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||xa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&xa(e,""+i);break;case"className":Rr(e,"class",i);break;case"tabIndex":Rr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,n,i);break;case"style":wc(e,i,u);break;case"data":if(t!=="object"){Rr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=kr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&ke(e,t,"name",o.name,o,null),ke(e,t,"formEncType",o.formEncType,o,null),ke(e,t,"formMethod",o.formMethod,o,null),ke(e,t,"formTarget",o.formTarget,o,null)):(ke(e,t,"encType",o.encType,o,null),ke(e,t,"method",o.method,o,null),ke(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=kr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Ft);break;case"onScroll":i!=null&&be("scroll",e);break;case"onScrollEnd":i!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=kr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":be("beforetoggle",e),be("toggle",e),jr(e,"popover",i);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":jr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=A0.get(n)||n,jr(e,n,i))}}function Po(e,t,n,i,o,u){switch(n){case"style":wc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?xa(e,i):(typeof i=="number"||typeof i=="bigint")&&xa(e,""+i);break;case"onScroll":i!=null&&be("scroll",e);break;case"onScrollEnd":i!=null&&be("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[dt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):jr(e,n,i)}}}function rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var i=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ke(e,t,u,f,n,null)}}o&&ke(e,t,"srcSet",n.srcSet,n,null),i&&ke(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var m=u=f=o=null,b=null,R=null;for(i in n)if(n.hasOwnProperty(i)){var B=n[i];if(B!=null)switch(i){case"name":o=B;break;case"type":f=B;break;case"checked":b=B;break;case"defaultChecked":R=B;break;case"value":u=B;break;case"defaultValue":m=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:ke(e,t,i,B,n,null)}}mc(e,u,m,b,R,f,o,!1);return;case"select":be("invalid",e),i=f=u=null;for(o in n)if(n.hasOwnProperty(o)&&(m=n[o],m!=null))switch(o){case"value":u=m;break;case"defaultValue":f=m;break;case"multiple":i=m;default:ke(e,t,o,m,n,null)}t=u,n=f,e.multiple=!!i,t!=null?Sa(e,!!i,t,!1):n!=null&&Sa(e,!!i,n,!0);return;case"textarea":be("invalid",e),u=o=i=null;for(f in n)if(n.hasOwnProperty(f)&&(m=n[f],m!=null))switch(f){case"value":i=m;break;case"defaultValue":o=m;break;case"children":u=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:ke(e,t,f,m,n,null)}bc(e,i,o,u);return;case"option":for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!=null)&&(b==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":ke(e,t,b,i,n,null));return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(i=0;i<Wi.length;i++)be(Wi[i],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(i=n[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ke(e,t,R,i,n,null)}return;default:if(hs(t)){for(B in n)n.hasOwnProperty(B)&&(i=n[B],i!==void 0&&Po(e,t,B,i,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!=null&&ke(e,t,m,i,n,null))}function Py(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,m=null,b=null,R=null,B=null;for(z in n){var $=n[z];if(n.hasOwnProperty(z)&&$!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=$;default:i.hasOwnProperty(z)||ke(e,t,z,null,i,$)}}for(var k in i){var z=i[k];if($=n[k],i.hasOwnProperty(k)&&(z!=null||$!=null))switch(k){case"type":u=z;break;case"name":o=z;break;case"checked":R=z;break;case"defaultChecked":B=z;break;case"value":f=z;break;case"defaultValue":m=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:z!==$&&ke(e,t,k,z,i,$)}}cs(e,f,m,b,R,B,u,o);return;case"select":z=f=m=k=null;for(u in n)if(b=n[u],n.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":z=b;default:i.hasOwnProperty(u)||ke(e,t,u,null,i,b)}for(o in i)if(u=i[o],b=n[o],i.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":k=u;break;case"defaultValue":m=u;break;case"multiple":f=u;default:u!==b&&ke(e,t,o,u,i,b)}t=m,n=f,i=z,k!=null?Sa(e,!!n,k,!1):!!i!=!!n&&(t!=null?Sa(e,!!n,t,!0):Sa(e,!!n,n?[]:"",!1));return;case"textarea":z=k=null;for(m in n)if(o=n[m],n.hasOwnProperty(m)&&o!=null&&!i.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:ke(e,t,m,null,i,o)}for(f in i)if(o=i[f],u=n[f],i.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":k=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&ke(e,t,f,o,i,u)}vc(e,k,z);return;case"option":for(var Q in n)k=n[Q],n.hasOwnProperty(Q)&&k!=null&&!i.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:ke(e,t,Q,null,i,k));for(b in i)k=i[b],z=n[b],i.hasOwnProperty(b)&&k!==z&&(k!=null||z!=null)&&(b==="selected"?e.selected=k&&typeof k!="function"&&typeof k!="symbol":ke(e,t,b,k,i,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in n)k=n[ie],n.hasOwnProperty(ie)&&k!=null&&!i.hasOwnProperty(ie)&&ke(e,t,ie,null,i,k);for(R in i)if(k=i[R],z=n[R],i.hasOwnProperty(R)&&k!==z&&(k!=null||z!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,t));break;default:ke(e,t,R,k,i,z)}return;default:if(hs(t)){for(var ze in n)k=n[ze],n.hasOwnProperty(ze)&&k!==void 0&&!i.hasOwnProperty(ze)&&Po(e,t,ze,void 0,i,k);for(B in i)k=i[B],z=n[B],!i.hasOwnProperty(B)||k===z||k===void 0&&z===void 0||Po(e,t,B,k,i,z);return}}for(var E in n)k=n[E],n.hasOwnProperty(E)&&k!=null&&!i.hasOwnProperty(E)&&ke(e,t,E,null,i,k);for($ in i)k=i[$],z=n[$],!i.hasOwnProperty($)||k===z||k==null&&z==null||ke(e,t,$,k,i,z)}function xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ep(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],u=o.transferSize,f=o.initiatorType,m=o.duration;if(u&&m&&xf(f)){for(f=0,m=o.responseEnd,i+=1;i<n.length;i++){var b=n[i],R=b.startTime;if(R>m)break;var B=b.transferSize,$=b.initiatorType;B&&xf($)&&(b=b.responseEnd,f+=B*(b<m?1:(m-R)/(b-R)))}if(--i,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function Al(e){return e.nodeType===9?e:e.ownerDocument}function Tf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ef(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=null;function tp(){var e=window.event;return e&&e.type==="popstate"?e===au?!1:(au=e,!0):(au=null,!1)}var Af=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(e){return Of.resolve(null).then(e).catch(ip)}:Af;function ip(e){setTimeout(function(){throw e})}function Bn(e){return e==="head"}function jf(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),ei(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Pi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Pi(n);for(var u=n.firstChild;u;){var f=u.nextSibling,m=u.nodeName;u[mi]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&Pi(e.ownerDocument.body);n=o}while(n);ei(t)}function Rf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":iu(n),os(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function rp(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[mi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function lp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qt(e.nextSibling),e===null))return null;return e}function Cf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qt(e.nextSibling),e===null))return null;return e}function ru(e){return e.data==="$?"||e.data==="$~"}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sp(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var su=null;function kf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return qt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Uf(e,t,n){switch(t=Al(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Pi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);os(e)}var Ht=new Map,Df=new Set;function Ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=V.d;V.d={f:op,r:up,D:cp,C:dp,L:hp,m:fp,X:yp,S:gp,M:pp};function op(){var e=yn.f(),t=vl();return e||t}function up(e){var t=ba(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):yn.r(e)}var Wa=typeof document>"u"?null:document;function Mf(e,t,n){var i=Wa;if(i&&typeof t=="string"&&t){var o=zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Df.has(o)||(Df.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),rt(t,"link",e),Pe(t),i.head.appendChild(t)))}}function cp(e){yn.D(e),Mf("dns-prefetch",e,null)}function dp(e,t){yn.C(e,t),Mf("preconnect",e,t)}function hp(e,t,n){yn.L(e,t,n);var i=Wa;if(i&&e&&t){var o='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+zt(n.imageSizes)+'"]')):o+='[href="'+zt(e)+'"]';var u=o;switch(t){case"style":u=Fa(e);break;case"script":u=Pa(e)}Ht.has(u)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ht.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(er(u))||t==="script"&&i.querySelector(tr(u))||(t=i.createElement("link"),rt(t,"link",e),Pe(t),i.head.appendChild(t)))}}function fp(e,t){yn.m(e,t);var n=Wa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+zt(i)+'"][href="'+zt(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Pa(e)}if(!Ht.has(u)&&(e=w({rel:"modulepreload",href:e},t),Ht.set(u,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(tr(u)))return}i=n.createElement("link"),rt(i,"link",e),Pe(i),n.head.appendChild(i)}}}function gp(e,t,n){yn.S(e,t,n);var i=Wa;if(i&&e){var o=_a(i).hoistableStyles,u=Fa(e);t=t||"default";var f=o.get(u);if(!f){var m={loading:0,preload:null};if(f=i.querySelector(er(u)))m.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ht.get(u))&&ou(e,n);var b=f=i.createElement("link");Pe(b),rt(b,"link",e),b._p=new Promise(function(R,B){b.onload=R,b.onerror=B}),b.addEventListener("load",function(){m.loading|=1}),b.addEventListener("error",function(){m.loading|=2}),m.loading|=4,jl(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:m},o.set(u,f)}}}function yp(e,t){yn.X(e,t);var n=Wa;if(n&&e){var i=_a(n).hoistableScripts,o=Pa(e),u=i.get(o);u||(u=n.querySelector(tr(o)),u||(e=w({src:e,async:!0},t),(t=Ht.get(o))&&uu(e,t),u=n.createElement("script"),Pe(u),rt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function pp(e,t){yn.M(e,t);var n=Wa;if(n&&e){var i=_a(n).hoistableScripts,o=Pa(e),u=i.get(o);u||(u=n.querySelector(tr(o)),u||(e=w({src:e,async:!0,type:"module"},t),(t=Ht.get(o))&&uu(e,t),u=n.createElement("script"),Pe(u),rt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Nf(e,t,n,i){var o=(o=pe.current)?Ol(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=_a(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var u=_a(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(er(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Ht.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ht.set(e,n),u||mp(o,e,n,f.state))),t&&i===null)throw Error(s(528,""));return f}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pa(n),n=_a(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fa(e){return'href="'+zt(e)+'"'}function er(e){return'link[rel="stylesheet"]['+e+"]"}function Bf(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function mp(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),rt(t,"link",n),Pe(t),e.head.appendChild(t))}function Pa(e){return'[src="'+zt(e)+'"]'}function tr(e){return"script[async]"+e}function Lf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+zt(n.href)+'"]');if(i)return t.instance=i,Pe(i),i;var o=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Pe(i),rt(i,"style",o),jl(i,n.precedence,e),t.instance=i;case"stylesheet":o=Fa(n.href);var u=e.querySelector(er(o));if(u)return t.state.loading|=4,t.instance=u,Pe(u),u;i=Bf(n),(o=Ht.get(o))&&ou(i,o),u=(e.ownerDocument||e).createElement("link"),Pe(u);var f=u;return f._p=new Promise(function(m,b){f.onload=m,f.onerror=b}),rt(u,"link",i),t.state.loading|=4,jl(u,n.precedence,e),t.instance=u;case"script":return u=Pa(n.src),(o=e.querySelector(tr(u)))?(t.instance=o,Pe(o),o):(i=n,(o=Ht.get(u))&&(i=w({},n),uu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Pe(o),rt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,jl(i,n.precedence,e));return t.instance}function jl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,f=0;f<i.length;f++){var m=i[f];if(m.dataset.precedence===t)u=m;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function qf(e,t,n){if(Rl===null){var i=new Map,o=Rl=new Map;o.set(n,i)}else o=Rl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[mi]||u[tt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var m=i.get(f);m?m.push(u):i.set(f,[u])}}return i}function Hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function vp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bp(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Fa(i.href),u=t.querySelector(er(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Pe(u);return}u=t.ownerDocument||t,i=Bf(i),(o=Ht.get(o))&&ou(i,o),u=u.createElement("link"),Pe(u);var f=u;f._p=new Promise(function(m,b){f.onload=m,f.onerror=b}),rt(u,"link",i),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Cl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cu=0;function _p(e,t){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&cu===0&&(cu=62500*ep());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>cu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kl=null;function zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kl=new Map,t.forEach(wp,e),kl=null,Cl.call(e))}function wp(e,t){if(!(t.state.loading&4)){var n=kl.get(e);if(n)var i=n.get(null);else{n=new Map,kl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),i=f)}i&&n.set(null,i)}o=t.instance,f=o.getAttribute("data-precedence"),u=n.get(f)||i,u===i&&n.set(null,o),n.set(f,o),this.count++,i=Cl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var nr={$$typeof:Y,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Sp(e,t,n,i,o,u,f,m,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Gf(e,t,n,i,o,u,f,m,b,R,B,$){return e=new Sp(e,t,n,f,b,R,B,$,m),t=1,u===!0&&(t|=24),u=St(3,null,null,t),e.current=u,u.stateNode=e,t=Gs(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:t},Is(u),e}function Yf(e){return e?(e=Ca,e):Ca}function Vf(e,t,n,i,o,u){o=Yf(o),i.context===null?i.context=o:i.pendingContext=o,i=An(t),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=On(e,i,t),n!==null&&(mt(n,e,t),Di(n,e,t))}function Kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function du(e,t){Kf(e,t),(e=e.alternate)&&Kf(e,t)}function If(e){if(e.tag===13||e.tag===31){var t=Wn(e,67108864);t!==null&&mt(t,e,67108864),du(e,67108864)}}function Jf(e){if(e.tag===13||e.tag===31){var t=Ot();t=rs(t);var n=Wn(e,t);n!==null&&mt(n,e,t),du(e,t)}}var Ul=!0;function xp(e,t,n,i){var o=A.T;A.T=null;var u=V.p;try{V.p=2,hu(e,t,n,i)}finally{V.p=u,A.T=o}}function Tp(e,t,n,i){var o=A.T;A.T=null;var u=V.p;try{V.p=8,hu(e,t,n,i)}finally{V.p=u,A.T=o}}function hu(e,t,n,i){if(Ul){var o=fu(i);if(o===null)Fo(e,t,i,Dl,n),Qf(e,i);else if(Ap(o,e,t,n,i))i.stopPropagation();else if(Qf(e,i),t&4&&-1<Ep.indexOf(e)){for(;o!==null;){var u=ba(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=In(u.pendingLanes);if(f!==0){var m=u;for(m.pendingLanes|=2,m.entangledLanes|=2;f;){var b=1<<31-_t(f);m.entanglements[1]|=b,f&=~b}Zt(u),(Oe&6)===0&&(pl=vt()+500,Zi(0))}}break;case 31:case 13:m=Wn(u,2),m!==null&&mt(m,u,2),vl(),du(u,2)}if(u=fu(i),u===null&&Fo(e,t,i,Dl,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else Fo(e,t,i,null,n)}}function fu(e){return e=gs(e),gu(e)}var Dl=null;function gu(e){if(Dl=null,e=va(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dl=e,null}function Xf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(c0()){case tc:return 2;case nc:return 8;case xr:case d0:return 32;case ac:return 268435456;default:return 32}default:return 32}}var yu=!1,Ln=null,qn=null,Hn=null,ar=new Map,ir=new Map,$n=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qf(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(t.pointerId)}}function rr(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ba(t),t!==null&&If(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ap(e,t,n,i,o){switch(t){case"focusin":return Ln=rr(Ln,e,t,n,i,o),!0;case"dragenter":return qn=rr(qn,e,t,n,i,o),!0;case"mouseover":return Hn=rr(Hn,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return ar.set(u,rr(ar.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,ir.set(u,rr(ir.get(u)||null,e,t,n,i,o)),!0}return!1}function Zf(e){var t=va(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,uc(e.priority,function(){Jf(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,uc(e.priority,function(){Jf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);fs=i,n.target.dispatchEvent(i),fs=null}else return t=ba(n),t!==null&&If(t),e.blockedOn=n,!1;t.shift()}return!0}function Wf(e,t,n){Ml(e)&&n.delete(t)}function Op(){yu=!1,Ln!==null&&Ml(Ln)&&(Ln=null),qn!==null&&Ml(qn)&&(qn=null),Hn!==null&&Ml(Hn)&&(Hn=null),ar.forEach(Wf),ir.forEach(Wf)}function Nl(e,t){e.blockedOn===t&&(e.blockedOn=null,yu||(yu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Op)))}var Bl=null;function Ff(e){Bl!==e&&(Bl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Bl===e&&(Bl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(gu(i||n)===null)continue;break}var u=ba(n);u!==null&&(e.splice(t,3),t-=3,fo(u,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function ei(e){function t(b){return Nl(b,e)}Ln!==null&&Nl(Ln,e),qn!==null&&Nl(qn,e),Hn!==null&&Nl(Hn,e),ar.forEach(t),ir.forEach(t);for(var n=0;n<$n.length;n++){var i=$n[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)Zf(n),n.blockedOn===null&&$n.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=o[dt]||null;if(typeof u=="function")f||Ff(n);else if(f){var m=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[dt]||null)m=f.formAction;else if(gu(o)!==null)continue}else m=f.action;typeof m=="function"?n[i+1]=m:(n.splice(i,3),i-=3),Ff(n)}}}function Pf(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function pu(e){this._internalRoot=e}Ll.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Ot();Vf(n,i,e,t,null,null)},Ll.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vf(e.current,2,null,e,null,null),vl(),t[ma]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=oc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&Zf(e)}};var eg=a.version;if(eg!=="19.2.3")throw Error(s(527,eg,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var jp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{gi=ql.inject(jp),bt=ql}catch{}}return sr.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,i="",o=lh,u=sh,f=oh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Gf(e,1,!1,null,null,n,i,null,o,u,f,Pf),e[ma]=t.current,Wo(e),new pu(t)},sr.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var i=!1,o="",u=lh,f=sh,m=oh,b=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=Gf(e,1,!0,t,n??null,i,o,b,u,f,m,Pf),t.context=Yf(null),n=t.current,i=Ot(),i=rs(i),o=An(i),o.callback=null,On(n,o,i),n=i,t.current.lanes=n,pi(t,n),Zt(t),e[ma]=t.current,Wo(e),new Ll(t)},sr.version="19.2.3",sr}var cg;function qp(){if(cg)return bu.exports;cg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),bu.exports=Lp(),bu.exports}var Hp=qp();const $p=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gp=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,s)=>s?s.toUpperCase():r.toLowerCase()),dg=l=>{const a=Gp(l);return a.charAt(0).toUpperCase()+a.slice(1)},qg=(...l)=>l.filter((a,r,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===r).join(" ").trim(),Yp=l=>{for(const a in l)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Vp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kp=W.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:c="",children:d,iconNode:h,...g},y)=>W.createElement("svg",{ref:y,...Vp,width:a,height:a,stroke:l,strokeWidth:s?Number(r)*24/Number(a):r,className:qg("lucide",c),...!d&&!Yp(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,x])=>W.createElement(p,x)),...Array.isArray(d)?d:[d]]));const Le=(l,a)=>{const r=W.forwardRef(({className:s,...c},d)=>W.createElement(Kp,{ref:d,iconNode:a,className:qg(`lucide-${$p(dg(l))}`,`lucide-${l}`,s),...c}));return r.displayName=dg(l),r};const Ip=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jp=Le("arrow-left",Ip);const Xp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qp=Le("arrow-right",Xp);const Zp=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ju=Le("book-open",Zp);const Wp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hg=Le("check",Wp);const Fp=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pp=Le("clock",Fp);const em=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Vl=Le("cloud",em);const tm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Uu=Le("download",tm);const nm=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],Du=Le("feather",nm);const am=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],im=Le("heart",am);const rm=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lm=Le("image",rm);const sm=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],om=Le("loader-circle",sm);const um=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cm=Le("lock",um);const dm=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hm=Le("mail",dm);const fm=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Kl=Le("moon",fm);const gm=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ym=Le("music",gm);const pm=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mm=Le("pen",pm);const vm=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cr=Le("sparkles",vm);const bm=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_m=Le("trash-2",bm);const wm=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Sm=Le("type",wm);const xm=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tm=Le("user",xm);const Em=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Am=Le("volume-2",Em);const Om=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],jm=Le("volume-x",Om);const Rm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hi=Le("x",Rm);const Cm=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hg=Le("zap",Cm),fr="wqnniektmublmmghfeep",$g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indxbm5pZWt0bXVibG1tZ2hmZWVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNTcxODIsImV4cCI6MjA4MzgzMzE4Mn0.2zunxJtcUXC0UetqULp5bEIgZuuzoAUahNBixcWRlT4";function km({onClose:l}){const[a,r]=W.useState([]),[s,c]=W.useState(!0),[d,h]=W.useState("cloud"),[g,y]=W.useState(null),[p,x]=W.useState(null),[w,T]=W.useState(""),[O,U]=W.useState(null),[N,K]=W.useState(null);W.useEffect(()=>{C()},[]);const C=async()=>{const G=localStorage.getItem("nightpage_access_token");if(G)try{const re=await fetch(`https://${fr}.supabase.co/functions/v1/make-server-3e97d870/journal/entries`,{headers:{Authorization:`Bearer ${G}`}});if(re.ok){const me=await re.json();r(me.entries),h("cloud"),c(!1);return}}catch(re){console.error("Failed to load from cloud:",re)}const H=JSON.parse(localStorage.getItem("journalEntries")||"[]");r(H),h("local"),c(!1)},D=(G,H="text")=>{const re=new Date(G.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});let me,ne,ce;if(H==="html")me=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NightPage - Journal Entry</title>
    <style>
        body {
            font-family: Georgia, serif;
            color: #333;
            background-color: #fafafa;
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }
        .header {
            border-bottom: 1px solid #ddd;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .date {
            color: #666;
            font-size: 14px;
        }
        .metadata {
            color: #999;
            font-size: 13px;
            margin-top: 10px;
        }
        .content {
            white-space: pre-wrap;
            word-break: break-word;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 16px 0;
            display: block;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>NightPage Journal Entry</h1>
        <div class="date">${re}</div>
        <div class="metadata">Word Count: ${G.wordCount} | Duration: ${G.duration} minutes</div>
    </div>
    <div class="content">${G.content}</div>
</body>
</html>`,ne="text/html",ce="html";else{const V=G.content.replace(/<[^>]*>/g,"").trim();me=`NightPage - Journal Entry

${re}
Word Count: ${G.wordCount}
Duration: ${G.duration} minutes

---

${V}`,ne="text/plain",ce="txt"}const Se=new Blob([me],{type:ne}),de=URL.createObjectURL(Se),A=document.createElement("a");A.href=de,A.download=`nightpage-${new Date(G.date).toISOString().split("T")[0]}.${ce}`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(de)},Y=()=>{const G=a.map(ce=>`${new Date(ce.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}
Word Count: ${ce.wordCount} | Duration: ${ce.duration} min

${ce.content}

${"=".repeat(80)}

`).join(""),H=`NightPage - Complete Journal Archive

Total Entries: ${a.length}

${"=".repeat(80)}

${G}`,re=new Blob([H],{type:"text/plain"}),me=URL.createObjectURL(re),ne=document.createElement("a");ne.href=me,ne.download=`nightpage-archive-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(me)},Z=G=>{if(confirm("Are you sure you want to delete this entry? This cannot be undone.")){const H=a.filter(re=>re.date!==G);localStorage.setItem("journalEntries",JSON.stringify(H.reverse())),C()}},ue=G=>new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=G=>{x(G),T(G.content)},J=async()=>{if(!p)return;const G={...p,content:w,wordCount:w.split(/\s+/).filter(re=>re.length>0).length,duration:Math.ceil(w.length/150)},H=a.map(re=>re.date===p.date?G:re);r(H),localStorage.setItem("journalEntries",JSON.stringify(H.reverse())),x(null)};return v.jsx("div",{style:{position:"fixed",inset:0,background:"#0a0908",zIndex:50,overflowY:"auto"},children:v.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"0 24px 48px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"48px",paddingBottom:"32px",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx(Ju,{style:{width:"32px",height:"32px",color:"rgba(163, 149, 148, 0.7)"}}),v.jsx("h1",{style:{fontSize:"32px",color:"#f2f4f3",fontFamily:"Georgia, serif",fontWeight:"normal",margin:0},children:"Past Entries"})]}),v.jsx("button",{onClick:l,style:{color:"rgba(74, 71, 70, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease"},onMouseEnter:G=>{const H=G.currentTarget;H.style.color="rgba(163, 149, 148, 0.7)"},onMouseLeave:G=>{const H=G.currentTarget;H.style.color="rgba(74, 71, 70, 0.7)"},children:v.jsx(hi,{style:{width:"24px",height:"24px"}})})]}),s?v.jsx("div",{style:{textAlign:"center",paddingTop:"80px",paddingBottom:"80px"},children:v.jsx("p",{style:{color:"rgba(138, 129, 128, 0.8)",fontSize:"18px",marginBottom:"16px",fontFamily:"Georgia, serif"},children:"Loading entries..."})}):a.length===0?v.jsxs("div",{style:{textAlign:"center",paddingTop:"80px",paddingBottom:"80px"},children:[v.jsx("p",{style:{color:"rgba(138, 129, 128, 0.8)",fontSize:"18px",marginBottom:"16px",fontFamily:"Georgia, serif"},children:"No entries yet. Your thoughts await."}),v.jsx("button",{onClick:l,style:{padding:"8px 24px",border:"1px solid rgba(74, 71, 70, 0.6)",color:"#f2f4f3",background:"transparent",cursor:"pointer",borderRadius:"4px",transition:"background-color 0.2s ease",fontFamily:"inherit"},onMouseEnter:G=>{const H=G.currentTarget;H.style.background="#1a1817"},onMouseLeave:G=>{const H=G.currentTarget;H.style.background="transparent"},children:"Start Writing"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"24px",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},children:[v.jsxs("div",{style:{color:"rgba(138, 129, 128, 0.8)"},children:[v.jsx("span",{style:{fontSize:"24px",color:"#f2f4f3",fontWeight:"bold"},children:a.length})," ",a.length===1?"entry":"entries"," saved"]}),v.jsxs("button",{onClick:Y,style:{padding:"8px 16px",border:"1px solid rgba(163, 149, 148, 0.7)",color:"rgba(163, 149, 148, 0.7)",background:"transparent",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",fontFamily:"inherit"},onMouseEnter:G=>{const H=G.currentTarget;H.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:G=>{const H=G.currentTarget;H.style.background="transparent"},children:[v.jsx(Uu,{style:{width:"16px",height:"16px"}}),"Download All"]})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"},children:a.map(G=>v.jsxs("button",{onClick:()=>y(G),style:{textAlign:"left",padding:"24px",border:"1px solid rgba(42, 38, 37, 0.6)",background:"#0f0e0d",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:H=>{const re=H.currentTarget;re.style.borderColor="rgba(74, 71, 70, 0.6)",re.style.background="#1a1817"},onMouseLeave:H=>{const re=H.currentTarget;re.style.borderColor="rgba(42, 38, 37, 0.6)",re.style.background="#0f0e0d"},children:[v.jsx("div",{style:{fontSize:"14px",color:"rgba(74, 71, 70, 0.7)",marginBottom:"8px"},children:ue(G.date)}),v.jsxs("div",{style:{color:"#f2f4f3",marginBottom:"12px",lineHeight:1.6,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",fontFamily:"Georgia, serif"},children:[G.content.substring(0,150),"..."]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",fontSize:"12px",color:"rgba(138, 129, 128, 0.8)"},children:[v.jsxs("span",{children:[G.wordCount," words"]}),v.jsx("span",{children:""}),v.jsxs("span",{children:[G.duration," min"]})]})]},G.date))})]}),g&&v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"24px",backdropFilter:"blur(4px)"},children:v.jsxs("div",{style:{background:"#0f0e0d",border:"1px solid rgba(74, 71, 70, 0.6)",borderRadius:"4px",maxWidth:"768px",width:"100%",maxHeight:"80vh",overflowY:"auto"},children:[v.jsxs("div",{style:{position:"sticky",top:0,background:"#0f0e0d",borderBottom:"1px solid rgba(42, 38, 37, 0.6)",padding:"24px 32px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"14px",color:"rgba(74, 71, 70, 0.7)",marginBottom:"4px"},children:ue(g.date)}),v.jsxs("div",{style:{fontSize:"12px",color:"rgba(138, 129, 128, 0.8)"},children:[g.wordCount," words  ",g.duration," min session"]})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("button",{onClick:()=>{K(g),U("text")},style:{padding:"8px 12px",color:"rgba(163, 149, 148, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},title:"Download options",onMouseEnter:G=>{const H=G.currentTarget;H.style.color="#f2f4f3"},onMouseLeave:G=>{const H=G.currentTarget;H.style.color="rgba(163, 149, 148, 0.7)"},children:v.jsx(Uu,{style:{width:"20px",height:"20px"}})}),N?.date===g.date&&v.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"4px",background:"#0f0e0d",border:"1px solid rgba(74, 71, 70, 0.6)",borderRadius:"4px",overflow:"hidden",zIndex:1e3,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"},children:[v.jsx("button",{onClick:()=>{D(g,"text"),K(null),U(null)},style:{display:"block",width:"100%",padding:"10px 16px",textAlign:"left",background:"transparent",border:"none",color:"#f2f4f3",cursor:"pointer",fontSize:"13px",transition:"background-color 0.2s ease",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},onMouseEnter:G=>{G.currentTarget.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:G=>{G.currentTarget.style.background="transparent"},children:" Text Only (.txt)"}),v.jsx("button",{onClick:()=>{D(g,"html"),K(null),U(null)},style:{display:"block",width:"100%",padding:"10px 16px",textAlign:"left",background:"transparent",border:"none",color:"#f2f4f3",cursor:"pointer",fontSize:"13px",transition:"background-color 0.2s ease"},onMouseEnter:G=>{G.currentTarget.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:G=>{G.currentTarget.style.background="transparent"},children:" With Images (.html)"})]}),v.jsx("button",{onClick:()=>Z(g.date),style:{padding:"8px",color:"rgba(163, 149, 148, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease"},title:"Delete",onMouseEnter:G=>{const H=G.currentTarget;H.style.color="#ff6b6b"},onMouseLeave:G=>{const H=G.currentTarget;H.style.color="rgba(163, 149, 148, 0.7)"},children:v.jsx(_m,{style:{width:"20px",height:"20px"}})}),v.jsx("button",{onClick:()=>F(g),style:{padding:"8px",color:"rgba(163, 149, 148, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease"},title:"Edit",onMouseEnter:G=>{const H=G.currentTarget;H.style.color="#f2f4f3"},onMouseLeave:G=>{const H=G.currentTarget;H.style.color="rgba(163, 149, 148, 0.7)"},children:v.jsx(mm,{style:{width:"20px",height:"20px"}})}),v.jsx("button",{onClick:()=>y(null),style:{padding:"8px",color:"rgba(74, 71, 70, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease"},onMouseEnter:G=>{const H=G.currentTarget;H.style.color="rgba(163, 149, 148, 0.7)"},onMouseLeave:G=>{const H=G.currentTarget;H.style.color="rgba(74, 71, 70, 0.7)"},children:v.jsx(hi,{style:{width:"20px",height:"20px"}})})]})]}),v.jsx("div",{style:{padding:"32px"},children:p&&p.date===g.date?v.jsxs(v.Fragment,{children:[v.jsx("textarea",{value:w,onChange:G=>T(G.target.value),style:{width:"100%",height:"192px",background:"#0f0e0d",color:"#f2f4f3",border:"1px solid rgba(42, 38, 37, 0.6)",padding:"16px",resize:"none",lineHeight:"1.8",fontFamily:"Georgia, serif",fontSize:"1.125rem",fontSizeAdjust:"none"}}),v.jsxs("button",{onClick:J,style:{marginTop:"16px",padding:"8px 16px",background:"rgba(163, 149, 148, 0.7)",color:"#0f0e0d",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",fontFamily:"inherit"},onMouseEnter:G=>{const H=G.currentTarget;H.style.background="#f2f4f3",H.style.color="#0f0e0d"},onMouseLeave:G=>{const H=G.currentTarget;H.style.background="rgba(163, 149, 148, 0.7)",H.style.color="#0f0e0d"},children:[v.jsx(Hg,{style:{width:"16px",height:"16px"}}),"Save"]})]}):v.jsx("div",{style:{color:"#f2f4f3",lineHeight:"1.8",fontFamily:"Georgia, serif",fontSize:"1.125rem"},dangerouslySetInnerHTML:{__html:g.content}})}),v.jsx("style",{children:`
                div[dangerouslySetInnerHTML] img {
                  max-width: 100%;
                  height: auto;
                  border-radius: 8px;
                  margin: 16px 0;
                  display: block;
                }
              `})]})})]})})}function zm({onStart:l}){const[a,r]=W.useState(!1),[s,c]=W.useState(!1);return W.useEffect(()=>{const d=setTimeout(()=>c(!0),100);return()=>clearTimeout(d)},[]),a?v.jsx(km,{onClose:()=>r(!1)}):v.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"48px 24px",position:"relative",overflow:"hidden"},children:[v.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,height:600,background:"radial-gradient(circle, rgba(255,255,255,0.03) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none",zIndex:1}}),v.jsxs("div",{style:{maxWidth:800,margin:"0 auto",textAlign:"center",position:"relative",zIndex:10,width:"100%"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:16,marginBottom:32,opacity:s?1:0,transform:s?"scale(1)":"scale(0.8)",transition:"all 1200ms cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[v.jsx(Kl,{style:{width:48,height:48,color:"rgba(242,244,243,0.7)"},strokeWidth:1.5}),v.jsx(Du,{style:{width:48,height:48,color:"rgba(242,244,243,0.7)"},strokeWidth:1.5})]}),v.jsx("h1",{style:{fontSize:80,margin:"0 0 16px 0",color:"#f2f4f3",fontFamily:'"Playfair Display", "Merriweather", serif',fontWeight:700,letterSpacing:-2,opacity:s?1:0,transform:s?"translateY(0)":"translateY(40px)",transition:"all 1000ms cubic-bezier(0.34, 1.56, 0.64, 1) 100ms"},children:"NightPage"}),v.jsx("p",{style:{fontSize:20,color:"rgba(242,244,243,0.75)",margin:"0 0 36px 0",fontFamily:'"Merriweather", serif',fontWeight:300,letterSpacing:.5,opacity:s?1:0,transform:s?"translateY(0)":"translateY(40px)",transition:"all 1000ms cubic-bezier(0.34, 1.56, 0.64, 1) 200ms"},children:"When the world gets quiet, your thoughts get louder."}),v.jsxs("div",{style:{maxWidth:550,margin:"0 auto 40px auto",color:"rgba(242,244,243,0.65)",fontSize:17,lineHeight:1.7,fontFamily:'"Merriweather", serif',opacity:s?1:0,transform:s?"translateY(0)":"translateY(40px)",transition:"all 1000ms cubic-bezier(0.34, 1.56, 0.64, 1) 300ms"},children:[v.jsx("p",{style:{marginBottom:12},children:"A quiet space for timed reflection."}),v.jsx("p",{children:"Set your mood. Start the timer. Let words flow."})]}),v.jsx("button",{onClick:l,style:{marginTop:32,padding:"16px 40px",background:s?"rgba(255,255,255,0.05)":"transparent",color:"#f2f4f3",border:"2px solid rgba(242,244,243,0.3)",fontSize:14,fontWeight:700,textTransform:"uppercase",letterSpacing:3,cursor:"pointer",borderRadius:6,fontFamily:"inherit",opacity:s?1:0,transform:s?"translateY(0)":"translateY(40px)",transition:"all 1000ms cubic-bezier(0.34, 1.56, 0.64, 1) 400ms",boxShadow:s?"0 0 30px rgba(255,255,255,0.05)":"none"},onMouseEnter:d=>{const h=d.currentTarget;h.style.background="rgba(255,255,255,0.1)",h.style.borderColor="rgba(242,244,243,0.6)",h.style.boxShadow="0 0 40px rgba(255,255,255,0.1)"},onMouseLeave:d=>{const h=d.currentTarget;h.style.background="rgba(255,255,255,0.05)",h.style.borderColor="rgba(242,244,243,0.3)",h.style.boxShadow="0 0 30px rgba(255,255,255,0.05)"},children:"START WRITING"}),v.jsxs("button",{onClick:()=>r(!0),style:{position:"fixed",top:24,right:24,display:"flex",alignItems:"center",gap:8,color:"rgba(242,244,243,0.5)",background:"transparent",border:"none",cursor:"pointer",fontSize:14,fontFamily:"inherit",opacity:s?1:0,transform:s?"translateY(0)":"translateY(-16px)",transition:"all 700ms ease 1200ms"},onMouseEnter:d=>{const h=d.currentTarget;h.style.color="rgba(242,244,243,0.8)"},onMouseLeave:d=>{const h=d.currentTarget;h.style.color="rgba(242,244,243,0.5)"},children:[v.jsx(Ju,{style:{width:20,height:20}}),v.jsx("span",{children:"Past Entries"})]}),v.jsx("p",{style:{marginTop:56,fontSize:12,color:"rgba(242,244,243,0.35)",letterSpacing:2,fontFamily:'"Merriweather", serif',opacity:s?1:0,transition:"opacity 1200ms ease 1000ms",textTransform:"uppercase"},children:"YOUR NIGHTLY RITUAL AWAITS"})]})]})}const Um=[{label:"5 Minutes",value:5},{label:"10 Minutes",value:10},{label:"15 Minutes",value:15},{label:"20 Minutes",value:20},{label:"30 Minutes",value:30}];function Dm({onStart:l}){return v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 24px"},children:v.jsxs("div",{style:{maxWidth:800,width:"100%",textAlign:"center"},children:[v.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:32},children:v.jsx(Pp,{style:{width:56,height:56,color:"rgba(242,244,243,0.7)"},strokeWidth:1.5})}),v.jsx("h2",{style:{fontSize:56,color:"#f2f4f3",margin:"0 0 24px 0",fontFamily:'"Playfair Display", "Merriweather", serif',fontWeight:700,letterSpacing:-1},children:"Set Your Time"}),v.jsx("p",{style:{color:"rgba(242,244,243,0.65)",marginBottom:40,maxWidth:550,margin:"0 auto 40px auto",fontSize:16,lineHeight:1.6,fontFamily:'"Merriweather", serif',fontWeight:300},children:"Choose how long you wish to journal tonight. When time runs out, your session gently concludes."}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:16,maxWidth:600,margin:"0 auto 48px auto"},children:Um.map(({label:a,value:r})=>v.jsx("button",{onClick:()=>l(r),style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)",color:"#f2f4f3",border:"1.5px solid rgba(242,244,243,0.15)",borderRadius:8,cursor:"pointer",fontSize:15,fontWeight:600,fontFamily:'"Merriweather", serif',letterSpacing:.5,transition:"all 300ms ease",position:"relative",overflow:"hidden"},onMouseEnter:s=>{const c=s.currentTarget;c.style.background="rgba(255,255,255,0.06)",c.style.borderColor="rgba(242,244,243,0.35)",c.style.boxShadow="0 0 20px rgba(255,255,255,0.08)"},onMouseLeave:s=>{const c=s.currentTarget;c.style.background="rgba(255,255,255,0.02)",c.style.borderColor="rgba(242,244,243,0.15)",c.style.boxShadow="none"},children:a},r))}),v.jsx("p",{style:{fontSize:11,color:"rgba(242,244,243,0.35)",letterSpacing:2,fontFamily:'"Merriweather", serif',textTransform:"uppercase",marginTop:32},children:"CHOOSE WISELY  TIME FLOWS ONLY FORWARD"})]})})}const fg={calm:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",creative:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",focus:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",melancholy:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",energized:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",nocturne:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3"};class Mm{audioContext=null;masterGain=null;oscillators=[];currentMood="calm";start(a){this.stop(),this.currentMood=a,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.audioContext.createGain(),this.masterGain.connect(this.audioContext.destination),this.masterGain.gain.value=.12;const r=this.getMoodConfig(a);this.createOscillators(r)}getMoodConfig(a){const r={calm:{frequencies:[174,261.63,329.63,392],waveType:"sine",tempo:.8,harmonics:3,noiseAmount:.015},creative:{frequencies:[261.63,293.66,329.63,392,440],waveType:"triangle",tempo:1.2,harmonics:4,noiseAmount:.012},focus:{frequencies:[110,146.83,220,293.66],waveType:"sine",tempo:1,harmonics:2,noiseAmount:.01},melancholy:{frequencies:[220,246.94,277.18,329.63],waveType:"sine",tempo:.6,harmonics:3,noiseAmount:.02},energized:{frequencies:[293.66,349.23,392,440,493.88],waveType:"sawtooth",tempo:1.5,harmonics:4,noiseAmount:.012},nocturne:{frequencies:[130.81,164.81,196,246.94],waveType:"sine",tempo:.5,harmonics:2,noiseAmount:.018}};return r[a]||r.calm}createOscillators(a){!this.audioContext||!this.masterGain||(a.frequencies.forEach((r,s)=>{const c=this.audioContext.createOscillator(),d=this.audioContext.createGain();c.type=a.waveType,c.frequency.value=r;const h=this.audioContext.createOscillator(),g=this.audioContext.createGain();h.frequency.value=.1+s*.05*a.tempo,g.gain.value=2,h.connect(g),g.connect(c.frequency),d.gain.value=0;const y=2+s*.5;d.gain.linearRampToValueAtTime(.15/(s+1),this.audioContext.currentTime+y),c.connect(d),d.connect(this.masterGain),c.start(),h.start(),this.oscillators.push(c,h)}),this.addNoise(a.noiseAmount||.015))}addNoise(a=.015){if(!this.audioContext||!this.masterGain)return;const r=2*this.audioContext.sampleRate,s=this.audioContext.createBuffer(1,r,this.audioContext.sampleRate),c=s.getChannelData(0);for(let y=0;y<r;y++)c[y]=Math.random()*2-1;const d=this.audioContext.createBufferSource();d.buffer=s,d.loop=!0;const h=this.audioContext.createBiquadFilter();h.type="lowpass",h.frequency.value=800,h.Q.value=1;const g=this.audioContext.createGain();g.gain.value=a,d.connect(h),h.connect(g),g.connect(this.masterGain),d.start()}stop(){this.oscillators.forEach(a=>{try{a.stop(),a.disconnect()}catch{}}),this.oscillators=[],this.audioContext&&(this.audioContext.close(),this.audioContext=null)}setVolume(a){this.masterGain&&(this.masterGain.gain.value=a)}}const xu=[{id:"calm",name:"Calm",icon:Vl,description:"Peaceful reflection",type:"synthetic"},{id:"creative",name:"Creative",icon:cr,description:"Unlock ideas",type:"synthetic"},{id:"focus",name:"Focus",icon:hg,description:"Deep concentration",type:"synthetic"},{id:"melancholy",name:"Melancholy",icon:im,description:"Emotional processing",type:"synthetic"},{id:"energized",name:"Energized",icon:hg,description:"Uplifting thoughts",type:"synthetic"},{id:"nocturne",name:"Nocturne",icon:Kl,description:"Late night vibes",type:"synthetic"}];function Nm({isPlaying:l}){const[a,r]=W.useState("calm"),[s,c]=W.useState(!1),[d,h]=W.useState(!1),[g,y]=W.useState(!1),p=W.useRef(null),x=W.useRef(null),w=W.useRef(null),T=xu.find(C=>C.id===a)||xu[0];W.useEffect(()=>(x.current=new Mm,()=>{x.current?.stop(),w.current&&(w.current.pause(),w.current=null)}),[]),W.useEffect(()=>{if(l&&!s?x.current?.start(a):x.current?.stop(),!g||s||!l){w.current&&w.current.pause();return}w.current||(w.current=new Audio,w.current.loop=!0,w.current.volume=.08),w.current.src=fg[a]||fg.calm,w.current.play().catch(()=>{})},[l,s,a,g]);const O=C=>{r(C),h(!1)},U=()=>{c(!s)},N=C=>{p.current=a,r(C),y(!0)},K=C=>{if(g&&a===C){p.current&&r(p.current),y(!1),h(!1);return}N(C),h(!1)};return v.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"16px"},children:[v.jsxs("button",{onClick:()=>h(!d),style:{display:"flex",alignItems:"center",gap:"12px",color:"rgba(163, 149, 148, 0.7)",background:"transparent",border:"none",cursor:"pointer",fontFamily:"inherit",transition:"color 0.2s ease"},onMouseEnter:C=>{const D=C.currentTarget;D.style.color="#f2f4f3"},onMouseLeave:C=>{const D=C.currentTarget;D.style.color="rgba(163, 149, 148, 0.7)"},children:[v.jsx(ym,{style:{width:"20px",height:"20px"}}),v.jsxs("div",{style:{display:"none"},children:[v.jsx("div",{style:{fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:T.name}),v.jsx("div",{style:{fontSize:"12px",color:"rgba(74, 71, 70, 0.7)",marginTop:"4px",transition:"color 0.2s ease"},children:l&&!s?"Playing":"Paused"})]})]}),v.jsx("button",{onClick:U,style:{color:"rgba(163, 149, 148, 0.7)",background:"transparent",border:"none",cursor:"pointer",fontFamily:"inherit",transition:"color 0.2s ease"},onMouseEnter:C=>{const D=C.currentTarget;D.style.color="#f2f4f3"},onMouseLeave:C=>{const D=C.currentTarget;D.style.color="rgba(163, 149, 148, 0.7)"},children:s?v.jsx(jm,{style:{width:"20px",height:"20px"}}):v.jsx(Am,{style:{width:"20px",height:"20px"}})}),d&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:40},onClick:()=>h(!1)}),v.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",width:"288px",background:"#1a1817",border:"1px solid rgba(74, 71, 70, 0.5)",borderRadius:"4px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.5)",zIndex:50,overflow:"hidden"},children:[v.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},children:[v.jsx("div",{style:{fontSize:"14px",color:"rgba(163, 149, 148, 0.7)"},children:"Select Your Mood"}),v.jsx("div",{style:{fontSize:"12px",color:"rgba(74, 71, 70, 0.6)",marginTop:"4px"},children:"Choose ambient sounds to match your state of mind"})]}),v.jsx("div",{style:{maxHeight:"384px",overflowY:"auto"},children:xu.map(C=>{const D=C.icon,Y=C.id===a,Z=g&&a===C.id;return v.jsxs("div",{style:{display:"flex",alignItems:"stretch"},children:[v.jsx("button",{onClick:()=>O(C.id),style:{flex:1,textAlign:"left",padding:"12px 12px 12px 16px",background:Y?"rgba(42, 38, 37, 0.6)":"transparent",border:"none",color:Y?"#f2f4f3":"rgba(138, 129, 128, 0.8)",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.2s ease"},onMouseEnter:ue=>{const F=ue.currentTarget;F.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:ue=>{const F=ue.currentTarget;F.style.background=Y?"rgba(42, 38, 37, 0.6)":"transparent"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx(D,{style:{width:"20px",height:"20px",color:"rgba(163, 149, 148, 0.7)"}}),v.jsxs("div",{style:{flex:1},children:[v.jsx("div",{style:{fontSize:"14px",fontWeight:"500"},children:C.name}),v.jsx("div",{style:{fontSize:"12px",color:"rgba(74, 71, 70, 0.6)"},children:C.description})]}),Y&&v.jsx("div",{style:{width:"8px",height:"8px",background:"rgba(163, 149, 148, 0.7)",borderRadius:"50%",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})}),v.jsx("button",{onClick:ue=>{ue.stopPropagation(),K(C.id)},style:{width:48,border:"none",background:Z?"rgba(42, 38, 37, 0.9)":"transparent",borderLeft:"1px solid rgba(42, 38, 37, 0.6)",color:Z?"#f2f4f3":"rgba(138, 129, 128, 0.8)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},title:Z?"Beat on":"Add subtle beat",onMouseEnter:ue=>{const F=ue.currentTarget;Z||(F.style.background="rgba(42, 38, 37, 0.6)")},onMouseLeave:ue=>{const F=ue.currentTarget;F.style.background=Z?"rgba(42, 38, 37, 0.9)":"transparent"},children:v.jsx(Qp,{style:{width:16,height:16}})})]},C.id)})}),v.jsx("div",{style:{padding:"12px",borderTop:"1px solid rgba(42, 38, 37, 0.6)",fontSize:"12px",color:"rgba(74, 71, 70, 0.6)",textAlign:"center"},children:"Generative soundscapes powered by Web Audio API"})]})]})]})}const fa=[{id:"georgia",name:"Classic Serif",family:"Georgia, serif",sample:"The night whispers secrets"},{id:"baskerville",name:"Baskerville",family:'"Libre Baskerville", serif',sample:"The night whispers secrets"},{id:"spectral",name:"Spectral",family:'"Spectral", serif',sample:"The night whispers secrets"},{id:"merriweather",name:"Merriweather",family:'"Merriweather", serif',sample:"The night whispers secrets"},{id:"playfair",name:"Playfair Display",family:'"Playfair Display", serif',sample:"The night whispers secrets"},{id:"lora",name:"Lora",family:'"Lora", serif',sample:"The night whispers secrets"},{id:"crimson",name:"Crimson Text",family:'"Crimson Text", serif',sample:"The night whispers secrets"},{id:"courier",name:"Typewriter",family:'"Courier New", monospace',sample:"The night whispers secrets"},{id:"dancing",name:"Dancing Script",family:'"Dancing Script", cursive',sample:"The night whispers secrets",isCalligraphy:!0},{id:"greatvibes",name:"Great Vibes",family:'"Great Vibes", cursive',sample:"The night whispers secrets",isCalligraphy:!0},{id:"satisfy",name:"Satisfy",family:'"Satisfy", cursive',sample:"The night whispers secrets",isCalligraphy:!0},{id:"inter",name:"Modern Sans",family:'"Inter", sans-serif',sample:"The night whispers secrets"},{id:"system",name:"System UI",family:"system-ui, sans-serif",sample:"The night whispers secrets"}];function Bm({currentFont:l,onFontChange:a}){const[r,s]=W.useState(!1);return fa.find(c=>c.id===l)||fa[0],v.jsxs("div",{style:{position:"relative"},children:[v.jsx("button",{onClick:()=>s(!r),style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",color:"rgba(242,244,243,0.5)",background:"transparent",border:"none",cursor:"pointer",fontFamily:"inherit",fontSize:13,transition:"color 200ms"},onMouseEnter:c=>{const d=c.currentTarget;d.style.color="#f2f4f3"},onMouseLeave:c=>{const d=c.currentTarget;d.style.color="rgba(242,244,243,0.5)"},title:"Change font",children:v.jsx(Sm,{style:{width:16,height:16}})}),r&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",inset:0,zIndex:40},onClick:()=>s(!1)}),v.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:8,width:320,background:"#0f0e0e",border:"1px solid rgba(255,255,255,0.05)",borderRadius:8,zIndex:50,overflow:"hidden",maxHeight:"70vh",overflowY:"auto"},children:[v.jsx("div",{style:{padding:12,borderBottom:"1px solid rgba(255,255,255,0.05)"},children:v.jsx("div",{style:{fontSize:13,color:"rgba(242,244,243,0.5)"},children:"Choose Your Font"})}),v.jsxs("div",{style:{overflowY:"auto",maxHeight:"60vh"},children:[v.jsx("div",{style:{padding:"8px 12px",background:"#0f0e0d",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},children:v.jsx("div",{style:{fontSize:"11px",color:"rgba(74, 71, 70, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Journalistic"})}),fa.filter(c=>!c.isCalligraphy&&c.id!=="courier"&&c.id!=="inter"&&c.id!=="system").map(c=>{const d=c.id===l;return v.jsxs("button",{onClick:()=>{a(c.id),s(!1)},style:{width:"100%",textAlign:"left",padding:"16px",background:d?"rgba(42, 38, 37, 0.6)":"transparent",border:"none",borderBottom:"1px solid rgba(42, 38, 37, 0.3)",color:d?"#f2f4f3":"rgba(138, 129, 128, 0.8)",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.2s ease"},onMouseEnter:h=>{const g=h.currentTarget;g.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:h=>{const g=h.currentTarget;g.style.background=d?"rgba(42, 38, 37, 0.6)":"transparent"},children:[v.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:c.name}),v.jsx("div",{style:{fontSize:"16px",color:"rgba(163, 149, 148, 0.7)",fontFamily:c.family},children:c.sample})]},c.id)}),v.jsx("div",{style:{padding:"8px 12px",background:"#0f0e0d",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},children:v.jsx("div",{style:{fontSize:"11px",color:"rgba(74, 71, 70, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Calligraphy"})}),fa.filter(c=>c.isCalligraphy).map(c=>{const d=c.id===l;return v.jsxs("button",{onClick:()=>{a(c.id),s(!1)},style:{width:"100%",textAlign:"left",padding:"16px",background:d?"rgba(42, 38, 37, 0.6)":"transparent",border:"none",borderBottom:"1px solid rgba(42, 38, 37, 0.3)",color:d?"#f2f4f3":"rgba(138, 129, 128, 0.8)",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.2s ease"},onMouseEnter:h=>{const g=h.currentTarget;g.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:h=>{const g=h.currentTarget;g.style.background=d?"rgba(42, 38, 37, 0.6)":"transparent"},children:[v.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:c.name}),v.jsx("div",{style:{fontSize:"18px",color:"rgba(163, 149, 148, 0.7)",fontFamily:c.family},children:c.sample})]},c.id)}),v.jsx("div",{style:{padding:"8px 12px",background:"#0f0e0d",borderBottom:"1px solid rgba(42, 38, 37, 0.6)"},children:v.jsx("div",{style:{fontSize:"11px",color:"rgba(74, 71, 70, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Other"})}),fa.filter(c=>["courier","inter","system"].includes(c.id)).map(c=>{const d=c.id===l;return v.jsxs("button",{onClick:()=>{a(c.id),s(!1)},style:{width:"100%",textAlign:"left",padding:"16px",background:d?"rgba(42, 38, 37, 0.6)":"transparent",border:"none",borderBottom:"1px solid rgba(42, 38, 37, 0.3)",color:d?"#f2f4f3":"rgba(138, 129, 128, 0.8)",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.2s ease"},onMouseEnter:h=>{const g=h.currentTarget;g.style.background="rgba(42, 38, 37, 0.6)"},onMouseLeave:h=>{const g=h.currentTarget;g.style.background=d?"rgba(42, 38, 37, 0.6)":"transparent"},children:[v.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:c.name}),v.jsx("div",{style:{fontSize:"16px",color:"rgba(163, 149, 148, 0.7)",fontFamily:c.family},children:c.sample})]},c.id)})]})]})]})]})}function Lm(l){const a=fa.find(r=>r.id===l);return a?a.family:fa[0].family}function qm(l){return/<\/?[a-z][\s\S]*>/i.test(l)?l:l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br/>")}function Hm({content:l,onChange:a,isDisabled:r,sessionEnded:s,selectedFont:c,selectedEffect:d}){const h=W.useRef(null),g=Lm(c),y=W.useRef(null),[p,x]=W.useState(null),w=W.useMemo(()=>qm(l||""),[l]);W.useEffect(()=>{h.current&&!r&&h.current.focus()},[r]),W.useEffect(()=>{const H=h.current;H&&H.innerHTML!==w&&(H.innerHTML=w)},[w]),W.useEffect(()=>{if(p)return p.style.outline="2px solid rgba(100,200,255,0.8)",p.style.outlineOffset="2px",()=>{p.style.outline="",p.style.outlineOffset=""}},[p]);const T=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O={sparkle:"sparkle-effect",glow:"glow-effect",flicker:"flicker-effect",pulse:"pulse-effect",wave:"wave-effect"},U=(H,re,me)=>{const ne=H.getBoundingClientRect(),ce=16,Se=re-ne.left,de=me-ne.top,A=ne.width,V=ne.height;return Se<ce&&de<ce?"nw":Se>A-ce&&de<ce?"ne":Se<ce&&de>V-ce?"sw":Se>A-ce&&de>V-ce?"se":de<ce?"n":de>V-ce?"s":Se<ce?"w":Se>A-ce?"e":null},N=()=>{const H=h.current;H&&a(H.innerHTML)},K=()=>N(),C=H=>{const re=H.clipboardData?.items;if(!re){H.preventDefault();const ne=H.clipboardData.getData("text/plain");document.execCommand("insertText",!1,ne);return}let me=!1;for(let ne of re)if(ne.type.indexOf("image")===0){me=!0,H.preventDefault();const ce=ne.getAsFile();if(ce){const Se=new FileReader;Se.onload=de=>{const A=document.createElement("img");A.src=de.target?.result,A.style.maxWidth="100%",A.style.height="auto",A.style.borderRadius="8px",A.style.margin="8px 8px 8px 0",A.style.cursor="grab",A.style.display="inline-block",A.style.float="left",A.setAttribute("data-journal-img","true"),A.style.width="400px",A.style.verticalAlign="top";const V=window.getSelection();if(V&&V.rangeCount>0){const M=V.getRangeAt(0);M.insertNode(A),M.setStartAfter(A),M.collapse(!0),V.removeAllRanges(),V.addRange(M)}N()},Se.readAsDataURL(ce)}break}if(!me){H.preventDefault();const ne=H.clipboardData.getData("text/plain");document.execCommand("insertText",!1,ne)}},D=H=>{if(H.target.tagName==="IMG"){H.preventDefault(),H.stopPropagation();const re=H.target;x(re)}},Y=H=>{if(!p)return;H.preventDefault(),H.stopPropagation();const re=U(p,H.clientX,H.clientY),me=parseFloat(p.dataset.tx||"0"),ne=parseFloat(p.dataset.ty||"0");y.current={img:p,startX:H.clientX,startY:H.clientY,startTranslateX:me,startTranslateY:ne,lastTranslateX:me,lastTranslateY:ne,startWidth:p.width,startHeight:p.height,resizeHandle:re||void 0},p.style.cursor="grabbing"},Z=H=>{if(!y.current||!p)return;const re=H.clientX-y.current.startX,me=H.clientY-y.current.startY,ne=y.current.resizeHandle;if(ne){const ce=y.current.startWidth||p.width,Se=y.current.startHeight||p.height,de=ce/Se;let A=ce,V=Se;ne.includes("e")?A=ce+re:ne.includes("w")&&(A=ce-re),ne.includes("s")?V=Se+me:ne.includes("n")&&(V=Se-me),ne.includes("n")||ne.includes("s")?A=V*de:V=A/de,A<100&&(A=100),V<100&&(V=100),A>window.innerWidth-100&&(A=window.innerWidth-100,V=A/de),p.style.width=`${A}px`,p.style.height="auto";const M={nw:"nwse-resize",ne:"nesw-resize",sw:"nesw-resize",se:"nwse-resize",n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};p.style.cursor=M[ne]||"grab"}else{const ce=y.current.startTranslateX+re,Se=y.current.startTranslateY+me;y.current.lastTranslateX=ce,y.current.lastTranslateY=Se,p.style.transform=`translate(${ce}px, ${Se}px)`,p.style.cursor="grabbing"}},ue=()=>{if(y.current&&p){const H=y.current.lastTranslateX,re=y.current.lastTranslateY;p.dataset.tx=String(H),p.dataset.ty=String(re),p.style.cursor="grab",y.current=null,N()}},F=H=>{H.preventDefault(),H.stopPropagation(),H.dataTransfer.dropEffect="copy"},J=H=>{H.preventDefault(),H.stopPropagation();const re=H.dataTransfer.files;for(let me=0;me<re.length;me++){const ne=re[me];if(ne.type.startsWith("image/")){const ce=new FileReader;ce.onload=Se=>{const de=document.createElement("img");de.src=Se.target?.result,de.style.maxWidth="100%",de.style.height="auto",de.style.borderRadius="8px",de.style.margin="8px 8px 8px 0",de.style.cursor="grab",de.style.display="inline-block",de.style.float="left",de.setAttribute("data-journal-img","true"),de.style.width="400px",de.style.verticalAlign="top";const A=window.getSelection();if(A&&A.rangeCount>0){const V=A.getRangeAt(0);V.insertNode(de),V.setStartAfter(de),V.collapse(!0),A.removeAllRanges(),A.addRange(V)}N()},ce.readAsDataURL(ne)}}},G=!w||w==="<br/>";return v.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"100px 32px 32px 32px",boxSizing:"border-box",minHeight:"100vh",width:"100%"},children:[v.jsxs("div",{style:{marginBottom:64,paddingBottom:40,borderBottom:"1px solid rgba(255,255,255,0.05)",textAlign:"center"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,marginBottom:20},children:[v.jsx(Ju,{style:{width:28,height:28,color:"rgba(242,244,243,0.7)",flexShrink:0},strokeWidth:1.5}),v.jsx("h1",{style:{fontSize:48,color:"#f2f4f3",margin:0,fontFamily:g,fontWeight:400,letterSpacing:-.5},children:"Tonight's Entry"})]}),v.jsx("p",{style:{color:"rgba(242,244,243,0.5)",letterSpacing:1,fontFamily:g,fontSize:13,margin:0,textTransform:"uppercase"},children:T})]}),G&&v.jsx("div",{style:{color:"rgba(242,244,243,0.35)",fontFamily:g,fontSize:17,lineHeight:1.85,letterSpacing:.3,marginBottom:20},children:"Let your thoughts flow onto the page... (Paste or drag images to add them)"}),v.jsx("div",{ref:h,contentEditable:!r,onInput:K,onPaste:C,onDragOver:F,onDrop:J,onClick:D,onMouseDown:H=>{H.target.tagName==="IMG"&&p===H.target&&Y(H)},onMouseMove:Z,onMouseUp:ue,onMouseLeave:ue,className:d!=="none"&&O[d]||"",style:{width:"100%",minHeight:"calc(100vh - 420px)",background:"transparent",color:"#f2f4f3",outline:"none",fontFamily:g,fontSize:17,lineHeight:1.85,letterSpacing:.3,border:"none",opacity:r?.6:1,cursor:r?"not-allowed":"text",boxSizing:"border-box",paddingRight:24,whiteSpace:"pre-wrap",wordBreak:"break-word",position:"relative"},suppressContentEditableWarning:!0}),v.jsx("div",{style:{marginTop:64,paddingTop:40,borderTop:"1px solid rgba(255,255,255,0.05)",textAlign:"center",color:"rgba(242,244,243,0.35)",fontSize:12,letterSpacing:1.2,fontFamily:g,textTransform:"uppercase"},children:"Your words are private. They exist only for this moment."}),v.jsx("style",{children:`
        [contenteditable] img {
          max-width: 100%;
          height: auto;
          border-radius: 8px;
          margin: 8px 8px 8px 0;
          cursor: grab;
          display: inline-block;
          float: left;
          vertical-align: top;
          transition: opacity 0.2s, filter 0.2s;
        }

        [contenteditable] img:active {
          cursor: grabbing;
        }

        [contenteditable] img:hover {
          filter: brightness(1.05);
        }
      `})]})}var $m=Lg();function Ql(l,a){var r={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&a.indexOf(s)<0&&(r[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(l);c<s.length;c++)a.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(l,s[c])&&(r[s[c]]=l[s[c]]);return r}function Gm(l,a,r,s){function c(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function g(x){try{p(s.next(x))}catch(w){h(w)}}function y(x){try{p(s.throw(x))}catch(w){h(w)}}function p(x){x.done?d(x.value):c(x.value).then(g,y)}p((s=s.apply(l,a||[])).next())})}const Ym=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class Xu extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class Vm extends Xu{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class gg extends Xu{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class yg extends Xu{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Mu;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Mu||(Mu={}));class Km{constructor(a,{headers:r={},customFetch:s,region:c=Mu.Any}={}){this.url=a,this.headers=r,this.region=c,this.fetch=Ym(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Gm(this,arguments,void 0,function*(r,s={}){var c;let d,h;try{const{headers:g,method:y,body:p,signal:x,timeout:w}=s;let T={},{region:O}=s;O||(O=this.region);const U=new URL(`${this.url}/${r}`);O&&O!=="any"&&(T["x-region"]=O,U.searchParams.set("forceFunctionRegion",O));let N;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(T["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(T["Content-Type"]="application/json",N=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?N=JSON.stringify(p):N=p;let K=x;w&&(h=new AbortController,d=setTimeout(()=>h.abort(),w),x?(K=h.signal,x.addEventListener("abort",()=>h.abort())):K=h.signal);const C=yield this.fetch(U.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),g),body:N,signal:K}).catch(ue=>{throw new Vm(ue)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new gg(C);if(!C.ok)throw new yg(C);let Y=((c=C.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return Y==="application/json"?Z=yield C.json():Y==="application/octet-stream"||Y==="application/pdf"?Z=yield C.blob():Y==="text/event-stream"?Z=C:Y==="multipart/form-data"?Z=yield C.formData():Z=yield C.text(),{data:Z,error:null,response:C}}catch(g){return{data:null,error:g,response:g instanceof yg||g instanceof gg?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var Im=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Jm=class{constructor(l){var a,r;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(r=l.isMaybeSingle)!==null&&r!==void 0?r:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,g=null,y=null,p=d.status,x=d.statusText;if(d.ok){var w,T;if(r.method!=="HEAD"){var O;const C=await d.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((O=r.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const N=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),K=(T=d.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");N&&K&&K.length>1&&(y=parseInt(K[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,p=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var U;const N=await d.text();try{h=JSON.parse(N),Array.isArray(h)&&d.status===404&&(g=[],h=null,p=200,x="OK")}catch{d.status===404&&N===""?(p=204,x="No Content"):h={message:N}}if(h&&r.isMaybeSingle&&(!(h==null||(U=h.details)===null||U===void 0)&&U.includes("0 rows"))&&(h=null,p=200,x="OK"),h&&r.shouldThrowOnError)throw new Im(h)}return{error:h,data:g,count:y,status:p,statusText:x}});return this.shouldThrowOnError||(c=c.catch(d=>{var h;let g="";const y=d?.cause;if(y){var p,x,w,T;const U=(p=y?.message)!==null&&p!==void 0?p:"",N=(x=y?.code)!==null&&x!==void 0?x:"";g=`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,g+=`

Caused by: ${(T=y?.name)!==null&&T!==void 0?T:"Error"}: ${U}`,N&&(g+=` (${N})`),y?.stack&&(g+=`
${y.stack}`)}else{var O;g=(O=d?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,a)}returns(){return this}overrideTypes(){return this}},Xm=class extends Jm{select(l){let a=!1;const r=(l??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:r,foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${l}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:r=a}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${l}`),this}range(l,a,{foreignTable:r,referencedTable:s=r}={}){const c=typeof s>"u"?"offset":`${s}.offset`,d=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(d,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:r=!1,buffers:s=!1,wal:c=!1,format:d="text"}={}){var h;const g=[l?"analyze":null,a?"verbose":null,r?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const pg=new RegExp("[,()]");var si=class extends Xm{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const r=Array.from(new Set(a)).map(s=>typeof s=="string"&&pg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(l,`in.(${r})`),this}notIn(l,a){const r=Array.from(new Set(a)).map(s=>typeof s=="string"&&pg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(l,`not.in.(${r})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:r,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(l,`${c}fts${d}.${a}`),this}match(l){return Object.entries(l).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(l,a,r){return this.url.searchParams.append(l,`not.${a}.${r}`),this}or(l,{foreignTable:a,referencedTable:r=a}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${l})`),this}filter(l,a,r){return this.url.searchParams.append(l,`${a}.${r}`),this}},Qm=class{constructor(l,{headers:a={},schema:r,fetch:s}){this.url=l,this.headers=new Headers(a),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:r=!1,count:s}=a??{},c=r?"HEAD":"GET";let d=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:g,headers:y}=this.cloneRequestState();return g.searchParams.set("select",h),s&&y.append("Prefer",`count=${s}`),new si({method:c,url:g,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:r=!0}={}){var s;const c="POST",{url:d,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),r||h.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(g.length>0){const y=[...new Set(g)].map(p=>`"${p}"`);d.searchParams.set("columns",y.join(","))}}return new si({method:c,url:d,headers:h,schema:this.schema,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:r=!1,count:s,defaultToNull:c=!0}={}){var d;const h="POST",{url:g,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),s&&y.append("Prefer",`count=${s}`),c||y.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(p.length>0){const x=[...new Set(p)].map(w=>`"${w}"`);g.searchParams.set("columns",x.join(","))}}return new si({method:h,url:g,headers:y,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(l,{count:a}={}){var r;const s="PATCH",{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new si({method:s,url:c,headers:d,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:l}={}){var a;const r="DELETE",{url:s,headers:c}=this.cloneRequestState();return l&&c.append("Prefer",`count=${l}`),new si({method:r,url:s,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Zm=class Gg{constructor(a,{headers:r={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(r),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qm(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Gg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,r={},{head:s=!1,get:c=!1,count:d}={}){var h;let g;const y=new URL(`${this.url}/rpc/${a}`);let p;const x=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(x)),w=s&&Object.values(r).some(x);w?(g="POST",p=r):s||c?(g=s?"HEAD":"GET",Object.entries(r).filter(([O,U])=>U!==void 0).map(([O,U])=>[O,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([O,U])=>{y.searchParams.append(O,U)})):(g="POST",p=r);const T=new Headers(this.headers);return w?T.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&T.set("Prefer",`count=${d}`),new si({method:g,url:y,headers:T,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Wm{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const c=s.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const s=this.getWebSocketConstructor();return new s(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Fm="2.90.1",Pm=`realtime-js/${Fm}`,Yg="1.0.0",ev="2.0.0",mg=Yg,Nu=1e4,tv=1e3,nv=100;var Yn;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Yn||(Yn={}));var Fe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Fe||(Fe={}));var It;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(It||(It={}));var Bu;(function(l){l.websocket="websocket"})(Bu||(Bu={}));var ga;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ga||(ga={}));class av{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,s;const c=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var r,s;const c=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,s){var c,d;const h=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",y=(d=a.join_ref)!==null&&d!==void 0?d:"",p=a.payload.event,x=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},w=Object.keys(x).length===0?"":JSON.stringify(x);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+g.length+h.length+p.length+w.length,O=new ArrayBuffer(this.HEADER_LENGTH+T);let U=new DataView(O),N=0;U.setUint8(N++,this.KINDS.userBroadcastPush),U.setUint8(N++,y.length),U.setUint8(N++,g.length),U.setUint8(N++,h.length),U.setUint8(N++,p.length),U.setUint8(N++,w.length),U.setUint8(N++,r),Array.from(y,C=>U.setUint8(N++,C.charCodeAt(0))),Array.from(g,C=>U.setUint8(N++,C.charCodeAt(0))),Array.from(h,C=>U.setUint8(N++,C.charCodeAt(0))),Array.from(p,C=>U.setUint8(N++,C.charCodeAt(0))),Array.from(w,C=>U.setUint8(N++,C.charCodeAt(0)));var K=new Uint8Array(O.byteLength+s.byteLength);return K.set(new Uint8Array(O),0),K.set(new Uint8Array(s),O.byteLength),K.buffer}decode(a,r){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return r(s)}if(typeof a=="string"){const s=JSON.parse(a),[c,d,h,g,y]=s;return r({join_ref:c,ref:d,topic:h,event:g,payload:y})}return r({})}_binaryDecode(a){const r=new DataView(a),s=r.getUint8(0),c=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,c)}_decodeUserBroadcast(a,r,s){const c=r.getUint8(1),d=r.getUint8(2),h=r.getUint8(3),g=r.getUint8(4);let y=this.HEADER_LENGTH+4;const p=s.decode(a.slice(y,y+c));y=y+c;const x=s.decode(a.slice(y,y+d));y=y+d;const w=s.decode(a.slice(y,y+h));y=y+h;const T=a.slice(y,a.byteLength),O=g===this.JSON_ENCODING?JSON.parse(s.decode(T)):T,U={type:this.BROADCAST_EVENT,event:x,payload:O};return h>0&&(U.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>r.includes(s)))}}class Vg{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(De||(De={}));const vg=(l,a,r={})=>{var s;const c=(s=r.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((d,h)=>(d[h]=iv(h,l,a,c),d),{}):{}},iv=(l,a,r,s)=>{const c=a.find(g=>g.name===l),d=c?.type,h=r[l];return d&&!s.includes(d)?Kg(d,h):Lu(h)},Kg=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return ov(a,r)}switch(l){case De.bool:return rv(a);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return lv(a);case De.json:case De.jsonb:return sv(a);case De.timestamp:return uv(a);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Lu(a);default:return Lu(a)}},Lu=l=>l,rv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},lv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},sv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},ov=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,s=l[r];if(l[0]==="{"&&s==="}"){let d;const h=l.slice(1,r);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>Kg(a,g))}return l},uv=l=>typeof l=="string"?l.replace(" ","T"):l,Ig=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Tu{constructor(a,r,s={},c=Nu){this.channel=a,this.event=r,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var bg;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(bg||(bg={}));class dr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dr.syncState(this.state,c,d,h),this.pendingDiffs.forEach(y=>{this.state=dr.syncDiff(this.state,y,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=dr.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,c){const d=this.cloneDeep(a),h=this.transformState(r),g={},y={};return this.map(d,(p,x)=>{h[p]||(y[p]=x)}),this.map(h,(p,x)=>{const w=d[p];if(w){const T=x.map(K=>K.presence_ref),O=w.map(K=>K.presence_ref),U=x.filter(K=>O.indexOf(K.presence_ref)<0),N=w.filter(K=>T.indexOf(K.presence_ref)<0);U.length>0&&(g[p]=U),N.length>0&&(y[p]=N)}else g[p]=x}),this.syncDiff(d,{joins:g,leaves:y},s,c)}static syncDiff(a,r,s,c){const{joins:d,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(d,(g,y)=>{var p;const x=(p=a[g])!==null&&p!==void 0?p:[];if(a[g]=this.cloneDeep(y),x.length>0){const w=a[g].map(O=>O.presence_ref),T=x.filter(O=>w.indexOf(O.presence_ref)<0);a[g].unshift(...T)}s(g,x,y)}),this.map(h,(g,y)=>{let p=a[g];if(!p)return;const x=y.map(w=>w.presence_ref);p=p.filter(w=>x.indexOf(w.presence_ref)<0),a[g]=p,c(g,p,y),p.length===0&&delete a[g]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const c=a[s];return"metas"in c?r[s]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[s]=c,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _g;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(_g||(_g={}));var hr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(hr||(hr={}));var pn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class ci{constructor(a,r={config:{}},s){var c,d;if(this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,It.join,this.params,this.timeout),this.rejoinTimer=new Vg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new dr(this),this.broadcastEndpointURL=Ig(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var s,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:h,presence:g,private:y}}=this.params,p=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(O=>O.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[hr.PRESENCE]&&this.bindings[hr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},T={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(O=>a?.(pn.CHANNEL_ERROR,O)),this._onClose(()=>a?.(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:O})=>{var U;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){a?.(pn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,K=(U=N?.length)!==null&&U!==void 0?U:0,C=[];for(let D=0;D<K;D++){const Y=N[D],{filter:{event:Z,schema:ue,table:F,filter:J}}=Y,G=O&&O[D];if(G&&G.event===Z&&ci.isFilterValueEqual(G.schema,ue)&&ci.isFilterValueEqual(G.table,F)&&ci.isFilterValueEqual(G.filter,J))C.push(Object.assign(Object.assign({},Y),{id:G.id}));else{this.unsubscribe(),this.state=Fe.errored,a?.(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,a&&a(pn.SUBSCRIBED);return}}).receive("error",O=>{this.state=Fe.errored,a?.(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{a?.(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this.state===Fe.joined&&a===hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,s)}async httpSend(a,r,s={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let y=g.statusText;try{const p=await g.json();y=p.error||p.message||y}catch{}return Promise.reject(new Error(y))}async send(a,r={}){var s,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,y;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new Tu(this,It.leave,{},a),s.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(a,r,s){const c=new AbortController,d=setTimeout(()=>c.abort(),s),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(d),h}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Tu(this,a,r,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>nv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var c,d;const h=a.toLocaleLowerCase(),{close:g,error:y,leave:p,join:x}=It;if(s&&[g,y,p,x].indexOf(h)>=0&&s!==this._joinRef())return;let T=this._onMessage(h,r,s);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(O=>{var U,N,K;return((U=O.filter)===null||U===void 0?void 0:U.event)==="*"||((K=(N=O.filter)===null||N===void 0?void 0:N.event)===null||K===void 0?void 0:K.toLocaleLowerCase())===h}).map(O=>O.callback(T,s)):(d=this.bindings[h])===null||d===void 0||d.filter(O=>{var U,N,K,C,D,Y,Z,ue;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in O){const F=O.id,J=(U=O.filter)===null||U===void 0?void 0:U.event;return F&&((N=r.ids)===null||N===void 0?void 0:N.includes(F))&&(J==="*"||J?.toLocaleLowerCase()===((K=r.data)===null||K===void 0?void 0:K.type.toLocaleLowerCase()))&&(!(!((C=O.filter)===null||C===void 0)&&C.table)||O.filter.table===((D=r.data)===null||D===void 0?void 0:D.table))}else{const F=(Z=(Y=O?.filter)===null||Y===void 0?void 0:Y.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return F==="*"||F===((ue=r?.event)===null||ue===void 0?void 0:ue.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===h}).map(O=>{if(typeof T=="object"&&"ids"in T){const U=T.data,{schema:N,table:K,commit_timestamp:C,type:D,errors:Y}=U;T=Object.assign(Object.assign({},{schema:N,table:K,commit_timestamp:C,eventType:D,new:{},old:{},errors:Y}),this._getPayloadRecords(U))}O.callback(T,s)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const c=a.toLocaleLowerCase(),d={type:c,filter:r,callback:s};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===s&&ci.isEqual(c.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(It.close,{},a)}_onError(a){this._on(It.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=vg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=vg(a.columns,a.old_record)),r}}const Eu=()=>{},Hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cv=[1e3,2e3,5e3,1e4],dv=1e4,hv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fv{constructor(a,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nu,this.transport=null,this.heartbeatIntervalMs=Hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eu,this.ref=0,this.reconnectTimer=null,this.vsn=mg,this.logger=Eu,this.conn=null,this.sendBuffer=[],this.serializer=new av,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Bu.websocket}`,this.httpEndpoint=Ig(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wm.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Yn.connecting:return ga.Connecting;case Yn.open:return ga.Open;case Yn.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const s=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===s);if(c)return c;{const d=new ci(`realtime:${a}`,r,this);return this.channels.push(d),d}}push(a){const{topic:r,event:s,payload:c,ref:d}=a,h=()=>{this.encode(a,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${r} ${s} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(tv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:c,payload:d,ref:h}=r,g=h?`(${h})`:"",y=d.status||"";this.log("receive",`${y} ${s} ${c} ${g}`.trim(),d),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(c,d,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Yn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yn.open||this.conn.readyState===Yn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(It.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${a}${s}${c}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([hv],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,s=!1;if(a)r=a,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const d={access_token:r,version:Pm};r&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(It.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(r)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Vg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,s,c,d,h,g,y,p,x,w,T,O;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:Nu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Hl.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Eu,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:mg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(U=>cv[U-1]||dv),this.vsn){case Yg:this.encode=(x=a?.encode)!==null&&x!==void 0?x:((U,N)=>N(JSON.stringify(U))),this.decode=(w=a?.decode)!==null&&w!==void 0?w:((U,N)=>N(JSON.parse(U)));break;case ev:this.encode=(T=a?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(O=a?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var gr=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gv(l,a,r){const s=new URL(a,l);if(r)for(const[c,d]of Object.entries(r))d!==void 0&&s.searchParams.set(c,d);return s.toString()}async function yv(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function pv(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:c,body:d,headers:h}){const g=gv(l.baseUrl,s,c),y=await yv(l.auth),p=await a(g,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...y,...h},body:d?JSON.stringify(d):void 0}),x=await p.text(),w=(p.headers.get("content-type")||"").includes("application/json"),T=w&&x?JSON.parse(x):x;if(!p.ok){const O=w?T:void 0,U=O?.error;throw new gr(U?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:U?.type,icebergCode:U?.code,details:O})}return{status:p.status,headers:p.headers,data:T}}}}function $l(l){return l.join("")}var mv=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:$l(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(l,a){const r={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$l(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$l(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$l(l.namespace)}`}),!0}catch(a){if(a instanceof gr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(r){if(r instanceof gr&&r.status===409)return;throw r}}};function ti(l){return l.join("")}var vv=class{constructor(l,a="",r){this.client=l,this.prefix=a,this.accessDelegation=r}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ti(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ti(l.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(l,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ti(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ti(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ti(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ti(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(r){if(r instanceof gr&&r.status===404)return!1;throw r}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(r){if(r instanceof gr&&r.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw r}}},bv=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const r=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=pv({baseUrl:r,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new mv(this.client,a),this.tableOps=new vv(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},Zl=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function qe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var _v=class extends Zl{constructor(l,a,r){super(l),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qu=class extends Zl{constructor(l,a){super(l),this.name="StorageUnknownError",this.originalError=a}};const Qu=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),wv=()=>Response,Hu=l=>{if(Array.isArray(l))return l.map(r=>Hu(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,s])=>{const c=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Hu(s)}),a},Sv=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},xv=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function yr(l){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},yr(l)}function Tv(l,a){if(yr(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var s=r.call(l,a);if(yr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function Ev(l){var a=Tv(l,"string");return yr(a)=="symbol"?a:a+""}function Av(l,a,r){return(a=Ev(a))in l?Object.defineProperty(l,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[a]=r,l}function wg(l,a){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),r.push.apply(r,s)}return r}function se(l){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?wg(Object(r),!0).forEach(function(s){Av(l,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(r,s))})}return l}const Au=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},Ov=async(l,a,r)=>{l instanceof await wv()&&!r?.noResolveJson?l.json().then(s=>{const c=l.status||500,d=s?.statusCode||c+"";a(new _v(Au(s),c,d))}).catch(s=>{a(new qu(Au(s),s))}):a(new qu(Au(l),l))},jv=(l,a,r,s)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!s?c:(Sv(s)?(c.headers=se({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,a?.duplex&&(c.duplex=a.duplex),se(se({},c),r))};async function wr(l,a,r,s,c,d){return new Promise((h,g)=>{l(r,jv(a,s,c,d)).then(y=>{if(!y.ok)throw y;return s?.noResolveJson?y:y.json()}).then(y=>h(y)).catch(y=>Ov(y,g,s))})}async function pr(l,a,r,s){return wr(l,"GET",a,r,s)}async function Kt(l,a,r,s,c){return wr(l,"POST",a,s,c,r)}async function $u(l,a,r,s,c){return wr(l,"PUT",a,s,c,r)}async function Rv(l,a,r,s){return wr(l,"HEAD",a,se(se({},r),{},{noResolveJson:!0}),s)}async function Zu(l,a,r,s,c){return wr(l,"DELETE",a,s,c,r)}var Cv=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}}};let Jg;Jg=Symbol.toStringTag;var kv=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[Jg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cv(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}}};const zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Uv=class{constructor(l,a={},r,s){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.bucketId=r,this.fetch=Qu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,a,r,s){var c=this;try{let d;const h=se(se({},Sg),s);let g=se(se({},c.headers),l==="POST"&&{"x-upsert":String(h.upsert)});const y=h.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),y&&d.append("metadata",c.encodeMetadata(y)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),y&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(y))):(d=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,y&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),s?.headers&&(g=se(se({},g),s.headers));const p=c._removeEmptyFolders(a),x=c._getFinalPath(p),w=await(l=="PUT"?$u:Kt)(c.fetch,`${c.url}/object/${x}`,d,se({headers:g},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(qe(d))return{data:null,error:d};throw d}}async upload(l,a,r){return this.uploadOrUpdate("POST",l,a,r)}async uploadToSignedUrl(l,a,r,s){var c=this;const d=c._removeEmptyFolders(l),h=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${h}`);g.searchParams.set("token",a);try{let y;const p=se({upsert:Sg.upsert},s),x=se(se({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",p.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",p.cacheControl)):(y=r,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType),{data:{path:d,fullPath:(await $u(c.fetch,g.toString(),y,{headers:x})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if(qe(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,a){var r=this;try{let s=r._getFinalPath(l);const c=se({},r.headers);a?.upsert&&(c["x-upsert"]="true");const d=await Kt(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:c}),h=new URL(r.url+d.url),g=h.searchParams.get("token");if(!g)throw new Zl("No token returned by API");return{data:{signedUrl:h.toString(),path:l,token:g},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async update(l,a,r){return this.uploadOrUpdate("PUT",l,a,r)}async move(l,a,r){var s=this;try{return{data:await Kt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:l,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:s.headers}),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async copy(l,a,r){var s=this;try{return{data:{path:(await Kt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:l,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async createSignedUrl(l,a,r){var s=this;try{let c=s._getFinalPath(l),d=await Kt(s.fetch,`${s.url}/object/sign/${c}`,se({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${s.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async createSignedUrls(l,a,r){var s=this;try{const c=await Kt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:a,paths:l},{headers:s.headers}),d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(h=>se(se({},h),{},{signedUrl:h.signedURL?encodeURI(`${s.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}download(l,a){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(a?.transform||{}),c=s?`?${s}`:"",d=this._getFinalPath(l),h=()=>pr(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new kv(h,this.shouldThrowOnError)}async info(l){var a=this;const r=a._getFinalPath(l);try{return{data:Hu(await pr(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async exists(l){var a=this;const r=a._getFinalPath(l);try{return await Rv(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(qe(s)&&s instanceof qu){const c=s.originalError;if([400,404].includes(c?.status))return{data:!1,error:s}}throw s}}getPublicUrl(l,a){const r=this._getFinalPath(l),s=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&s.push(c);const d=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&s.push(h);let g=s.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${g}`)}}}async remove(l){var a=this;try{return{data:await Zu(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async list(l,a,r){var s=this;try{const c=se(se(se({},zv),a),{},{prefix:l||""});return{data:await Kt(s.fetch,`${s.url}/object/list/${s.bucketId}`,c,{headers:s.headers},r),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async listV2(l,a){var r=this;try{const s=se({},l);return{data:await Kt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},a),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const Xg="2.90.1",Qg={"X-Client-Info":`storage-js/${Xg}`};var Dv=class{constructor(l,a={},r,s){this.shouldThrowOnError=!1;const c=new URL(l);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=se(se({},Qg),a),this.fetch=Qu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var a=this;try{const r=a.listBucketOptionsToQueryString(l);return{data:await pr(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async getBucket(l){var a=this;try{return{data:await pr(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async createBucket(l,a={public:!1}){var r=this;try{return{data:await Kt(r.fetch,`${r.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async updateBucket(l,a){var r=this;try{return{data:await $u(r.fetch,`${r.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async emptyBucket(l){var a=this;try{return{data:await Kt(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async deleteBucket(l){var a=this;try{return{data:await Zu(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Mv=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},Qg),a),this.fetch=Qu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Kt(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async listBuckets(l){var a=this;try{const r=new URLSearchParams;l?.limit!==void 0&&r.set("limit",l.limit.toString()),l?.offset!==void 0&&r.set("offset",l.offset.toString()),l?.sortColumn&&r.set("sortColumn",l.sortColumn),l?.sortOrder&&r.set("sortOrder",l.sortOrder),l?.search&&r.set("search",l.search);const s=r.toString(),c=s?`${a.url}/bucket?${s}`:`${a.url}/bucket`;return{data:await pr(a.fetch,c,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async deleteBucket(l){var a=this;try{return{data:await Zu(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}from(l){var a=this;if(!xv(l))throw new Zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new bv({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(c,d){const h=c[d];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(c,g),error:null}}catch(y){if(s)throw y;return{data:null,error:y}}}}})}};const Wu={"X-Client-Info":`storage-js/${Xg}`,"Content-Type":"application/json"};var Zg=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Ou=class extends Zg{constructor(l,a,r){super(l),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nv=class extends Zg{constructor(l,a){super(l),this.name="StorageVectorsUnknownError",this.originalError=a}};const Fu=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Bv=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},xg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Lv=async(l,a,r)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!r?.noResolveJson){const s=l.status||500,c=l;if(typeof c.json=="function")c.json().then(d=>{const h=d?.statusCode||d?.code||s+"";a(new Ou(xg(d),s,h))}).catch(()=>{const d=s+"";a(new Ou(c.statusText||`HTTP ${s} error`,s,d))});else{const d=s+"";a(new Ou(c.statusText||`HTTP ${s} error`,s,d))}}else a(new Nv(xg(l),l))},qv=(l,a,r,s)=>{const c={method:l,headers:a?.headers||{}};return s?(Bv(s)?(c.headers=se({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,se(se({},c),r)):c};async function Hv(l,a,r,s,c,d){return new Promise((h,g)=>{l(r,qv(a,s,c,d)).then(y=>{if(!y.ok)throw y;if(s?.noResolveJson)return y;const p=y.headers.get("content-type");return!p||!p.includes("application/json")?{}:y.json()}).then(y=>h(y)).catch(y=>Lv(y,g,s))})}async function Ct(l,a,r,s,c){return Hv(l,"POST",a,s,c,r)}var $v=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},Wu),a),this.fetch=Fu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async getIndex(l,a){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async listIndexes(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async deleteIndex(l,a){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}},Gv=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},Wu),a),this.fetch=Fu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var a=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ct(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async getVectors(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async listVectors(l){var a=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await Ct(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async queryVectors(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async deleteVectors(l){var a=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ct(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}},Yv=class{constructor(l,a={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=se(se({},Wu),a),this.fetch=Fu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async getBucket(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async listBuckets(l={}){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}async deleteBucket(l){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}}},Vv=class extends Yv{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Kv(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,r=this;return a().call(r,l)}async getBucket(l){var a=()=>super.getBucket,r=this;return a().call(r,l)}async listBuckets(l={}){var a=()=>super.listBuckets,r=this;return a().call(r,l)}async deleteBucket(l){var a=()=>super.deleteBucket,r=this;return a().call(r,l)}},Kv=class extends $v{constructor(l,a,r,s){super(l,a,s),this.vectorBucketName=r}async createIndex(l){var a=()=>super.createIndex,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,l)}index(l){return new Iv(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Iv=class extends Gv{constructor(l,a,r,s,c){super(l,a,c),this.vectorBucketName=r,this.indexName=s}async putVectors(l){var a=()=>super.putVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(l){var a=()=>super.getVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,r=this;return a().call(r,se(se({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Jv=class extends Dv{constructor(l,a={},r,s){super(l,a,r,s)}from(l){return new Uv(this.url,this.headers,l,this.fetch)}get vectors(){return new Vv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mv(this.url+"/iceberg",this.headers,this.fetch)}};const Wg="2.90.1",oi=30*1e3,Gu=3,ju=Gu*oi,Xv="http://localhost:9999",Qv="supabase.auth.token",Zv={"X-Client-Info":`gotrue-js/${Wg}`},Yu="X-Supabase-Api-Version",Fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fv=600*1e3;class mr extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ee(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Pv extends mr{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function eb(l){return ee(l)&&l.name==="AuthApiError"}class ya extends mr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class mn extends mr{constructor(a,r,s,c){super(a,s,c),this.name=r,this.status=s}}class jt extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tb(l){return ee(l)&&l.name==="AuthSessionMissingError"}class ni extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends mn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends mn{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nb(l){return ee(l)&&l.name==="AuthImplicitGrantRedirectError"}class Tg extends mn{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ab extends mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vu extends mn{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function Ru(l){return ee(l)&&l.name==="AuthRetryableFetchError"}class Eg extends mn{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ku extends mn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ag=` 	
\r=`.split(""),ib=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Ag.length;a+=1)l[Ag[a].charCodeAt(0)]=-2;for(let a=0;a<Il.length;a+=1)l[Il[a].charCodeAt(0)]=a;return l})();function Og(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Il[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Il[s]),a.queuedBits-=6}}function Pg(l,a,r){const s=ib[l];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function jg(l){const a=[],r=h=>{a.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{sb(h,s,r)};for(let h=0;h<l.length;h+=1)Pg(l.charCodeAt(h),c,d);return a.join("")}function rb(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function lb(l,a){for(let r=0;r<l.length;r+=1){let s=l.charCodeAt(r);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(l.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}rb(s,a)}}function sb(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function di(l){const a=[],r={queue:0,queuedBits:0},s=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)Pg(l.charCodeAt(c),r,s);return new Uint8Array(a)}function ob(l){const a=[];return lb(l,r=>a.push(r)),new Uint8Array(a)}function pa(l){const a=[],r={queue:0,queuedBits:0},s=c=>{a.push(c)};return l.forEach(c=>Og(c,r,s)),Og(null,r,s),a.join("")}function ub(l){return Math.round(Date.now()/1e3)+l}function cb(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},e0=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function db(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return r.searchParams.forEach((s,c)=>{a[c]=s}),a}const t0=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),hb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",ui=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},da=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lt=async(l,a)=>{await l.removeItem(a)};class Wl{constructor(){this.promise=new Wl.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Wl.promiseConstructor=Promise;function Cu(l){const a=l.split(".");if(a.length!==3)throw new Ku("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!Wv.test(a[s]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(jg(a[0])),payload:JSON.parse(jg(a[1])),signature:di(a[2]),raw:{header:a[0],payload:a[1]}}}async function fb(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function gb(l,a){return new Promise((s,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await l(d);if(!a(d,null,h)){s(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function yb(l){return("0"+l.toString(16)).substr(-2)}function pb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let c="";for(let d=0;d<56;d++)c+=r.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(a),Array.from(a,yb).join("")}async function mb(l){const r=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(s);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function vb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await mb(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ai(l,a,r=!1){const s=pb();let c=s;r&&(c+="/PASSWORD_RECOVERY"),await ui(l,`${a}-code-verifier`,c);const d=await vb(s);return[d,s===d?"plain":"s256"]}const bb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _b(l){const a=l.headers.get(Yu);if(!a||!a.match(bb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function wb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function Sb(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(l){if(!xb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tb(l,a){return new Proxy(l,{get:(r,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const d=s.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,c)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,s,c)}})}function Rg(l){return JSON.parse(JSON.stringify(l))}const ha=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Eb=[502,503,504];async function Cg(l){var a;if(!hb(l))throw new Vu(ha(l),0);if(Eb.includes(l.status))throw new Vu(ha(l),l.status);let r;try{r=await l.json()}catch(d){throw new ya(ha(d),d)}let s;const c=_b(l);if(c&&c.getTime()>=Fg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Eg(ha(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Eg(ha(r),l.status,r.weak_password.reasons);throw new Pv(ha(r),l.status||500,s)}const Ab=(l,a,r,s)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),r))};async function le(l,a,r,s){var c;const d=Object.assign({},s?.headers);d[Yu]||(d[Yu]=Fg["2024-01-01"].name),s?.jwt&&(d.Authorization=`Bearer ${s.jwt}`);const h=(c=s?.query)!==null&&c!==void 0?c:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",y=await Ob(l,a,r+g,{headers:d,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(y):{data:Object.assign({},y),error:null}}async function Ob(l,a,r,s,c,d){const h=Ab(a,s,c,d);let g;try{g=await l(r,Object.assign({},h))}catch(y){throw console.error(y),new Vu(ha(y),0)}if(g.ok||await Cg(g),s?.noResolveJson)return g;try{return await g.json()}catch(y){await Cg(y)}}function Vt(l){var a;let r=null;Cb(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=ub(l.expires_in)));const s=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:s},error:null}}function kg(l){const a=Vt(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Vn(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function jb(l){return{data:l,error:null}}function Rb(l){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:c,verification_type:d}=l,h=Ql(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:r,hashed_token:s,redirect_to:c,verification_type:d},y=Object.assign({},h);return{data:{properties:g,user:y},error:null}}function zg(l){return l}function Cb(l){return l.access_token&&l.refresh_token&&l.expires_in}const zu=["global","local","others"];class kb{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=t0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=zu[0]){if(zu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zu.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=Ql(a,["options"]),c=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(c.new_email=s?.newEmail,delete c.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Rb,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Vn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,c,d,h,g,y;try{const p={nextPage:null,lastPage:0,total:0},x=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:zg});if(x.error)throw x.error;const w=await x.json(),T=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(y=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(U=>{const N=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),K=JSON.parse(U.split(";")[1].split("=")[1]);p[`${K}Page`]=N}),p.total=parseInt(T)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){ii(a);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Vn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){ii(a);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Vn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){ii(a);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){ii(a.userId);try{const{data:r,error:s}=await le(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:s}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(a){ii(a.userId),ii(a.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,s,c,d,h,g,y;try{const p={nextPage:null,lastPage:0,total:0},x=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:zg});if(x.error)throw x.error;const w=await x.json(),T=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(y=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(U=>{const N=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),K=JSON.parse(U.split(";")[1].split("=")[1]);p[`${K}Page`]=N}),p.total=parseInt(T)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(ee(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function Ug(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const ri={debug:!!(globalThis&&e0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n0 extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class zb extends n0{}async function Ub(l,a,r){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await r()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new zb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ri.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function a0(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Mb(l){return parseInt(l,16)}function Nb(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function Bb(l){var a;const{chainId:r,domain:s,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:g,requestId:y,resources:p,scheme:x,uri:w,version:T}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const O=a0(l.address),U=x?`${x}://${s}`:s,N=l.statement?`${l.statement}
`:"",K=`${U} wants you to sign in with your Ethereum account:
${O}

${N}`;let C=`URI: ${w}
Version: ${T}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(C+=`
Expiration Time: ${c.toISOString()}`),g&&(C+=`
Not Before: ${g.toISOString()}`),y&&(C+=`
Request ID: ${y}`),p){let D=`
Resources:`;for(const Y of p){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);D+=`
- ${Y}`}C+=D}return`${K}
${C}`}class Ze extends Error{constructor({message:a,code:r,cause:s,name:c}){var d;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(d=c??(s instanceof Error?s.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Jl extends Ze{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lb({error:l,options:a}){var r,s,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((s=d.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ze({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(i0(h)){if(d.rp.id!==h)return new Ze({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function qb({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ze({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(i0(s)){if(r.rpId!==s)return new Ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Hb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const $b=new Hb;function Gb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:s}=l,c=Ql(l,["challenge","user","excludeCredentials"]),d=di(a).buffer,h=Object.assign(Object.assign({},r),{id:di(r.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:h});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let y=0;y<s.length;y++){const p=s[y];g.excludeCredentials[y]=Object.assign(Object.assign({},p),{id:di(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function Yb(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,s=Ql(l,["challenge","allowCredentials"]),c=di(a).buffer,d=Object.assign(Object.assign({},s),{challenge:c});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const g=r[h];d.allowCredentials[h]=Object.assign(Object.assign({},g),{id:di(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Vb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:pa(new Uint8Array(l.response.attestationObject)),clientDataJSON:pa(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Kb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,s=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:pa(new Uint8Array(c.authenticatorData)),clientDataJSON:pa(new Uint8Array(c.clientDataJSON)),signature:pa(new Uint8Array(c.signature)),userHandle:c.userHandle?pa(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function i0(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Dg(){var l,a;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Ib(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",a)}:{data:null,error:new Jl("Empty credential response",a)}}catch(a){return{data:null,error:Lb({error:a,options:l})}}}async function Jb(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",a)}:{data:null,error:new Jl("Empty credential response",a)}}catch(a){return{data:null,error:qb({error:a,options:l})}}}const Xb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xl(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of l)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))s[d]=h;else if(r(h))s[d]=h;else if(a(h)){const g=s[d];a(g)?s[d]=Xl(g,h):s[d]=Xl(h)}else s[d]=h}return s}function Zb(l,a){return Xl(Xb,l,a||{})}function Wb(l,a){return Xl(Qb,l,a||{})}class Fb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:s,signal:c},d){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!h)return{data:null,error:g};const y=c??$b.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=Zb(h.webauthn.credential_options.publicKey,d?.create),{data:x,error:w}=await Ib({publicKey:p,signal:y});return x?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const p=Wb(h.webauthn.credential_options.publicKey,d?.request),{data:x,error:w}=await Jb(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:y}));return x?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new ya("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new mr("rpId is required for WebAuthn authentication")};try{if(!Dg())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:s},signal:c},{request:d});if(!h)return{data:null,error:g};const{webauthn:y}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:s,credential_response:y.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new ya("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new mr("rpId is required for WebAuthn registration")};try{if(!Dg())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===a&&T.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:g};const{data:y,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:c},{create:d});return y?this._verify({factorId:h.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:s,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:p}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new ya("Unexpected error in register",h)}}}}Db();const Pb={url:Xv,storageKey:Qv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mg(l,a,r){return await r()}const li={};class vr{get jwks(){var a,r;return(r=(a=li[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=li[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:a})}constructor(a){var r,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Pb),a);if(this.storageKey=d.storageKey,this.instanceID=(r=vr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new kb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=t0(d.fetch),this.lock=d.lock||Mg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&st()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Ub:this.lock=Mg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:e0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},s="none";if(st()&&(r=db(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),st()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:d}=await this._getSessionFromURL(r,s);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),nb(d)){const y=(a=d.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new ya("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,c;try{const d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Vt}),{data:h,error:g}=d;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const y=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(d){if(ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var r,s,c;try{let d;if("email"in a){const{email:x,password:w,options:T}=a;let O=null,U=null;this.flowType==="pkce"&&([O,U]=await ai(this.storage,this.storageKey)),d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:x,password:w,data:(r=T?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:O,code_challenge_method:U},xform:Vt})}else if("phone"in a){const{phone:x,password:w,options:T}=a;d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(s=T?.data)!==null&&s!==void 0?s:{},channel:(c=T?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:Vt})}else throw new Gl("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const y=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(d){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let r;if("email"in a){const{email:d,password:h,options:g}=a;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:kg})}else if("phone"in a){const{phone:d,password:h,options:g}=a;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:kg})}else throw new Gl("You must provide either an email or phone number and a password");const{data:s,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const d=new ni;return this._returnResult({data:{user:null,session:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,s,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,s,c,d,h,g,y,p,x,w,T;let O,U;if("message"in a)O=a.message,U=a.signature;else{const{chain:N,wallet:K,statement:C,options:D}=a;let Y;if(st())if(typeof K=="object")Y=K;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")Y=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=K}const Z=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),ue=await Y.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ue||ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=a0(ue[0]);let J=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!J){const H=await Y.request({method:"eth_chainId"});J=Mb(H)}const G={domain:Z.host,address:F,statement:C,uri:Z.href,version:"1",chainId:J,nonce:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=D?.signInWithEthereum)===null||x===void 0?void 0:x.resources};O=Bb(G),U=await Y.request({method:"personal_sign",params:[Nb(O),F]})}try{const{data:N,error:K}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:U},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Vt});if(K)throw K;if(!N||!N.session||!N.user){const C=new ni;return this._returnResult({data:{user:null,session:null},error:C})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:K})}catch(N){if(ee(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var r,s,c,d,h,g,y,p,x,w,T,O;let U,N;if("message"in a)U=a.message,N=a.signature;else{const{chain:K,wallet:C,statement:D,options:Y}=a;let Z;if(st())if(typeof C=="object")Z=C;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))Z=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=C}const ue=new URL((r=Y?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){const F=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y?.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),D?{statement:D}:null));let J;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")J=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)J=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)U=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),N=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${ue.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(c=(s=Y?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=Y?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((h=Y?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((g=Y?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((y=Y?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((p=Y?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((w=(x=Y?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...Y.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const F=await Z.signMessage(new TextEncoder().encode(U),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=F}}try{const{data:K,error:C}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:pa(N)},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(O=a.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Vt});if(C)throw C;if(!K||!K.session||!K.user){const D=new ni;return this._returnResult({data:{user:null,session:null},error:D})}return K.session&&(await this._saveSession(K.session),await this._notifyAllSubscribers("SIGNED_IN",K.session)),this._returnResult({data:Object.assign({},K),error:C})}catch(K){if(ee(K))return this._returnResult({data:{user:null,session:null},error:K});throw K}}async _exchangeCodeForSession(a){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new ab;const{data:d,error:h}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:Vt});if(await lt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const g=new ni;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:r,provider:s,token:c,access_token:d,nonce:h}=a,g=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vt}),{data:y,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!y||!y.session||!y.user){const x=new ni;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:p})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,s,c,d,h;try{if("email"in a){const{email:g,options:y}=a;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await ai(this.storage,this.storageKey));const{error:w}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(s=y?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in a){const{phone:g,options:y}=a,{data:p,error:x}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(d=y?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(h=y?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:x})}throw new Gl("You must provide either an email or phone number.")}catch(g){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var r,s;try{let c,d;"options"in a&&(c=(r=a.options)===null||r===void 0?void 0:r.redirectTo,d=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:g}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Vt});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const y=h.session,p=h.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var r,s,c,d,h;try{let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ai(this.storage,this.storageKey));const p=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:y}),headers:this.headers,xform:jb});return!((d=p.data)===null||d===void 0)&&d.url&&st()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new jt;const{error:c}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:c,options:d}=a,{error:h}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:s,type:c,options:d}=a,{data:h,error:g}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new Gl("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<ju:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const h=await da(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=ku()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=Tb(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Vn}):await this._useSession(async r=>{var s,c,d;const{data:h,error:g}=r;if(g)throw g;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Vn})})}catch(r){if(ee(r))return tb(r)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:c,error:d}=s;if(d)throw d;if(!c.session)throw new jt;const h=c.session;let g=null,y=null;this.flowType==="pkce"&&a.email!=null&&([g,y]=await ai(this.storage,this.storageKey));const{data:p,error:x}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:y}),jwt:h.access_token,xform:Vn});if(x)throw x;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new jt;const r=Date.now()/1e3;let s=r,c=!0,d=null;const{payload:h}=Cu(a.access_token);if(h.exp&&(s=h.exp,c=s<=r),c){const{data:g,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:y}=await this._getUser(a.access_token);if(y)throw y;d={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:h,error:g}=r;if(g)throw g;a=(s=h.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new jt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!st())throw new Yl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Yl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Tg("No code detected.");const{data:D,error:Y}=await this._exchangeCodeForSession(a.code);if(Y)throw Y;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:y,token_type:p}=a;if(!d||!g||!h||!p)throw new Yl("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(g);let T=x+w;y&&(T=parseInt(y));const O=T-x;O*1e3<=oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${w}s`);const U=T-w;x-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,T,x):x-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,T,x);const{data:N,error:K}=await this._getUser(d);if(K)throw K;const C={provider_token:s,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:T,refresh_token:h,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:a.type},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:c,error:d}=r;if(d)return this._returnResult({error:d});const h=(s=c.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(eb(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=cb(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,c;try{const{data:{session:d},error:h}=r;if(h)throw h;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,r={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await ai(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:s,error:c}=await this._useSession(async d=>{var h,g,y,p,x;const{data:w,error:T}=d;if(T)throw T;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",O,{headers:this.headers,jwt:(x=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return st()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(ee(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var s;try{const{error:c,data:{session:d}}=r;if(c)throw c;const{options:h,provider:g,token:y,access_token:p,nonce:x}=a,w=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=d?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:y,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Vt}),{data:T,error:O}=w;return O?this._returnResult({data:{user:null,session:null},error:O}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new ni}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:O}))}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,c;const{data:d,error:h}=r;if(h)throw h;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await gb(async c=>(c>0&&await fb(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Vt})),(c,d)=>{const h=200*Math.pow(2,c);return d&&Ru(d)&&Date.now()+h-s<oi})}catch(s){if(this._debug(r,"error",s),ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),st()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await da(this.storage,this.storageKey);if(c&&this.userStorage){let h=await da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await ui(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:ku()}else if(c&&!c.user&&!c.user){const h=await da(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await lt(this.storage,this.storageKey+"-user"),await ui(this.storage,this.storageKey,c)):c.user=ku()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const d=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ju;if(this._debug(s,`session has${d?"":" not"} expired with margin of ${ju}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Ru(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Wl;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new jt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),ee(d)){const h={data:null,error:d};return Ru(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,r,s=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,r)}catch(y){d.push(y)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ui(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const d=Rg(c);await ui(this.storage,this.storageKey,d)}else{const c=Rg(r);await ui(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),oi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-a)/oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${oi}ms, refresh threshold is ${Gu} ticks`),c<=Gu&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof n0)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const c=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[d,h]=await ai(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(s?.queryParams){const d=new URLSearchParams(s.queryParams);c.push(d.toString())}return s?.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:c,error:d}=r;return d?this._returnResult({data:null,error:d}):await le(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,c;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:p}=await le(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=d?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Vb(a.webauthn.credential_response):Kb(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:y}=await le(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:y}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const h=await le(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Gb(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Yb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=r?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:s},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Cu(s.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((r=(a=s.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const p=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:s},error:c}=r;return c?this._returnResult({data:null,error:c}):s?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new jt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:c},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new jt});const h=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&st()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:c},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new jt});const h=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&st()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;return s?this._returnResult({data:null,error:s}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:s},error:c}=r;return c?this._returnResult({data:null,error:c}):s?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(g=>g.kid===a);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(g=>g.kid===a),s&&this.jwks_cached_at+Fv>c)return s;const{data:d,error:h}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,s=d.keys.find(g=>g.kid===a),!s)?null:s}async getClaims(a,r={}){try{let s=a;if(!s){const{data:O,error:U}=await this.getSession();if(U||!O.session)return this._returnResult({data:null,error:U});s=O.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:y}}=Cu(s);r?.allowExpired||wb(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:O}=await this.getUser(s);if(O)throw O;return{data:{claims:d,header:c,signature:h},error:null}}const x=Sb(c.alg),w=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,h,ob(`${g}.${y}`)))throw new Ku("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}}vr.nextInstanceID={};const e1=vr,t1="2.90.1";let ur="";typeof Deno<"u"?ur="deno":typeof document<"u"?ur="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ur="react-native":ur="node";const n1={"X-Client-Info":`supabase-js-${ur}/${t1}`},a1={headers:n1},i1={schema:"public"},r1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l1={};function br(l){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},br(l)}function s1(l,a){if(br(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var s=r.call(l,a);if(br(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function o1(l){var a=s1(l,"string");return br(a)=="symbol"?a:a+""}function u1(l,a,r){return(a=o1(a))in l?Object.defineProperty(l,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[a]=r,l}function Ng(l,a){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),r.push.apply(r,s)}return r}function Ge(l){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ng(Object(r),!0).forEach(function(s){u1(l,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(r,s))})}return l}const c1=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),d1=()=>Headers,h1=(l,a,r)=>{const s=c1(r),c=d1();return async(d,h)=>{var g;const y=(g=await a())!==null&&g!==void 0?g:l;let p=new c(h?.headers);return p.has("apikey")||p.set("apikey",l),p.has("Authorization")||p.set("Authorization",`Bearer ${y}`),s(d,Ge(Ge({},h),{},{headers:p}))}};function f1(l){return l.endsWith("/")?l:l+"/"}function g1(l,a){var r,s;const{db:c,auth:d,realtime:h,global:g}=l,{db:y,auth:p,realtime:x,global:w}=a,T={db:Ge(Ge({},y),c),auth:Ge(Ge({},p),d),realtime:Ge(Ge({},x),h),storage:{},global:Ge(Ge(Ge({},w),g),{},{headers:Ge(Ge({},(r=w?.headers)!==null&&r!==void 0?r:{}),(s=g?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return l.accessToken?T.accessToken=l.accessToken:delete T.accessToken,T}function y1(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f1(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var p1=class extends e1{constructor(l){super(l)}},m1=class{constructor(l,a,r){var s,c;this.supabaseUrl=l,this.supabaseKey=a;const d=y1(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:i1,realtime:l1,auth:Ge(Ge({},r1),{},{storageKey:h}),global:a1},y=g1(r??{},g);if(this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=y.auth)!==null&&p!==void 0?p:{},this.headers,y.global.fetch)}this.fetch=h1(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Zm(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Jv(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Km(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,r)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,r;if(l.accessToken)return await l.accessToken();const{data:s}=await l.auth.getSession();return(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:r,storage:s,userStorage:c,storageKey:d,flowType:h,lock:g,debug:y,throwOnError:p},x,w){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p1({url:this.authUrl.href,headers:Ge(Ge({},T),x),storageKey:d,autoRefreshToken:l,persistSession:a,detectSessionInUrl:r,storage:s,userStorage:c,flowType:h,lock:g,debug:y,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new fv(this.realtimeUrl.href,Ge(Ge({},l),{},{params:Ge(Ge({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,r){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const v1=(l,a,r)=>new m1(l,a,r);function b1(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}b1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _r=v1(`https://${fr}.supabase.co`,$g);function _1({onInsertPrompt:l,currentContent:a,accessToken:r}){const[s,c]=W.useState(!1),[d,h]=W.useState(!1),[g,y]=W.useState("");W.useEffect(()=>{if(s){const T=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=T}}},[s]);const p=["What moments from today am I grateful for?","What challenged me today and what did I learn from it?","What would I tell my future self about this moment?","What emotions am I feeling right now and why?","If I could relive one moment from today, what would it be?","What's one thing I wish I had done differently today?","Who impacted my day and how?","What am I looking forward to tomorrow?"],x=async()=>{h(!0),y("");try{console.log("=== AI REQUEST DEBUG ===");const{data:{session:T},error:O}=await _r.auth.getSession();if(O||!T)throw console.error("Session error:",O),new Error("Please sign in again to use AI features");const U=T.access_token;console.log("Session user ID:",T.user.id),console.log("User token length:",U.length),console.log("Making request to:",`https://${fr}.supabase.co/functions/v1/make-server-3e97d870/ai/prompt`);const N=await fetch(`https://${fr}.supabase.co/functions/v1/make-server-3e97d870/ai/prompt`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$g}`,"x-user-token":U},body:JSON.stringify({currentContent:a})});if(console.log("Response status:",N.status),!N.ok){const C=await N.text();console.error("AI API error response:",N.status,C);let D;try{D=JSON.parse(C)}catch{D={error:C}}throw console.error("Full error object:",JSON.stringify(D,null,2)),new Error(D.error||D.message||"Failed to get AI suggestion")}const K=await N.json();console.log("AI response received:",K),y(K.prompt)}catch(T){console.error("AI suggestion error:",T),console.error("Error details:",{message:T.message,stack:T.stack,name:T.name}),y("Failed to get AI suggestion. Try signing out and back in.")}finally{h(!1)}},w=T=>{l(T),c(!1)};return v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>c(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 14px",color:"#f2f4f3",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)",cursor:"pointer",fontFamily:"inherit",borderRadius:8,transition:"all 0.2s ease",whiteSpace:"nowrap",fontSize:13},onMouseEnter:T=>{T.currentTarget.style.background="rgba(255,255,255,0.12)",T.currentTarget.style.borderColor="rgba(255,255,255,0.25)"},onMouseLeave:T=>{T.currentTarget.style.background="rgba(255,255,255,0.08)",T.currentTarget.style.borderColor="rgba(255,255,255,0.15)"},title:"Need inspiration?",children:[v.jsx(cr,{style:{width:"16px",height:"16px",animation:"sparkle 1.5s ease-in-out infinite"}}),v.jsx("span",{style:{fontSize:"13px"},children:"Need ideas?"})]}),s&&$m.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",zIndex:9998,backdropFilter:"blur(4px)"},onClick:()=>c(!1)}),v.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:v.jsxs("div",{onClick:T=>T.stopPropagation(),style:{background:"#0f0e0d",border:"1px solid rgba(74, 71, 70, 0.4)",borderRadius:"6px",maxWidth:"520px",width:"100%",maxHeight:"70vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.8)"},children:[v.jsxs("div",{style:{position:"sticky",top:0,background:"#0f0e0d",borderBottom:"1px solid rgba(74, 71, 70, 0.3)",padding:"20px 24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx(cr,{style:{width:"22px",height:"22px",color:"#f2f4f3"}}),v.jsx("h2",{style:{fontSize:"18px",color:"#f2f4f3",fontFamily:"inherit",fontWeight:500,margin:0,letterSpacing:"0.5px"},children:"Journal Assistant"})]}),v.jsx("button",{onClick:()=>c(!1),style:{color:"rgba(242,244,243,0.5)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:T=>{const O=T.currentTarget;O.style.color="#f2f4f3"},onMouseLeave:T=>{const O=T.currentTarget;O.style.color="rgba(242,244,243,0.5)"},children:v.jsx(hi,{style:{width:"20px",height:"20px"}})})]}),v.jsxs("div",{style:{padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[v.jsxs("div",{style:{background:"#0f0e0d",border:"1px solid rgba(42, 38, 37, 0.6)",borderRadius:"4px",padding:"16px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px"},children:[v.jsx("h3",{style:{fontSize:"12px",color:"rgba(163, 149, 148, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"bold",margin:0},children:"AI-Powered Prompt"}),v.jsx("button",{onClick:x,disabled:d,style:{padding:"4px 12px",background:"transparent",border:"1px solid rgba(74, 71, 70, 0.6)",color:"rgba(163, 149, 148, 0.7)",cursor:d?"not-allowed":"pointer",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"8px",opacity:d?.5:1,transition:"all 0.2s ease",fontFamily:"inherit"},onMouseEnter:T=>{if(!d){const O=T.currentTarget;O.style.background="rgba(42, 38, 37, 0.6)"}},onMouseLeave:T=>{const O=T.currentTarget;O.style.background="transparent"},children:d?v.jsxs(v.Fragment,{children:[v.jsx(om,{style:{width:"12px",height:"12px",animation:"spin 1s linear infinite"}}),"Thinking..."]}):v.jsxs(v.Fragment,{children:[v.jsx(cr,{style:{width:"12px",height:"12px"}}),"Generate"]})})]}),g?v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("p",{style:{color:"#f2f4f3",lineHeight:"1.6",fontFamily:'"Spectral", serif',margin:0,fontSize:"14px"},children:g}),v.jsx("button",{onClick:()=>w(g),style:{width:"100%",padding:"10px 12px",border:"1px solid rgba(100, 200, 255, 0.5)",background:"rgba(100, 200, 255, 0.1)",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"inherit",color:"rgba(100, 200, 255, 0.9)",fontSize:"12px",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},onMouseEnter:T=>{const O=T.currentTarget;O.style.background="rgba(100, 200, 255, 0.2)",O.style.borderColor="rgba(100, 200, 255, 0.8)"},onMouseLeave:T=>{const O=T.currentTarget;O.style.background="rgba(100, 200, 255, 0.1)",O.style.borderColor="rgba(100, 200, 255, 0.5)"},children:"Use This Prompt"})]}):v.jsx("p",{style:{color:"rgba(163, 149, 148, 0.5)",fontSize:"13px",fontFamily:"inherit",margin:0,textAlign:"center",paddingTop:"8px"},children:"Click Generate to get a personalized prompt"})]}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"12px",color:"rgba(163, 149, 148, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"bold",margin:0,marginBottom:"8px"},children:"Quick Prompts"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:p.map((T,O)=>v.jsx("button",{onClick:()=>w(T),style:{width:"100%",textAlign:"left",padding:"12px",border:"1px solid rgba(42, 38, 37, 0.6)",background:"#0f0e0d",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"inherit"},onMouseEnter:U=>{const N=U.currentTarget;N.style.borderColor="rgba(163, 149, 148, 0.7)",N.style.background="#1a1817"},onMouseLeave:U=>{const N=U.currentTarget;N.style.borderColor="rgba(42, 38, 37, 0.6)",N.style.background="#0f0e0d"},children:v.jsx("p",{style:{color:"rgba(138, 129, 128, 0.8)",transition:"color 0.2s ease",fontFamily:'"Spectral", serif',margin:0,fontSize:"13px"},onMouseEnter:U=>{const N=U.currentTarget;N.style.color="#f2f4f3"},onMouseLeave:U=>{const N=U.currentTarget;N.style.color="rgba(138, 129, 128, 0.8)"},children:T})},O))})]})]})]})})]}),document.body)]})}const Bg=[{id:"none",name:"None",class:""},{id:"sparkle",name:" Sparkle",class:"sparkle-effect"},{id:"glow",name:" Glow",class:"glow-effect"},{id:"flicker",name:" Flicker",class:"flicker-effect"},{id:"pulse",name:" Pulse",class:"pulse-effect"},{id:"wave",name:" Wave",class:"wave-effect"}];function w1({onEnd:l,userId:a,accessToken:r}){const[s,c]=W.useState(null),[d,h]=W.useState(0),[g,y]=W.useState(!1),[p,x]=W.useState(!1),[w,T]=W.useState(""),[O,U]=W.useState("georgia"),[N,K]=W.useState("idle"),[C,D]=W.useState("none"),[Y,Z]=W.useState(!1),[ue,F]=W.useState(null),J=W.useRef(null),G=W.useRef(null),H=M=>{T(ae=>ae&&!ae.endsWith(`

`)?ae+`

`+M+`

`:ae+M+`

`)},re=M=>{const ae=M*60;c(ae),h(ae),y(!0),x(!1)},me=()=>{y(!g)},ne=()=>{y(!1),x(!0),J.current&&clearInterval(J.current),ce()},ce=async()=>{if(w.trim()){K("saving");try{const M={date:new Date().toISOString(),content:w,wordCount:w.trim().split(/\s+/).length,duration:s?Math.round(s/60):0},ae=await fetch(`https://${fr}.supabase.co/functions/v1/make-server-3e97d870/journal/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({entry:M})});if(!ae.ok){const fe=await ae.json();throw new Error(fe.error||"Failed to save")}Se(),K("saved"),setTimeout(()=>K("idle"),3e3)}catch(M){console.error("Error saving to cloud:",M),Se(),K("error"),setTimeout(()=>K("idle"),3e3)}}},Se=()=>{if(!w.trim())return;const M={id:Date.now(),content:w,date:new Date().toISOString(),wordCount:w.trim().split(/\s+/).length,duration:s?s/60:0},ae=JSON.parse(localStorage.getItem("journalEntries")||"[]");ae.push(M),localStorage.setItem("journalEntries",JSON.stringify(ae))},de=(M="text")=>{if(!w.trim())return;const ae=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});let fe,S,q;if(M==="html")fe=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NightPage - Journal Entry</title>
    <style>
        body {
            font-family: Georgia, serif;
            color: #333;
            background-color: #fafafa;
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }
        .header {
            border-bottom: 1px solid #ddd;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .date {
            color: #666;
            font-size: 14px;
        }
        .metadata {
            color: #999;
            font-size: 13px;
            margin-top: 10px;
        }
        .content {
            white-space: pre-wrap;
            word-break: break-word;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 16px 0;
            display: block;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>NightPage Journal Entry</h1>
        <div class="date">${ae}</div>
        <div class="metadata">Word Count: ${w.trim().split(/\s+/).length}</div>
    </div>
    <div class="content">${w}</div>
</body>
</html>`,S="text/html",q="html";else{const pe=w.replace(/<[^>]*>/g,"").trim();fe=`NightPage - Journal Entry

${ae}
Word Count: ${w.trim().split(/\s+/).length}

---

${pe}`,S="text/plain",q="txt"}const I=new Blob([fe],{type:S}),X=URL.createObjectURL(I),oe=document.createElement("a");oe.href=X,oe.download=`nightpage-${new Date().toISOString().split("T")[0]}.${q}`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(X),F(null)},A=()=>{G.current?.click()},V=M=>{const ae=M.target.files?.[0];if(!ae)return;if(!ae.type.startsWith("image/")){G.current&&(G.current.value="");return}const fe=new FileReader;fe.onload=()=>{const q=`<img src="${fe.result}" alt="journal image" style="max-width:100%; border-radius:12px; margin:12px 0;" />`;T(I=>(I&&!I.endsWith(`

`)?I+`

`:I)+q+`

`),G.current&&(G.current.value="")},fe.readAsDataURL(ae)};return W.useEffect(()=>(g&&d>0?J.current=setInterval(()=>{h(M=>M<=1?(y(!1),x(!0),ce(),0):M-1)},1e3):J.current&&clearInterval(J.current),()=>{J.current&&clearInterval(J.current)}),[g,d]),s?v.jsxs("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[v.jsx("div",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",padding:"24px 32px",position:"fixed",top:0,left:0,right:0,background:"rgba(10,9,8,0.95)",zIndex:40,backdropFilter:"blur(10px)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:24},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24,flex:1},children:[v.jsxs("div",{style:{color:"rgba(242,244,243,0.9)",fontFamily:"monospace",fontSize:24,fontWeight:700,letterSpacing:2,minWidth:"fit-content"},children:[Math.floor(d/60),":",String(d%60).padStart(2,"0")]}),!p&&v.jsxs("div",{style:{display:"flex",gap:20,alignItems:"center"},children:[v.jsx("button",{onClick:me,style:{fontSize:16,color:"rgba(242,244,243,0.6)",background:"transparent",border:"none",cursor:"pointer",fontFamily:"inherit",fontWeight:500},onMouseEnter:M=>M.currentTarget.style.color="#f2f4f3",onMouseLeave:M=>M.currentTarget.style.color="rgba(242,244,243,0.6)",children:g?"Pause":"Resume"}),v.jsx("span",{style:{color:"rgba(242,244,243,0.2)",fontSize:18},children:"|"}),v.jsx("button",{onClick:ne,style:{fontSize:16,color:"rgba(242,244,243,0.6)",background:"transparent",border:"none",cursor:"pointer",fontFamily:"inherit",fontWeight:500},onMouseEnter:M=>M.currentTarget.style.color="#f2f4f3",onMouseLeave:M=>M.currentTarget.style.color="rgba(242,244,243,0.6)",children:"End Session"})]}),N!=="idle"&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,fontSize:15},children:[N==="saving"&&v.jsxs(v.Fragment,{children:[v.jsx(Vl,{style:{width:20,height:20,color:"rgba(242,244,243,0.4)"}}),v.jsx("span",{style:{color:"rgba(242,244,243,0.4)"},children:"Saving..."})]}),N==="saved"&&v.jsxs(v.Fragment,{children:[v.jsx(Vl,{style:{width:20,height:20,color:"#4ade80"}}),v.jsx("span",{style:{color:"#4ade80"},children:"Saved to cloud"})]}),N==="error"&&v.jsxs(v.Fragment,{children:[v.jsx(Vl,{style:{width:20,height:20,color:"#ef4444"}}),v.jsx("span",{style:{color:"#ef4444"},children:"Saved locally"})]})]})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[v.jsx(Bm,{currentFont:O,onFontChange:U}),v.jsx(Nm,{isPlaying:g&&!p}),v.jsxs("button",{onClick:A,style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)",color:"#f2f4f3",padding:"8px 14px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:8,fontSize:13,transition:"all 0.2s ease",fontFamily:"inherit",whiteSpace:"nowrap"},onMouseEnter:M=>{M.currentTarget.style.background="rgba(255,255,255,0.12)",M.currentTarget.style.borderColor="rgba(255,255,255,0.25)"},onMouseLeave:M=>{M.currentTarget.style.background="rgba(255,255,255,0.08)",M.currentTarget.style.borderColor="rgba(255,255,255,0.15)"},title:"Add an image to your journal",children:[v.jsx(lm,{size:16}),"Image"]}),v.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:V,style:{display:"none"}}),v.jsxs("div",{style:{position:"relative"},children:[v.jsxs("button",{onClick:()=>Z(!Y),style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)",color:"#f2f4f3",padding:"8px 14px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:8,fontSize:13,transition:"all 0.2s ease",fontFamily:"inherit",whiteSpace:"nowrap"},onMouseEnter:M=>{M.currentTarget.style.background="rgba(255,255,255,0.12)",M.currentTarget.style.borderColor="rgba(255,255,255,0.25)"},onMouseLeave:M=>{M.currentTarget.style.background="rgba(255,255,255,0.08)",M.currentTarget.style.borderColor="rgba(255,255,255,0.15)"},children:[v.jsx(cr,{size:16}),"Effect"]}),Y&&v.jsx("div",{style:{position:"absolute",top:"100%",left:0,marginTop:8,background:"#0a0908",border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,minWidth:160,zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.4)"},children:Bg.map((M,ae)=>v.jsx("button",{onClick:()=>{D(M.id),Z(!1)},style:{width:"100%",padding:"12px 16px",background:C===M.id?"rgba(255,255,255,0.12)":"transparent",border:"none",borderBottom:ae<Bg.length-1?"1px solid rgba(255,255,255,0.05)":"none",color:C===M.id?"#f2f4f3":"rgba(242,244,243,0.7)",cursor:"pointer",textAlign:"left",fontSize:13,fontFamily:"inherit",transition:"all 0.15s ease"},onMouseEnter:fe=>{fe.currentTarget.style.background="rgba(255,255,255,0.08)",fe.currentTarget.style.color="#f2f4f3"},onMouseLeave:fe=>{fe.currentTarget.style.background=C===M.id?"rgba(255,255,255,0.12)":"transparent",fe.currentTarget.style.color=C===M.id?"#f2f4f3":"rgba(242,244,243,0.7)"},children:M.name},M.id))})]}),v.jsx(_1,{onInsertPrompt:H,currentContent:w,accessToken:r})]}),v.jsx("button",{onClick:l,style:{color:"rgba(242,244,243,0.4)",background:"transparent",border:"none",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:M=>M.currentTarget.style.color="rgba(242,244,243,0.7)",onMouseLeave:M=>M.currentTarget.style.color="rgba(242,244,243,0.4)",children:v.jsx(hi,{style:{width:28,height:28}})})]})}),v.jsx("div",{style:{flex:1,overflowY:"auto",marginTop:"20px"},children:v.jsx(Hm,{content:w,onChange:T,isDisabled:p,sessionEnded:p,selectedFont:O,selectedEffect:C})}),p&&v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,backdropFilter:"blur(8px)"},children:v.jsxs("div",{style:{background:"#0f0e0e",border:"1px solid rgba(255,255,255,0.05)",borderRadius:8,padding:48,maxWidth:420,textAlign:"center"},children:[v.jsx("h2",{style:{fontSize:32,color:"#f2f4f3",margin:"0 0 24px 0",fontFamily:'"Playfair Display", "Merriweather", serif'},children:"Session Complete"}),v.jsx("p",{style:{color:"rgba(242,244,243,0.65)",lineHeight:1.6,marginBottom:32,fontFamily:"inherit"},children:"Your thoughts have been captured. Let them rest until tomorrow night."}),w.trim()&&v.jsxs("div",{style:{position:"relative",marginBottom:24},children:[v.jsxs("button",{onClick:()=>F(ue?null:"text"),style:{width:"100%",padding:"12px 24px",border:"1px solid rgba(242,244,243,0.2)",color:"#f2f4f3",background:"transparent",borderRadius:6,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontFamily:"inherit",fontSize:14,fontWeight:600},onMouseEnter:M=>{M.currentTarget.style.background="rgba(255,255,255,0.05)",M.currentTarget.style.borderColor="rgba(242,244,243,0.3)"},onMouseLeave:M=>{M.currentTarget.style.background="transparent",M.currentTarget.style.borderColor="rgba(242,244,243,0.2)"},children:[v.jsx(Uu,{style:{width:16,height:16}}),"Download This Entry"]}),ue&&v.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"8px",background:"#1a1919",border:"1px solid rgba(242,244,243,0.15)",borderRadius:6,overflow:"hidden",zIndex:1e3,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"},children:[v.jsx("button",{onClick:()=>{de("text")},style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"center",background:"transparent",border:"none",color:"#f2f4f3",cursor:"pointer",fontSize:"13px",transition:"background-color 0.2s ease",borderBottom:"1px solid rgba(242,244,243,0.1)"},onMouseEnter:M=>{M.currentTarget.style.background="rgba(255,255,255,0.08)"},onMouseLeave:M=>{M.currentTarget.style.background="transparent"},children:" Text Only (.txt)"}),v.jsx("button",{onClick:()=>{de("html")},style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"center",background:"transparent",border:"none",color:"#f2f4f3",cursor:"pointer",fontSize:"13px",transition:"background-color 0.2s ease"},onMouseEnter:M=>{M.currentTarget.style.background="rgba(255,255,255,0.08)"},onMouseLeave:M=>{M.currentTarget.style.background="transparent"},children:" With Images (.html)"})]})]}),v.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"center",paddingTop:16},children:[v.jsx("button",{onClick:()=>{c(null),T(""),x(!1),h(0)},style:{padding:"10px 24px",border:"1px solid rgba(255,255,255,0.1)",color:"#f2f4f3",background:"transparent",borderRadius:6,cursor:"pointer",fontFamily:"inherit",fontSize:14,fontWeight:600},onMouseEnter:M=>M.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:M=>M.currentTarget.style.background="transparent",children:"New Session"}),v.jsx("button",{onClick:l,style:{padding:"10px 24px",background:"rgba(255,255,255,0.08)",color:"#f2f4f3",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,cursor:"pointer",fontFamily:"inherit",fontSize:14,fontWeight:600},onMouseEnter:M=>M.currentTarget.style.background="rgba(255,255,255,0.12)",onMouseLeave:M=>M.currentTarget.style.background="rgba(255,255,255,0.08)",children:"Exit"})]})]})})]}):v.jsxs("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"48px 24px"},children:[v.jsx("button",{onClick:l,style:{position:"absolute",top:24,right:24,color:"rgba(242,244,243,0.4)",background:"transparent",border:"none",cursor:"pointer"},children:v.jsx(hi,{style:{width:24,height:24}})}),v.jsx(Dm,{onStart:re})]})}const r0=l=>({length:l.length>=12,uppercase:/[A-Z]/.test(l),lowercase:/[a-z]/.test(l),number:/[0-9]/.test(l),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(l)}),or=l=>{const a=r0(l);return Object.values(a).every(r=>r===!0)};function S1({onAuthSuccess:l,onBack:a}){const[r,s]=W.useState(!0),[c,d]=W.useState(""),[h,g]=W.useState(""),[y,p]=W.useState(""),[x,w]=W.useState(""),[T,O]=W.useState(!1),[U,N]=W.useState(!1),K=async C=>{C.preventDefault(),w(""),O(!0);try{if(r){const{data:D,error:Y}=await _r.auth.signInWithPassword({email:c,password:h});if(Y||!D.session)throw new Error(Y?.message||"Invalid email or password");l(D.user.id,D.user.email||c,D.session.access_token)}else{if(!or(h))throw new Error("Password does not meet security requirements");const{data:D,error:Y}=await _r.auth.signUp({email:c,password:h,options:{data:{name:y}}});if(Y)throw new Error(Y.message||"Signup failed");if(!D.user)throw new Error("Signup failed - no user created");N(!0),d(""),g(""),p("")}}catch(D){w(D.message||"Something went wrong. Please try again.")}finally{O(!1)}};return v.jsxs("div",{style:{width:"100%",height:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",paddingTop:"48px",position:"relative",overflow:"hidden"},children:[v.jsx("div",{style:{position:"absolute",inset:0,opacity:.05},children:v.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),v.jsxs("button",{onClick:a,style:{position:"absolute",top:"24px",left:"24px",display:"flex",alignItems:"center",gap:"8px",color:"rgba(74, 71, 70, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease",fontFamily:"inherit"},onMouseEnter:C=>{const D=C.currentTarget;D.style.color="rgba(163, 149, 148, 0.7)"},onMouseLeave:C=>{const D=C.currentTarget;D.style.color="rgba(74, 71, 70, 0.7)"},children:[v.jsx(Jp,{style:{width:"20px",height:"20px"}}),v.jsx("span",{style:{fontSize:"14px"},children:"Back"})]}),v.jsxs("div",{style:{position:"relative",zIndex:10,width:"100%",maxWidth:"480px"},children:[U&&v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[v.jsx(Kl,{style:{width:"32px",height:"32px",color:"rgba(163, 149, 148, 0.7)"},strokeWidth:1.5}),v.jsx(Du,{style:{width:"32px",height:"32px",color:"rgba(163, 149, 148, 0.7)"},strokeWidth:1.5})]}),v.jsx("h1",{style:{fontSize:"32px",color:"#f2f4f3",marginBottom:"12px",fontFamily:'"Libre Baskerville", serif',fontWeight:"normal"},children:"Verify Your Email"}),v.jsx("p",{style:{color:"rgba(138, 129, 128, 0.8)",fontFamily:'"Spectral", serif',marginBottom:"24px"},children:"We've sent a confirmation link to your email. Click it to verify and create your account."}),v.jsx("div",{style:{background:"rgba(100, 200, 255, 0.1)",border:"1px solid rgba(100, 200, 255, 0.3)",borderRadius:"4px",padding:"16px 12px",marginBottom:"24px"},children:v.jsx("p",{style:{fontSize:"14px",color:"rgba(100, 200, 255, 0.9)",margin:0},children:"Check your inbox and click the confirmation link to proceed."})}),v.jsx("button",{onClick:()=>{N(!1),s(!0)},style:{width:"100%",background:"transparent",border:"1px solid rgba(74, 71, 70, 0.6)",color:"#f2f4f3",padding:"12px",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontFamily:'"Libre Baskerville", serif',fontSize:"14px"},onMouseEnter:C=>{const D=C.currentTarget;D.style.background="#1a1817"},onMouseLeave:C=>{const D=C.currentTarget;D.style.background="transparent"},children:"Back to Sign In"})]}),!U&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"48px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[v.jsx(Kl,{style:{width:"32px",height:"32px",color:"rgba(163, 149, 148, 0.7)"},strokeWidth:1.5}),v.jsx(Du,{style:{width:"32px",height:"32px",color:"rgba(163, 149, 148, 0.7)"},strokeWidth:1.5})]}),v.jsx("h1",{style:{fontSize:"32px",color:"#f2f4f3",marginBottom:"12px",fontFamily:'"Libre Baskerville", serif',fontWeight:"normal"},children:r?"Welcome Back":"Create Account"}),v.jsx("p",{style:{color:"rgba(138, 129, 128, 0.8)",fontFamily:'"Spectral", serif'},children:r?"Continue your nightly ritual":"Begin your journaling journey"})]}),v.jsxs("form",{onSubmit:K,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[!r&&v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",fontSize:"14px",color:"rgba(163, 149, 148, 0.7)",marginBottom:"8px",fontFamily:'"Spectral", serif'},children:"Name"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(Tm,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"rgba(74, 71, 70, 0.7)"}}),v.jsx("input",{type:"text",value:y,onChange:C=>p(C.target.value),required:!r,style:{width:"100%",background:"#1a1817",border:"1px solid rgba(74, 71, 70, 0.6)",borderRadius:"4px",paddingLeft:"48px",paddingRight:"12px",paddingTop:"12px",paddingBottom:"12px",color:"#f2f4f3",fontFamily:'"Spectral", serif',transition:"border-color 0.2s ease"},onFocus:C=>{const D=C.currentTarget;D.style.borderColor="rgba(163, 149, 148, 0.7)"},onBlur:C=>{const D=C.currentTarget;D.style.borderColor="rgba(74, 71, 70, 0.6)"},placeholder:"Your name"})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",fontSize:"14px",color:"rgba(163, 149, 148, 0.7)",marginBottom:"8px",fontFamily:'"Spectral", serif'},children:"Email"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(hm,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"rgba(74, 71, 70, 0.7)"}}),v.jsx("input",{type:"email",value:c,onChange:C=>d(C.target.value),required:!0,style:{width:"100%",background:"#1a1817",border:"1px solid rgba(74, 71, 70, 0.6)",borderRadius:"4px",paddingLeft:"48px",paddingRight:"12px",paddingTop:"12px",paddingBottom:"12px",color:"#f2f4f3",fontFamily:'"Spectral", serif',transition:"border-color 0.2s ease"},onFocus:C=>{const D=C.currentTarget;D.style.borderColor="rgba(163, 149, 148, 0.7)"},onBlur:C=>{const D=C.currentTarget;D.style.borderColor="rgba(74, 71, 70, 0.6)"},placeholder:"your@email.com"})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",fontSize:"14px",color:"rgba(163, 149, 148, 0.7)",marginBottom:"8px",fontFamily:'"Spectral", serif'},children:"Password"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(cm,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"rgba(74, 71, 70, 0.7)"}}),v.jsx("input",{type:"password",value:h,onChange:C=>g(C.target.value),required:!0,style:{width:"100%",background:"#1a1817",border:"1px solid rgba(74, 71, 70, 0.6)",borderRadius:"4px",paddingLeft:"48px",paddingRight:"12px",paddingTop:"12px",paddingBottom:"12px",color:"#f2f4f3",fontFamily:'"Spectral", serif',transition:"border-color 0.2s ease"},onFocus:C=>{const D=C.currentTarget;D.style.borderColor="rgba(163, 149, 148, 0.7)"},onBlur:C=>{const D=C.currentTarget;D.style.borderColor="rgba(74, 71, 70, 0.6)"},placeholder:""})]}),!r&&h&&v.jsx("div",{style:{marginTop:"12px"},children:(()=>{const C=r0(h),D=({label:Y,met:Z})=>v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",marginBottom:"6px"},children:[Z?v.jsx(Hg,{style:{width:"16px",height:"16px",color:"rgba(74, 222, 128, 0.8)",flexShrink:0}}):v.jsx(hi,{style:{width:"16px",height:"16px",color:"rgba(239, 68, 68, 0.6)",flexShrink:0}}),v.jsx("span",{style:{color:Z?"rgba(74, 222, 128, 0.8)":"rgba(168, 162, 158, 0.6)"},children:Y})]});return v.jsxs(v.Fragment,{children:[v.jsx(D,{label:"At least 12 characters",met:C.length}),v.jsx(D,{label:"One uppercase letter (A-Z)",met:C.uppercase}),v.jsx(D,{label:"One lowercase letter (a-z)",met:C.lowercase}),v.jsx(D,{label:"One number (0-9)",met:C.number}),v.jsx(D,{label:"One special character (!@#$%^&*)",met:C.special})]})})()})]}),x&&v.jsx("div",{style:{background:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"4px",padding:"12px 16px"},children:v.jsx("p",{style:{fontSize:"14px",color:"#ff6b6b",margin:0},children:x})}),v.jsx("button",{type:"submit",disabled:T||!r&&!or(h),style:{width:"100%",background:"transparent",border:"1px solid rgba(74, 71, 70, 0.6)",color:"#f2f4f3",padding:"12px",borderRadius:"4px",cursor:T||!r&&!or(h)?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:T||!r&&!or(h)?.5:1,fontFamily:'"Libre Baskerville", serif',fontSize:"14px"},onMouseEnter:C=>{if(!T&&(r||or(h))){const D=C.currentTarget;D.style.background="#1a1817"}},onMouseLeave:C=>{const D=C.currentTarget;D.style.background="transparent"},children:T?"Processing...":r?"Sign In":"Create Account"})]}),v.jsx("div",{style:{marginTop:"32px",textAlign:"center"},children:v.jsx("button",{onClick:()=>{s(!r),w("")},style:{color:"rgba(163, 149, 148, 0.7)",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease",fontSize:"14px",fontFamily:'"Spectral", serif'},onMouseEnter:C=>{const D=C.currentTarget;D.style.color="#f2f4f3"},onMouseLeave:C=>{const D=C.currentTarget;D.style.color="rgba(163, 149, 148, 0.7)"},children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})}),v.jsxs("div",{style:{marginTop:"48px",display:"flex",justifyContent:"center",gap:"8px"},children:[v.jsx("div",{style:{width:"4px",height:"4px",background:"rgba(74, 71, 70, 0.6)",borderRadius:"50%"}}),v.jsx("div",{style:{width:"4px",height:"4px",background:"rgba(74, 71, 70, 0.6)",borderRadius:"50%"}}),v.jsx("div",{style:{width:"4px",height:"4px",background:"rgba(74, 71, 70, 0.6)",borderRadius:"50%"}})]})]})]})]})}function x1(){const[l,a]=W.useState("landing"),[r,s]=W.useState(null),[c,d]=W.useState(null),[h,g]=W.useState(null);W.useEffect(()=>{console.log("App mounted, initializing auth..."),_r.auth.getSession().then(({data:{session:T}})=>{console.log("Session check complete:",!!T),T?.user&&(s(T.user.id),d(T.user.email||null),g(T.access_token))}).catch(T=>{console.error("Error getting session:",T)});const{data:{subscription:w}}=_r.auth.onAuthStateChange((T,O)=>{O?.user?(s(O.user.id),d(O.user.email||null),g(O.access_token)):(s(null),d(null),g(null))});return()=>w.unsubscribe()},[]);const y=(w,T,O)=>{s(w),d(T),g(O),a("landing")},p=()=>{s(null),d(null),g(null),a("landing")},x=()=>{a(r?"session":"auth")};return v.jsxs("div",{style:{minHeight:"100%",display:"flex",flexDirection:"column"},children:[r&&l==="landing"&&v.jsxs("button",{onClick:p,style:{position:"fixed",bottom:24,right:24,fontSize:14,color:"rgba(242,244,243,0.4)",background:"transparent",border:"none",cursor:"pointer",zIndex:50},children:["Sign Out (",c,")"]}),"      ",l==="landing"&&v.jsx(zm,{onStart:x}),l==="auth"&&v.jsx(S1,{onAuthSuccess:y,onBack:()=>a("landing")}),l==="session"&&r&&h&&v.jsx(w1,{onEnd:()=>a("landing"),userId:r,accessToken:h})]})}window.addEventListener("error",l=>{console.error("Global error:",l.error)});const l0=document.getElementById("root");if(!l0)throw console.error("Root element not found!"),new Error("Root element not found");console.log("Mounting React app...");Hp.createRoot(l0).render(v.jsx(Dp.StrictMode,{children:v.jsx(x1,{})}));
